(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{150:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/example-clicking.f7137e63.gif"},163:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(13),i=n(0),r=n(21),s=n.n(r),d=(n(150),n(23)),c=n(11),l=n(35),h=n(20),u=n(10);function p(){var e=Object(c.a)(["\n  mutation loginUser($username: String!, $password: String!) {\n    tokenAuth(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return p=function(){return e},e}function m(){var e=Object(c.a)(["\n  mutation createUser($username: String!, $password: String!) {\n    createUser(username: $username, password: $password) {\n      user {\n        id\n      }\n    }\n  }\n"]);return m=function(){return e},e}function y(){var e=Object(c.a)(["\n  query getUser($id: ID!) {\n    user(id: $id) {\n      id\n      username\n      poemsWrittenCount\n      dateJoined\n    }\n  }\n"]);return y=function(){return e},e}function x(){var e=Object(c.a)(["\n  query getCurrentUser {\n    current {\n      id\n      username\n    }\n  }\n"]);return x=function(){return e},e}function b(){var e=Object(c.a)(["\n  mutation deletePoem($id: ID!) {\n    deletePoem(id: $id) {\n      id\n    }\n  }\n"]);return b=function(){return e},e}function g(){var e=Object(c.a)(["\n  mutation updatePoem(\n    $textChunks: [InputTextChunkType]!\n    $id: ID!\n    $backgroundId: Int\n    $colorRange: Int\n  ) {\n    updatePoem(\n      textChunks: $textChunks\n      id: $id\n      backgroundId: $backgroundId\n      colorRange: $colorRange\n    ) {\n      poem {\n        ...PoemDetails\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function k(){var e=Object(c.a)(["\n  mutation createPoem(\n    $textChunks: [InputTextChunkType]!\n    $bookId: ID!\n    $startIdx: Int\n  ) {\n    createPoem(textChunks: $textChunks, bookId: $bookId, startIdx: $startIdx) {\n      poem {\n        ...PoemDetails\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function f(){var e=Object(c.a)(["\n  query getPoemsByAuthor($authorId: ID, $offset: Int, $limit: Int) {\n    poemPages(authorId: $authorId, offset: $offset, limit: $limit) {\n      edges {\n        ...PoemDetails\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function T(){var e=Object(c.a)(["\n  query getPoems($offset: Int, $limit: Int) {\n    poemPages(offset: $offset, limit: $limit) {\n      edges {\n        ...PoemDetails\n      }\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function _(){var e=Object(c.a)(["\n  query getSinglePoem($id: ID!) {\n    poem(id: $id) {\n      ...PoemDetails\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function w(){var e=Object(c.a)(["\n  query getRandomBook {\n    randomBook {\n      id\n      title\n      text\n      startIdx\n    }\n  }\n"]);return w=function(){return e},e}function j(){var e=Object(c.a)(["\n  fragment PoemDetails on PoemType {\n    id\n    backgroundId\n    colorRange\n    createdAt\n    updatedAt\n    author {\n      id\n      username\n    }\n    book {\n      id\n      title\n    }\n    textChunks {\n      text\n      isSelected\n    }\n  }\n"]);return j=function(){return e},e}var v=Object(u.gql)(j()),C=Object(u.gql)(w());var S=Object(u.gql)(_(),v);function O(e){return u.useQuery(S,e)}var I=Object(u.gql)(T(),v);var P=Object(u.gql)(f(),v);var A=Object(u.gql)(k(),v);var B=Object(u.gql)(g(),v);var N=Object(u.gql)(b());var L=Object(u.gql)(x());function z(e){return u.useQuery(L,e)}var M=Object(u.gql)(y());var U=Object(u.gql)(m());var R=Object(u.gql)(p());var W=n(46),H=n(190);function D(e){var t=e.cache,n=e.arg,a=e.updateData,i=t.readQuery(n);if(i){var r=a(i);t.writeQuery(Object(o.a)(Object(o.a)({},n),{},{data:r}))}}function q(e){var t,n,o=e.authorId,i=e.poemId,r=z().data,s=(null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.id)===o,d=(n={variables:{id:i},update:function(e,t){var n=t.data.deletePoem.id,a=function(e){return Object(W.a)(e,(function(e){var t=e.poemPages.edges.findIndex((function(e){return e.id===n}));e.poemPages.edges.splice(t,1)}))};D({cache:e,arg:{query:I,variables:{limit:10}},updateData:a}),D({cache:e,arg:{query:P,variables:{limit:10,authorId:o}},updateData:a})}},u.useMutation(N,n)),c=Object(l.a)(d,1)[0];return Object(a.jsx)("span",{className:"delete-edit-links",children:s&&Object(a.jsxs)("span",{children:[Object(a.jsx)(H.a,{onClick:function(){return window.confirm("Are you sure you want to delete your poem?")&&c()},children:"delete"})," / ",Object(a.jsx)(h.b,{to:"/edit/write/".concat(i),children:"edit"})]})})}var $=n(22),E=5,G=15,K=250,Z=1200,Q=16,F=26,J=120,V="425px",Y="768px",X="#bbb",ee="#333",te="#e0e0e0",ne="#757575",ae="#212121";function oe(){var e=Object(c.a)(["\n  width: ","px;\n  &.close-up {\n    width: ","px;\n  }\n  text-align: right;\n  position: relative;\n  z-index: 20;\n  background: black;\n\n  .delete-edit-links {\n    float: left;\n  }\n"]);return oe=function(){return e},e}var ie=$.a.div(oe(),K,2*K);function re(e){var t=e.authorId,n=e.poemId;return Object(a.jsxs)(ie,{className:"poem-header",children:[Object(a.jsx)(q,Object(o.a)({},{authorId:t,poemId:n})),n&&Object(a.jsx)(h.b,{to:"/poem/".concat(n),"data-cy":"view-close-up-poem",children:"view"})]})}var se=n.p+"static/media/paper-rect-contrast.e66685ca.jpg",de=n.p+"static/media/tree-bark.32958e04.jpg",ce=n.p+"static/media/contemporary_china_small.de76a51e.png",le=n.p+"static/media/f0c4457.f1a0d7a4.jpg",he=n.p+"static/media/maxresdefault.4be2421c.jpg",ue=n.p+"static/media/blueTile.b092c647.jpg",pe=n.p+"static/media/life_original_wild_urban_shells_abstract_texture_love-572258.16701eac.jpg",me=n.p+"static/media/paintingCracks.aef5b50c.jpg",ye=n.p+"static/media/Alcala_lg.fae98355.jpg",xe=n.p+"static/media/map2.3c916e96.jpg",be=n.p+"static/media/paperInverted.60927562.jpg",ge=n.p+"static/media/paperContrast.d0935fda.jpg",ke=n.p+"static/media/triangles-123.3dd0203b.jpg",fe=n.p+"static/media/1_mU0yXR99Bg91S1ACSyPq_w.1960b2a2.jpg",Te=n.p+"static/media/waves.1e03dd53.jpg",_e=n.p+"static/media/electronic.874e57d2.jpg";function we(){var e=Object(c.a)(["\n  font-size: ","px;\n  ",";\n  &.close-up {\n    margin: auto;\n    display: block;\n    width: ","px;\n    font-size: ","px;\n    .background-img {\n      width: ","px;\n      height: ","px;\n    }\n    .poem-header, .poem-footer {\n      font-size: ","px;\n    }\n  }\n  .poem-header, .poem-text, .poem-footer {\n    padding-left: .5em;\n    padding-right: .5em;\n  }\n  .poem-header, .poem-footer {\n    width: 100%;\n    background: rgba(0, 0, 0, 0);\n    color: ",";\n    font-size: ","px;\n    a {\n      color: ",";\n      &:hover {\n        color: white;\n      }\n    }\n  }\n  width: ",'px;\n  margin: 1em;\n  display: inline-block;\n  vertical-align: text-top;\n  text-align: center;\n  position: relative; /* for absolute overflow styles */\n  overflow: hidden;\n\n  .background-img {\n    content: "";\n    background: url(',");\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    z-index: -10;\n    top: 0;\n    left: 0;\n  }\n\n  .is-selected {\n    position: relative; /* for zindex */\n    background: yellow;\n  }\n  .not-selected {\n    color: rgba(0, 0, 0, 0.2);\n  }\n\n  /* @include mobile {\n    width: 100%;\n  } */\n\n  &.style-1 {\n    .background-img {\n      background: url(",");\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0.1);\n      text-shadow: "," 0 0 0.2em;\n    }\n    .is-selected {\n      text-shadow: black 1px 1px 1px;\n      background: none;\n    }\n  }\n\n  &.style-2 {\n    .background-img {\n      background: url(",");\n    }\n    .not-selected {\n      opacity: 0;\n    }\n    .is-selected {\n      background: none;\n    }\n  }\n\n  &.style-3 {\n    .background-img {\n      background: url(",');\n    }\n    .not-selected {\n      opacity: .2;\n    }\n    .is-selected {\n      background: none;\n      color: white;\n    }\n  }\n\n  &.style-4 {\n    background: white;\n    .is-selected {\n      background: pink;\n      &:before {\n        content: "";\n        position: absolute;\n        height: 1.2em;\n        width: 1000px;\n        border: .2em solid;\n        margin: -.1em;\n        margin-left: -.3em;\n        z-index: 11;\n      }\n    }\n  }\n\n  &.style-5 {\n    .background-img {\n      background: white;\n    }\n    .not-selected {\n      color: black;\n      border-top: solid 0.1em;\n      border-bottom: solid 0.1em;\n      text-decoration: line-through;\n    }\n    .is-selected {\n      background: white;\n      padding: ',"px ","px;\n      margin: ","px;\n      box-shadow: black 0.2em 0.2em 0;\n    }\n  }\n\n  &.style-6 {\n    .not-selected {\n      background: rgba(0,0,0, .75);\n    }\n    .is_selected {\n      background: white !important;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-7 {\n    .background-img {\n      background: url(",");\n      background-size: 20%;\n    }\n    .is-selected {\n      background: none !important;\n      text-shadow: black 0.05em 0.02em 0;\n    }\n  }\n\n  &.style-8 {\n    .background-img {\n      background: url(",");\n    }\n    .is-selected {\n      color: white;\n      background: red;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-9 {\n    .background-img {\n      background: url(",");\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #3e144c;\n      color: #cccbbf;\n      padding: ","px ","px;\n      margin: ","px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-10 {\n    .background-img {\n      background: url(",");\n      background-size: 100%;\n    }\n    .not-selected {\n      color: rgba(255, 255, 255, .2);\n    }\n    .is-selected {\n      background: none;\n      color: white;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-11 {\n    .background-img {\n      background: url(",");\n      background-size: 50%;\n\n    }\n    .is-selected {\n      background: #100000;\n      color: #cccbbf;\n      padding: ","px ","px;\n      margin: ","px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-12 {\n    .background-img {\n      background: url(",");\n      background-size: 80%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: #0091ae;\n      color: #e7b8bc;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-13 {\n    .background-img {\n      background: url(",");\n      background-size: 120%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: none;\n      color: white;\n      padding: ","px ","px;\n      margin: ","px;\n      text-shadow: white 1px 1px 1px;\n    }\n  }\n\n  &.style-14 {\n    .background-img {\n      background: url(",");\n      background-size: 20%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: #37517a;\n      color: white;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-15 {\n    .background-img {\n      background: url(",");\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #2c3c4e;\n      color: #cccbbf;\n      padding: ","px ","px;\n      margin: ","px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-16 {\n    .background-img {\n      background: url(",");\n      background-repeat: repeat-y;\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #f7ffa9;\n      color: #499991;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-17 {\n    .background-img {\n      background: url(",");\n      background-repeat: repeat-y;\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #380b1c;\n      color: #d2d4d1;\n      padding: ","px ","px;\n      margin: ",'px;\n    }\n  }\n\n  &.style-18 {\n    .background-img {\n      background: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjAiIGhlaWdodD0iMzAiPgo8ZGVmcz4KPHJlY3QgaWQ9InIiIHdpZHRoPSIzMCIgaGVpZ2h0PSIxNSIgZmlsbD0iI2JiMDg1ZiIgc3Ryb2tlLXdpZHRoPSIyLjUiIHN0cm9rZT0iIzdhMDU0ZCI+PC9yZWN0Pgo8ZyBpZD0icCI+Cjx1c2UgeGxpbms6aHJlZj0iI3IiPjwvdXNlPgo8dXNlIHk9IjE1IiB4bGluazpocmVmPSIjciI+PC91c2U+Cjx1c2UgeT0iMzAiIHhsaW5rOmhyZWY9IiNyIj48L3VzZT4KPHVzZSB5PSI0NSIgeGxpbms6aHJlZj0iI3IiPjwvdXNlPgo8L2c+CjwvZGVmcz4KPHVzZSB4bGluazpocmVmPSIjcCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMjUpIHNrZXdZKDQwKSI+PC91c2U+Cjx1c2UgeGxpbms6aHJlZj0iI3AiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwIDApIHNrZXdZKC00MCkiPjwvdXNlPgo8L3N2Zz4=");\n      background-size: 100%;\n    }\n    .is-selected {\n      background: white;\n      color: black;\n      padding: ',"em ","em;\n      margin: ","em ","em;\n      .text {\n        z-index: 11;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-19 {\n    .background-img {\n      background: url(",");\n      background-position-x: 60%;\n      background-position-y: 70%;\n    }\n    .is-selected {\n      background: black;\n      padding: 5px 15px;\n      margin: -15px;\n      color: #61c098;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-20 {\n  .background-img {\n    background: url(",");\n    background-size: 100%;\n  }\n  .not-selected {\n    color: rgba(0, 0, 0, 0);\n  }\n  .is-selected {\n    background: white;\n    color: #008308;\n    padding: 0 ","px;\n    margin: 0 ","px;\n  }\n"]);return we=function(){return e},e}function je(){var e=Object(c.a)(['\n  line-height: 1em;\n  height: 30em; /* 30 lines */\n  overflow: hidden;\n  font-family: "Garamond", serif;\n  font-weight: 400;\n  padding-bottom: 0.3em;\n  padding-top: 1.5em;\n  padding-bottom: 1.5em;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n']);return je=function(){return e},e}for(var ve=$.a.div(je()),Ce="",Se=0;Se<36;)Se++,Ce+="\n    &.color-".concat(Se," .background-img, &.color-").concat(Se," .poem-text {\n      filter: hue-rotate(").concat(10*Se,"deg);\n    }\n  ");var Oe=$.a.div(we(),Q-1,Ce,2*K,2*Q,2*K,2*Z,1.5*Q,X,Q,ne,K-14,se,K,Z,ge,te,ge,be,E,E,-E,E,G,-G,ce,de,E,G,-G,me,E,G,-G,le,E,G,-G,Te,E,G,-G,fe,E,G,-G,he,E,G,-G,ue,E,G,-G,pe,E,G,-G,ke,E,G,-G,ye,E,G,-G,.1,.3,-.1,-.3,xe,E,G,-G,_e,E,-E),Ie=function(e){var t=e.isSelected,n=e.text;return Object(a.jsx)("span",{className:t?"is-selected":"not-selected",children:Object(a.jsx)("span",{className:"text",children:n})})};function Pe(e){var t=e.textChunks;return Object(a.jsx)(ve,{className:"poem-text",children:t&&t.map((function(e,t){return Object(a.jsx)(Ie,Object(o.a)({},e),t)}))})}var Ae=function(e){var t=e.username,n=e.userId;return Object(a.jsx)("div",{className:"username","data-cy":"usernameLink",children:Object(a.jsx)(h.b,{to:"/user/".concat(n),children:t})})};function Be(e){var t=e.authorUsername,n=e.authorId;return Object(a.jsx)("div",{className:"poem-footer",children:Object(a.jsx)(Ae,{userId:n,username:t})})}function Ne(){var e=Object(c.a)(['\n  display: inline-block;\n  width: 64px;\n  height: 64px;\n  &:after {\n    content: " ";\n    display: block;\n    width: 46px;\n    height: 46px;\n    margin: 1px;\n    border-radius: 50%;\n    border: 5px solid ',";\n    border-color: "," transparent\n      "," transparent;\n    animation: lds-dual-ring 1.2s linear infinite;\n  }\n  @keyframes lds-dual-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return Ne=function(){return e},e}var Le=$.a.div(Ne(),(function(e){return e.color||"#fff"}),(function(e){return e.color||"#fff"}),(function(e){return e.color||"#fff"})),ze=n(56),Me=n(57),Ue=n(60),Re=n(59),We=function(e){Object(Ue.a)(n,e);var t=Object(Re.a)(n);function n(e){var a;return Object(ze.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(Me.a)(n,[{key:"componentDidCatch",value:function(e,t){console.warn(e,t)}},{key:"render",value:function(){return this.state.hasError?Object(a.jsx)("p",{style:{textAlign:"center",margin:50},children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(i.PureComponent);function He(e){var t=e.poem;if(!t)return Object(a.jsx)("div",{className:"poem",children:Object(a.jsx)(Le,{color:"black"})});var n=t.id,o=t.backgroundId,i=t.colorRange,r=t.textChunks,s=t.author;return s.id?Object(a.jsx)(We,{children:Object(a.jsxs)(Oe,{className:"poem style-".concat(o," color-").concat(i," ").concat(e.closeUp?"close-up":""),"data-test":"poem".concat(n),"data-cy":"poem",children:[Object(a.jsx)("div",{className:"background-img"}),Object(a.jsx)(re,{poemId:n,authorId:s.id}),Object(a.jsx)(Pe,{textChunks:r}),Object(a.jsx)(Be,{authorUsername:s.username,authorId:s.id})]})}):null}function De(){var e=Object(c.a)(["\n  .close-up-poem-view {\n    text-align: center;\n    width: ",";\n    margin: auto;\n    text-align: center;\n    .poem {\n      margin: 0;\n      width: ",";\n    }\n  }\n  .help-image {\n    background: url(",");\n    width: 100px;\n    height: 100px;\n  }\n"]);return De=function(){return e},e}var qe=n(160),$e=$.a.div(De(),2*K,2*K,qe);function Ee(){var e=O({variables:{id:Object(d.h)().id}}).data;return(null===e||void 0===e?void 0:e.poem)?Object(a.jsx)($e,{style:{marginTop:50},children:Object(a.jsx)(He,{poem:e.poem,closeUp:!0})}):Object(a.jsx)(Le,{color:"black"})}var Ge=n(134),Ke=n(129),Ze=n.n(Ke);function Qe(){var e=Object(c.a)(["\n  margin: auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(","px, 1fr));\n  grid-gap: 10px;\n  > div {\n    text-align: center;\n    margin-left: -2rem;\n    margin-right: -2rem;\n  }\n"]);return Qe=function(){return e},e}function Fe(){var e=Object(c.a)(["\n  width: ","px;\n  height: 450px;\n  margin: 16px;\n  background: #ddd;\n  display: inline-block;\n"]);return Fe=function(){return e},e}$.a.div(Fe(),K);var Je=$.a.div(Qe(),K);function Ve(e){var t=e.poems,n=e.fetchMore;return Object(a.jsx)(Je,{children:Object(a.jsx)(Ze.a,{loadMore:function(e){return n({variables:{offset:10*e,limit:10},updateQuery:function(e,t){var n=t.fetchMoreResult;return Object(W.a)(e,(function(e){var t;(t=e.poemPages.edges).push.apply(t,Object(Ge.a)(n.poemPages.edges))}))}})},hasMore:!(t.edges.length%10),loader:Object(a.jsx)(Le,{}),children:t&&t.edges.map((function(e){return Object(a.jsx)(He,{poem:e},e.id)}))})})}var Ye={poemPages:{edges:[{id:"421",backgroundId:7,colorRange:29,createdAt:"2016-04-26T15:20:32.849997+00:00",updatedAt:"2016-04-26T15:20:32.849997+00:00",author:{id:"30",username:"blankMo",__typename:"UserType"},book:{id:"2",title:"Heart of Darkness",__typename:"BookType"},textChunks:[{text:"nto the patient wilderness, that closed upon it as the sea closes over a diver. Long afterwards the news came that ",isSelected:!1,__typename:"TextChunkType"},{text:"all the donkeys ",isSelected:!0,__typename:"TextChunkType"},{text:"were dead. I know nothing as to the fate of the less valuable animals. They, no doubt, like the rest of us, found what they deserved. I did not inquire. I was then rather excited at the prospect of meeting Kurtz very soon. When I say very soon I mean it comparatively. It was just two months from the day we left the creek when we came to the bank below Kurtz's station. \"Going up that river was like traveling back to the earliest beginnings of the world, when vegetation rioted on the earth and the big trees were kings. An empty stream, a great silence, an impenetrable forest. The air was warm, thick, heavy, sluggish. There was no joy in the brilliance of sunshine. The long stretches of the waterway ran on, deserted, into the gloom of overshadowed distances. On silvery sandbanks hippos and alligators sunned themselves side by side. The broadening waters flowed ",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"420",backgroundId:13,colorRange:0,createdAt:"2016-04-26T05:37:32.723035+00:00",updatedAt:"2016-04-26T05:37:32.723035+00:00",author:{id:"2",username:"tracy",__typename:"UserType"},book:{id:"2",title:"Heart of Darkness",__typename:"BookType"},textChunks:[{text:"turn himself, the station being by that time bare of goods and stores, but after coming three hundred miles, had ",isSelected:!1,__typename:"TextChunkType"},{text:"suddenly ",isSelected:!0,__typename:"TextChunkType"},{text:"decided to go back, which he started to do alone in a small dug-out with four paddlers, ",isSelected:!1,__typename:"TextChunkType"},{text:"leaving ",isSelected:!0,__typename:"TextChunkType"},{text:"the half-caste to continue down the river with the ivory. The two fellows there seemed astounded at anybody attempting ",isSelected:!1,__typename:"TextChunkType"},{text:"such a thing",isSelected:!0,__typename:"TextChunkType"},{text:". They were at a loss for an adequate motive. ",isSelected:!1,__typename:"TextChunkType"},{text:"As ",isSelected:!0,__typename:"TextChunkType"},{text:"to me, I seemed to see Kurtz for the first time. It was a distinct glimpse: the dug-out, four paddling savages, and the lone white man turning his back suddenly on the headquarters, on relief, on ",isSelected:!1,__typename:"TextChunkType"},{text:"th",isSelected:!0,__typename:"TextChunkType"},{text:"oughts of home--perhaps; setting h",isSelected:!1,__typename:"TextChunkType"},{text:"is",isSelected:!0,__typename:"TextChunkType"},{text:" face towards the depths of the wilderness, towards his empty and ",isSelected:!1,__typename:"TextChunkType"},{text:"desolate station. ",isSelected:!0,__typename:"TextChunkType"},{text:"I did not know the motive. Perhaps he was just simply a fine fellow who stuck to his work for its own sake. His name, you understand, had not been pronounced once. He was 'that man.' The half-caste, who, as far as I could see, had conducted a difficult trip with great prudence and plu",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"419",backgroundId:8,colorRange:34,createdAt:"2016-04-24T21:34:41.629795+00:00",updatedAt:"2016-04-24T21:34:41.629795+00:00",author:{id:"54",username:"rainbow",__typename:"UserType"},book:{id:"10",title:"North and South",__typename:"BookType"},textChunks:[{text:"n't that do?'  'I dare say it will. But the papers. What taste! And the overloading such a house with colour and ",isSelected:!1,__typename:"TextChunkType"},{text:"such heavy ",isSelected:!0,__typename:"TextChunkType"},{text:"cornices!'  'Never mind, papa! Surely, you can charm the landlord into re-papering one or two of the rooms--the drawing-room and your bed-room--for mamma will come most in contact with them; and your book-shelves will hide a great deal of that gaudy pattern in the dining-room.'  'Then you think it the best? If so, I had better go at once and call on this Mr. Donkin, to whom the advertisement refers me. I will take you back to the hotel, where you can order lunch, and rest, and by the time it is ready, I shall be with you. I ",isSelected:!1,__typename:"TextChunkType"},{text:"hope ",isSelected:!0,__typename:"TextChunkType"},{text:"I shall be able to get new papers.'  Margaret hoped so too, though she said nothing. She had never come fairly in contact with the taste that loves ornament, however bad, more than the plainness and simplicity which are of themselves the framework of elegance. Her father took her through the entrance of the hotel, and leaving her at the foo",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"418",backgroundId:6,colorRange:19,createdAt:"2016-04-24T21:33:32.317288+00:00",updatedAt:"2016-04-24T21:33:32.317288+00:00",author:{id:"54",username:"rainbow",__typename:"UserType"},book:{id:"11",title:"Pride and Prejudice",__typename:"BookType"},textChunks:[{text:"aughty, reserved, and fastidious, and his manners, though well-bred, were ",isSelected:!1,__typename:"TextChunkType"},{text:"not ",isSelected:!0,__typename:"TextChunkType"},{text:"inviting. In that respect his friend had greatly the advantage. Bingley was ",isSelected:!1,__typename:"TextChunkType"},{text:"sure of ",isSelected:!0,__typename:"TextChunkType"},{text:"being liked wherever he appeared, Darcy was continually ",isSelected:!1,__typename:"TextChunkType"},{text:"giving ",isSelected:!0,__typename:"TextChunkType"},{text:"offense. The manner in which they spoke of the Meryton assembly was ",isSelected:!1,__typename:"TextChunkType"},{text:"sufficient",isSelected:!0,__typename:"TextChunkType"},{text:"ly characteristic. Bingley had never met with more pleasant people or prettier girls in his life; everybody had been most kind and attentive to him; there had been no formality, no stiffness; he had soon felt acquainted with all the room; and, as to Miss Bennet, he could not conceive an angel more beautiful. Darcy, on the contrary, had seen a collection of people in whom there was little beauty and no fashion, for none of whom he had felt the smallest ",isSelected:!1,__typename:"TextChunkType"},{text:"interest, ",isSelected:!0,__typename:"TextChunkType"},{text:"and from none received either attention or pleasure. Miss Bennet ",isSelected:!1,__typename:"TextChunkType"},{text:"he acknowledged ",isSelected:!0,__typename:"TextChunkType"},{text:"to be pretty, but she smiled too much. Mrs. Hurst and her sister allowed it to be so--but still they admired her and liked ",isSelected:!1,__typename:"TextChunkType"},{text:"her, ",isSelected:!0,__typename:"TextChunkType"},{text:"and pronounced her to b",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"417",backgroundId:2,colorRange:0,createdAt:"2016-04-23T19:32:35.067325+00:00",updatedAt:"2016-04-23T19:32:35.067325+00:00",author:{id:"7",username:"Guest",__typename:"UserType"},book:{id:"12",title:"Alice's Adventures in Wonderland",__typename:"BookType"},textChunks:[{text:"et away without being seen, when she noticed a ",isSelected:!1,__typename:"TextChunkType"},{text:"curious ",isSelected:!0,__typename:"TextChunkType"},{text:"appearance in the air: it puzzled her very much at first, but, after watching it a minute or two, she made it out to be a grin, and she said to herself 'It's the Cheshire ",isSelected:!1,__typename:"TextChunkType"},{text:"Cat: ",isSelected:!0,__typename:"TextChunkType"},{text:"now I shall have somebody to talk to.'  'How are you getting on?' said the Cat, as soon as there ",isSelected:!1,__typename:"TextChunkType"},{text:"was ",isSelected:!0,__typename:"TextChunkType"},{text:"mouth enough for it to speak with.  Alice waited till the eyes appeared, and then nodded. 'It's no use ",isSelected:!1,__typename:"TextChunkType"},{text:"speaking ",isSelected:!0,__typename:"TextChunkType"},{text:"to it,' she thought, ",isSelected:!1,__typename:"TextChunkType"},{text:"'till ",isSelected:!0,__typename:"TextChunkType"},{text:"its ears have come, or at least one of them.' In another minute the whole head appeared, and then Alice put down her ",isSelected:!1,__typename:"TextChunkType"},{text:"flamingo, ",isSelected:!0,__typename:"TextChunkType"},{text:"and ",isSelected:!1,__typename:"TextChunkType"},{text:"began ",isSelected:!0,__typename:"TextChunkType"},{text:"an account of the game, feeling very glad she had someone to listen to her. The Cat seemed to think that there was enough of it now in sight, and no more of it appeared.  'I don't think they play at all fairly,' Alice began, in rather a ",isSelected:!1,__typename:"TextChunkType"},{text:"complaining ",isSelected:!0,__typename:"TextChunkType"},{text:"tone, 'and they all quarrel so dreadfully one can't hear oneself speak--and they don't seem to have any rules in particular; at least, if there ",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"414",backgroundId:7,colorRange:10,createdAt:"2016-04-23T19:20:14.110247+00:00",updatedAt:"2016-04-23T19:20:14.110247+00:00",author:{id:"7",username:"Guest",__typename:"UserType"},book:{id:"8",title:"Autobiography of Benjamin Franklin",__typename:"BookType"},textChunks:[{text:"nciples of my pamphlet, which to him appear'd abominable. My printing this pamphlet was another erratum.  While I lodg'd in Little Britain, I made an acquaintance with one Wilcox, a bookseller, whose shop was at the next door. He had an ",isSelected:!1,__typename:"TextChunkType"},{text:"immense ",isSelected:!0,__typename:"TextChunkType"},{text:"collection of second-hand books. Circulating libraries were not then in use; but we agreed that, on certain reasonable terms, which I have now forgotten, I might take, read, and return any of his ",isSelected:!1,__typename:"TextChunkType"},{text:"books. ",isSelected:!0,__typename:"TextChunkType"},{text:"This I esteem'd a great advantage, and I ",isSelected:!1,__typename:"TextChunkType"},{text:"made ",isSelected:!0,__typename:"TextChunkType"},{text:"as much use of it as I could.  ",isSelected:!1,__typename:"TextChunkType"},{text:"My ",isSelected:!0,__typename:"TextChunkType"},{text:'pamphlet by some means falling into the hands of one Lyons, a surgeon, author of a book entitled "The Infallibility of Human Judgment," it occasioned an acquaintance between us. He took great notice of me, called on me often to converse on those subjects, carried me to the Horns, a pale alehouse in----Lane, Cheapside, and introduced me to Dr. Mandeville, author of the "Fable of the Bees," who had a club there, of which he was the ',isSelected:!1,__typename:"TextChunkType"},{text:"soul, ",isSelected:!0,__typename:"TextChunkType"},{text:"being a most facetious, entertain",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"413",backgroundId:9,colorRange:5,createdAt:"2016-04-21T11:53:40.270952+00:00",updatedAt:"2016-04-21T11:53:40.270952+00:00",author:{id:"54",username:"rainbow",__typename:"UserType"},book:{id:"9",title:"Adventures of Sherlock Holmes",__typename:"BookType"},textChunks:[{text:"ness is mostly done of an evening, Mr. Holmes, ",isSelected:!1,__typename:"TextChunkType"},{text:"especially ",isSelected:!0,__typename:"TextChunkType"},{text:"Thursday and Friday evening, which is just ",isSelected:!1,__typename:"TextChunkType"},{text:"before pay-day; ",isSelected:!0,__typename:"TextChunkType"},{text:"so it would suit me very well to earn a little in the mornings. Besides, I knew that my assistant was a good man, and that he would see to anything that ",isSelected:!1,__typename:"TextChunkType"},{text:"turned up. ",isSelected:!0,__typename:"TextChunkType"},{text:"\"'That would suit me very well,' said I. 'And the pay?' \"'Is 4 pounds a week.' \"'And the work?' \"'Is purely nominal.' \"'What do you call purely nominal?' \"'Well, you have to be in the office, or at least in the building, the whole time. If you leave, you forfeit your whole position forever. The will is very clear upon that point. ",isSelected:!1,__typename:"TextChunkType"},{text:"You don't ",isSelected:!0,__typename:"TextChunkType"},{text:"comply with the conditions if you ",isSelected:!1,__typename:"TextChunkType"},{text:"budge from the ",isSelected:!0,__typename:"TextChunkType"},{text:"office during that time.' \"'It's only four hours a day, and I should not think of leaving,' said I. \"'No ",isSelected:!1,__typename:"TextChunkType"},{text:"excuse ",isSelected:!0,__typename:"TextChunkType"},{text:"will avail,' said Mr. Duncan Ross; 'neither sickness nor business nor anything else. There you must stay, or you lose your billet.' \"'And the work?' \"'Is to copy out the \"Encyclopaedia Britannica.\" There is the first ",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"412",backgroundId:18,colorRange:3,createdAt:"2016-04-20T01:47:10.862783+00:00",updatedAt:"2016-04-20T01:47:10.862783+00:00",author:{id:"7",username:"Guest",__typename:"UserType"},book:{id:"4",title:"Metamorphosis",__typename:"BookType"},textChunks:[{text:"ed all over him; now, without delaying any longer, Grete took hold of all the bottles ",isSelected:!1,__typename:"TextChunkType"},{text:"she ",isSelected:!0,__typename:"TextChunkType"},{text:"could and ",isSelected:!1,__typename:"TextChunkType"},{text:"ran ",isSelected:!0,__typename:"TextChunkType"},{text:"with them in to her mother; she slammed the door shut with her foot.  So now Gregor was shut out ",isSelected:!1,__typename:"TextChunkType"},{text:"from ",isSelected:!0,__typename:"TextChunkType"},{text:"his mother, who, because of ",isSelected:!1,__typename:"TextChunkType"},{text:"him, ",isSelected:!0,__typename:"TextChunkType"},{text:"might be near to death; he could not open the door if he did not want to chase his sister away, and she had to stay with his mother; there was nothing for him to do but wait; and, oppressed with anxiety and self-reproach, he began to crawl about, he crawled over everything, walls, furniture, ceiling, and ",isSelected:!1,__typename:"TextChunkType"},{text:"finally ",isSelected:!0,__typename:"TextChunkType"},{text:"in his confusion as the whole room began to spin around him he fell down into the middle of the dinner table. He lay there for a while, numb and immobile, all around him it was quiet, maybe that was a good sign.  Then there was someone at the door.  The maid, of course, had locked herself in her kitchen so that Grete would have to go and answer it.  His father had arrived home.  \"What's happened?\" were his first words; Grete's appearance must h",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"411",backgroundId:19,colorRange:22,createdAt:"2016-04-20T01:36:48.432920+00:00",updatedAt:"2016-04-20T01:36:48.432920+00:00",author:{id:"56",username:"john_d",__typename:"UserType"},book:{id:"3",title:"The Jungle Book",__typename:"BookType"},textChunks:[{text:"he boy lay with his head on Bagheera's beautiful black skin, ",isSelected:!1,__typename:"TextChunkType"},{text:'"Little Brother, ',isSelected:!0,__typename:"TextChunkType"},{text:"how often have I told thee that Shere Khan is thy ene",isSelected:!1,__typename:"TextChunkType"},{text:"my",isSelected:!0,__typename:"TextChunkType"},{text:'?" "As many times as there are nuts on that palm," said Mowgli, who, naturally, could not count. "What of it? I am sleepy, Bagheera, and Shere Khan is all long tail and loud talk--like Mao, the Peacock." "But this is no time for sleeping. Baloo knows it; I know it; the Pack know it; and even the foolish, ',isSelected:!1,__typename:"TextChunkType"},{text:"foolish deer ",isSelected:!0,__typename:"TextChunkType"},{text:'know. Tabaqui has told thee too." "Ho! ho!" said Mowgli. "Tabaqui came to me not long ago with some rude talk that I was a naked man\'s cub and not fit to dig pig-nuts. But I caught Tabaqui by the tail and swung him twice against a palm-tree to teach him better manners." "That was foolishness, for though Tabaqui is a mischief-maker, he would have told thee of something that concerned thee closely. Open those eyes, Little Brother. Shere Khan dare not kill thee in the jungle. But remember, Akela is very old, and ',isSelected:!1,__typename:"TextChunkType"},{text:"soon the day comes ",isSelected:!0,__typename:"TextChunkType"},{text:"when he cannot ",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"409",backgroundId:7,colorRange:2,createdAt:"2016-04-19T15:35:18.737701+00:00",updatedAt:"2016-04-19T15:35:34.385521+00:00",author:{id:"56",username:"john_d",__typename:"UserType"},book:{id:"8",title:"Autobiography of Benjamin Franklin",__typename:"BookType"},textChunks:[{text:"ount lost her friends and business, was ",isSelected:!1,__typename:"TextChunkType"},{text:"often in distresses, ",isSelected:!0,__typename:"TextChunkType"},{text:"and us'd to send for me and borrow what I could spare to help her out of them. ",isSelected:!1,__typename:"TextChunkType"},{text:"I grew ",isSelected:!0,__typename:"TextChunkType"},{text:"fond of her company, and, being at that time under no religious ",isSelected:!1,__typename:"TextChunkType"},{text:"restraint, ",isSelected:!0,__typename:"TextChunkType"},{text:"and presuming upon my importance to her, I attempted familiarities (another erratum) which she repuls'd with a proper resentment, and acquainted him with my behaviour. This made a breach between us; and, when he returned again ",isSelected:!1,__typename:"TextChunkType"},{text:"to ",isSelected:!0,__typename:"TextChunkType"},{text:"London, he let me know he thought I had cancell'd all ",isSelected:!1,__typename:"TextChunkType"},{text:"the obligations ",isSelected:!0,__typename:"TextChunkType"},{text:"he had been under to me. So I found I was never to expect his repaying me what I lent to him or advanc'd for him. This, however, was not then of much consequence, as he was totally unable; and in the loss of his friendship I found myself relieved from a burthen. I now began to think of getting a little money beforehand, and, expecting better work, I left Palmer's to work at Watts's, near Lincoln's Inn Fields, a still greater printing-house.[42] Here I continued all the rest ",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"407",backgroundId:13,colorRange:13,createdAt:"2016-04-18T20:18:22.988709+00:00",updatedAt:"2016-04-18T20:18:22.988709+00:00",author:{id:"16",username:"Jenny2",__typename:"UserType"},book:{id:"12",title:"Alice's Adventures in Wonderland",__typename:"BookType"},textChunks:[{text:"ognised the White Rabbit: it was talking in a hurried nervous manner, smiling at everything that was said, and went by without noticing her. Then ",isSelected:!1,__typename:"TextChunkType"},{text:"follow",isSelected:!0,__typename:"TextChunkType"},{text:"ed ",isSelected:!1,__typename:"TextChunkType"},{text:"the ",isSelected:!0,__typename:"TextChunkType"},{text:"Knave of Hearts, carrying the King's crown on a crimson velvet cushion; and, last of all this grand procession, came THE KING AND QUEEN OF HEARTS.  Alice was rather ",isSelected:!1,__typename:"TextChunkType"},{text:"doubtful ",isSelected:!0,__typename:"TextChunkType"},{text:"whether she ought not to lie down on her face like the three gardeners, but she could not remember ever having heard of such a rule at processions; 'and besides, what would be the use of a procession,' thought she, 'if people had all to ",isSelected:!1,__typename:"TextChunkType"},{text:"lie ",isSelected:!0,__typename:"TextChunkType"},{text:"down upon their faces, ",isSelected:!1,__typename:"TextChunkType"},{text:"so that ",isSelected:!0,__typename:"TextChunkType"},{text:"they couldn't see it?' So she stood still where she was, and waited.  When the procession came opposite to Alice, they ",isSelected:!1,__typename:"TextChunkType"},{text:"all ",isSelected:!0,__typename:"TextChunkType"},{text:"stopped and ",isSelected:!1,__typename:"TextChunkType"},{text:"look",isSelected:!0,__typename:"TextChunkType"},{text:"ed at her, and the Queen said severely 'Who is this?' She said it to the Knave of Hearts, who only bowed and smiled in reply.  'Idiot!' said the Queen, tossing her head impatiently; and, turning to Alice, she went ",isSelected:!1,__typename:"TextChunkType"},{text:"on",isSelected:!0,__typename:"TextChunkType"},{text:",",isSelected:!1,__typename:"TextChunkType"},{text:" ",isSelected:!0,__typename:"TextChunkType"},{text:"'What's your name, child?'  'My name is",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"406",backgroundId:1,colorRange:14,createdAt:"2016-04-16T16:51:57.060881+00:00",updatedAt:"2016-04-16T16:51:57.060881+00:00",author:{id:"2",username:"tracy",__typename:"UserType"},book:{id:"13",title:"Frankenstein",__typename:"BookType"},textChunks:[{text:"dary and tertiary grades were utterly unknown to him.  I had gazed upon the fortifications and impediments that seemed to keep human beings from entering the citadel of nature, and rashly and ignorantly ",isSelected:!1,__typename:"TextChunkType"},{text:"I had ",isSelected:!0,__typename:"TextChunkType"},{text:"repined.  But here were books, and here were men who had penetrated deeper and knew more.  I took their word for all that they averred, and I became ",isSelected:!1,__typename:"TextChunkType"},{text:"the",isSelected:!0,__typename:"TextChunkType"},{text:"ir disciple.  It may appear ",isSelected:!1,__typename:"TextChunkType"},{text:"strange ",isSelected:!0,__typename:"TextChunkType"},{text:"that such should arise in the eighteenth century; but while I followed the routine of education in the schools of Geneva, I was, to a great degree, self-taught with regard to my favourite studies.  My father was not ",isSelected:!1,__typename:"TextChunkType"},{text:"scientific, ",isSelected:!0,__typename:"TextChunkType"},{text:"and I was left to struggle with a child's blindness, added to a student's ",isSelected:!1,__typename:"TextChunkType"},{text:"thirst ",isSelected:!0,__typename:"TextChunkType"},{text:"for knowledge.  Under the guidance of my new preceptors I entered with the greatest diligence into the search of the philosopher's stone and the elixir of life; but the latter soon obtained my undivided attention.  Wealth was an inferior object, but what glory would attend the discovery if I co",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"405",backgroundId:0,colorRange:22,createdAt:"2016-04-16T12:52:21.738766+00:00",updatedAt:"2016-04-16T12:52:21.738766+00:00",author:{id:"55",username:"kakii@grandecom.net",__typename:"UserType"},book:{id:"3",title:"The Jungle Book",__typename:"BookType"},textChunks:[{text:'yes. "Little Brother," said he, "feel under my jaw." Mowgli put up his strong brown hand, and just under Bagheera\'s silky chin, where the giant rolling muscles were ',isSelected:!1,__typename:"TextChunkType"},{text:"all ",isSelected:!0,__typename:"TextChunkType"},{text:'hid by the glossy hair, he came upon a little bald spot. "There is no one in the jungle that ',isSelected:!1,__typename:"TextChunkType"},{text:"know",isSelected:!0,__typename:"TextChunkType"},{text:"s",isSelected:!1,__typename:"TextChunkType"},{text:" ",isSelected:!0,__typename:"TextChunkType"},{text:"that I, Bagheera, carry that mark--the mark of the collar; and yet, Little Brother, I was born among men, and it was among men that my mother died--in the cages of the king's palace at Oodeypore. It was because of this that ",isSelected:!1,__typename:"TextChunkType"},{text:"I paid the price for ",isSelected:!0,__typename:"TextChunkType"},{text:"thee at the Council when thou wast a little naked cub. Yes, I too was born among men. I had never seen the jungle. They fed me behind bars from an iron pan till one night I felt that I was Bagheera--the Panther--and no man's plaything, and I broke the silly lock with one blow of my paw and came away. And because I had learned ",isSelected:!1,__typename:"TextChunkType"},{text:"the ways of ",isSelected:!0,__typename:"TextChunkType"},{text:'men, I became more terrible in the jungle than Shere Khan. Is it not so?" "Yes," said Mowgli, "all the jungle ',isSelected:!1,__typename:"TextChunkType"},{text:"fear ",isSelected:!0,__typename:"TextChunkType"},{text:'Bagheera--all except Mowgli." "Oh',isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"404",backgroundId:16,colorRange:31,createdAt:"2016-04-15T04:18:41.078645+00:00",updatedAt:"2016-04-15T04:18:41.078645+00:00",author:{id:"2",username:"tracy",__typename:"UserType"},book:{id:"13",title:"Frankenstein",__typename:"BookType"},textChunks:[{text:"iumphed over the malignity of the distemper--Elizabeth was saved, ",isSelected:!1,__typename:"TextChunkType"},{text:"but the ",isSelected:!0,__typename:"TextChunkType"},{text:"consequences of this imprudence were fatal to her preserver.  On the third day my ",isSelected:!1,__typename:"TextChunkType"},{text:"mother sickened; ",isSelected:!0,__typename:"TextChunkType"},{text:'her fever was accompanied by the most alarming symptoms, and the looks of her medical attendants prognosticated the worst event.  On her deathbed the fortitude and benignity of this best of women did not desert her.  She joined the hands of Elizabeth and myself.  "My children," she said, "',isSelected:!1,__typename:"TextChunkType"},{text:"my firmest hopes ",isSelected:!0,__typename:"TextChunkType"},{text:"of future happiness were placed on the prospect of your union.  This expectation will now be the consolation of your father.  Elizabeth, my love, you must supply my place to my younger children.  ",isSelected:!1,__typename:"TextChunkType"},{text:"Alas! ",isSelected:!0,__typename:"TextChunkType"},{text:" ",isSelected:!1,__typename:"TextChunkType"},{text:"I regret ",isSelected:!0,__typename:"TextChunkType"},{text:"that I am taken from ",isSelected:!1,__typename:"TextChunkType"},{text:"you; ",isSelected:!0,__typename:"TextChunkType"},{text:'and, happy and beloved as I have been, is it not hard to quit you all?  But these are not thoughts befitting me; I will endeavour to resign myself cheerfully to death and will indulge a hope of meeting you in another world."  She died calmly, and her countenance expressed affection ',isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"403",backgroundId:5,colorRange:26,createdAt:"2016-04-14T06:00:17.210814+00:00",updatedAt:"2016-04-14T06:14:01.222469+00:00",author:{id:"51",username:"babarooa",__typename:"UserType"},book:{id:"3",title:"The Jungle Book",__typename:"BookType"},textChunks:[{text:' Law of the Jungle, and there is no wolf of ours from whose paws I have not pulled a thorn. Surely they are my brothers!" Bagheera stretc',isSelected:!1,__typename:"TextChunkType"},{text:"he",isSelected:!0,__typename:"TextChunkType"},{text:"d himself at full length and half ",isSelected:!1,__typename:"TextChunkType"},{text:"shut his eyes",isSelected:!0,__typename:"TextChunkType"},{text:'. "Little Brother," said he, "feel under my jaw." Mowgli put up his strong brown hand, and just under Bagheera\'s silky chin, where the giant rolling muscles were all hid by the glossy hair, he came upon a little bald spot. "There is no one in the jungle ',isSelected:!1,__typename:"TextChunkType"},{text:"t",isSelected:!0,__typename:"TextChunkType"},{text:"hat kn",isSelected:!1,__typename:"TextChunkType"},{text:"o",isSelected:!0,__typename:"TextChunkType"},{text:"ws that I, Bagheera, carry that mark--the mark of ",isSelected:!1,__typename:"TextChunkType"},{text:"the ",isSelected:!0,__typename:"TextChunkType"},{text:"collar; and yet, Little Brother, I was born among men, and it was among men that my mother died--in the cages of the king's palace at Oodeypore. It was because of this that I paid the price for thee at the Council when thou wast a little ",isSelected:!1,__typename:"TextChunkType"},{text:"naked ",isSelected:!0,__typename:"TextChunkType"},{text:"cub. Yes, I too was born among men. I had never seen the jungle. They fed me behind bars from an ",isSelected:!1,__typename:"TextChunkType"},{text:"iron ",isSelected:!0,__typename:"TextChunkType"},{text:"pan till one night I felt that I was Bagheera--the Panther--and no man's plaything, and I broke the silly lock with one blow of my paw and came away. And",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"402",backgroundId:13,colorRange:31,createdAt:"2016-04-13T15:53:08.346915+00:00",updatedAt:"2016-04-13T21:40:36.169090+00:00",author:{id:"2",username:"tracy",__typename:"UserType"},book:{id:"4",title:"Metamorphosis",__typename:"BookType"},textChunks:[{text:'\'s better now.  Gregor got out."  "Just as I expected", said his father, "just as ',isSelected:!1,__typename:"TextChunkType"},{text:"I ",isSelected:!0,__typename:"TextChunkType"},{text:"always said, but you women ",isSelected:!1,__typename:"TextChunkType"},{text:"wouldn't listen, ",isSelected:!0,__typename:"TextChunkType"},{text:'would you."  It was clear to Gregor that Grete had not said enough and that his father took it ',isSelected:!1,__typename:"TextChunkType"},{text:"to ",isSelected:!0,__typename:"TextChunkType"},{text:"mean that something bad had happened, that he was ",isSelected:!1,__typename:"TextChunkType"},{text:"responsible ",isSelected:!0,__typename:"TextChunkType"},{text:"for some act of ",isSelected:!1,__typename:"TextChunkType"},{text:"violence",isSelected:!0,__typename:"TextChunkType"},{text:'. That meant Gregor would now have to try to calm his father, as he did not have the time to explain things to him even if that had been possible.  So he fled to the door of his room and pressed himself against it so that his father, when he came in from the hall, could see straight away that Gregor had the best intentions and would go back into his room without delay, that it would not be necessary to drive him back but that they had only to open the door and he would disappear. His father, though, was not in the mood to notice subtleties like that; "Ah!", he shouted as he came in, sounding as if he were both angry and glad at the same time.  Gregor drew his head back from the do',isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"401",backgroundId:2,colorRange:23,createdAt:"2016-04-13T15:33:46.945819+00:00",updatedAt:"2016-04-13T15:34:01.603382+00:00",author:{id:"2",username:"tracy",__typename:"UserType"},book:{id:"10",title:"North and South",__typename:"BookType"},textChunks:[{text:"f frost. Nearer to the town, the air had a faint taste and smell of smoke; ",isSelected:!1,__typename:"TextChunkType"},{text:"perhaps, ",isSelected:!0,__typename:"TextChunkType"},{text:"after all, more a loss of ",isSelected:!1,__typename:"TextChunkType"},{text:"the ",isSelected:!0,__typename:"TextChunkType"},{text:"fragrance of grass and herbage than any positive taste or smell. ",isSelected:!1,__typename:"TextChunkType"},{text:"Quick ",isSelected:!0,__typename:"TextChunkType"},{text:"they were whirled over long, ",isSelected:!1,__typename:"TextChunkType"},{text:"straight, ",isSelected:!0,__typename:"TextChunkType"},{text:"hopeless streets of regularly-built houses, all small and of ",isSelected:!1,__typename:"TextChunkType"},{text:"brick",isSelected:!0,__typename:"TextChunkType"},{text:". Here and there a great oblong many-windowed factory stood up, like a hen among her chickens, puffing out black 'unparliamentary' smoke, and sufficiently accounting for the cloud which Margaret had taken to foretell rain. As they ",isSelected:!1,__typename:"TextChunkType"},{text:"drove ",isSelected:!0,__typename:"TextChunkType"},{text:"through the larger and wider streets, from the station to the hotel, they had to stop constantly; great loaded lorries blocked up the not over-wide ",isSelected:!1,__typename:"TextChunkType"},{text:"thorough",isSelected:!0,__typename:"TextChunkType"},{text:"fares. Margaret had now and then been into the city in her drives with ",isSelected:!1,__typename:"TextChunkType"},{text:"her ",isSelected:!0,__typename:"TextChunkType"},{text:"aunt. But there the heavy lumbering vehicles seemed various in their purposes and intent; here every van, every waggon and truck, bore cotton, either in the raw shape in bags, or the woven shape in bales of calico. People thronged the footpath",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"},{id:"400",backgroundId:10,colorRange:3,createdAt:"2016-04-13T01:31:11.608308+00:00",updatedAt:"2016-04-13T01:31:22.197295+00:00",author:{id:"46",username:"dark_tina",__typename:"UserType"},book:{id:"13",title:"Frankenstein",__typename:"BookType"},textChunks:[{text:"te studies.  ",isSelected:!1,__typename:"TextChunkType"},{text:"My father ",isSelected:!0,__typename:"TextChunkType"},{text:"was not scientific, and I ",isSelected:!1,__typename:"TextChunkType"},{text:"was ",isSelected:!0,__typename:"TextChunkType"},{text:"left to ",isSelected:!1,__typename:"TextChunkType"},{text:"struggle ",isSelected:!0,__typename:"TextChunkType"},{text:"with ",isSelected:!1,__typename:"TextChunkType"},{text:"a",isSelected:!0,__typename:"TextChunkType"},{text:" child's bli",isSelected:!1,__typename:"TextChunkType"},{text:"nd",isSelected:!0,__typename:"TextChunkType"},{text:"ness, added to a student's ",isSelected:!1,__typename:"TextChunkType"},{text:"thirst ",isSelected:!0,__typename:"TextChunkType"},{text:"for knowledge.  Under the guidance of my new preceptors I entered with the greatest diligence into the search of the philosopher's stone and the elixir of life; but the latter soon obtained my undivided attention.  Wealth was an inferior object, but what glory would attend the discovery if I could banish disease from the human frame and render man invulnerable to any but a violent death! Nor were these my only visions.  The raising of ghosts or devils was a promise liberally accorded by my favourite authors, the fulfilment of which I most eagerly sought; and if my incantations were always unsuccessful, I attributed the failure rather to my own inexperience and mistake than to a want of skill or fidelity in my instructors.  And thus for a time I was occupied by exploded systems, mingling, like an unadept, a thousand contradictory theories and floundering desperately",isSelected:!1,__typename:"TextChunkType"}],__typename:"PoemType"}],__typename:"PomePaginationType"}};function Xe(){var e,t=(e={variables:{limit:10}},u.useQuery(I,e)),n=t.data,i=t.fetchMore,r=null===n||void 0===n?void 0:n.poemPages;return window.poemistBackendLoaded||(r=Ye.poemPages),r?Object(a.jsxs)("div",{className:"index-view",children:[Object(a.jsx)("h5",{children:"Browse through all the communities poems!"}),Object(a.jsx)(Ve,Object(o.a)({},{poems:r,fetchMore:i}))]}):Object(a.jsx)("div",{style:{marginTop:100},children:Object(a.jsx)(Le,{color:"black"})})}var et=n(130),tt=n.n(et),nt=function(e){var t,n,o,i=e.id,r=(o={variables:{id:i}},u.useQuery(M,o)).data,s=null===(t=z().data)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.id;if(!r)return Object(a.jsx)("div",{style:{margin:"auto",paddingTop:100,width:70},children:Object(a.jsx)(Le,{color:"black"})});var d=r.user,c=s===d.id?"you":"they",l=d&&d.poemsWrittenCount,h=d&&tt()(d.dateJoined).fromNow();return Object(a.jsxs)("div",{className:"mx-3",children:[Object(a.jsx)("h1",{children:d&&d.username}),Object(a.jsxs)("div",{children:["Poems Written: ",Object(a.jsx)("strong",{children:l})]}),Object(a.jsxs)("div",{children:["Signed Up: ",Object(a.jsx)("strong",{children:h})]}),Object(a.jsxs)("h5",{children:["Look at all the lovely poems ",c," have written!"]})]})};function at(e){var t,n=e.authorId,o=(t={variables:{authorId:n,limit:10}},u.useQuery(P,t)),i=o.data,r=o.fetchMore;return i?Object(a.jsx)(Ve,{poems:i.poemPages,fetchMore:r}):Object(a.jsx)(Le,{})}function ot(){var e=Object(d.h)().id;return Object(a.jsxs)("div",{className:"index-view",children:[Object(a.jsx)(nt,{id:e}),Object(a.jsx)(at,{authorId:e})]})}var it=function(){return Object(a.jsxs)("svg",{viewBox:"0 0 380.5 128.1",style:{minWidth:"5rem"},children:[Object(a.jsx)("path",{d:"M29.8,0c11.3,0,23,0.2,33.8,3.9c26.7,10.4,35.1,41,23,65.9C75.2,90.2,50.9,92.9,29.8,92.9h-23v31.8c0,4.5-6.7,4.6-6.7,0V3.5 C0,0.9,2.6,0,4.8,0H29.8z M6.7,6.5v79.9h24.7c17.6,0,38.6-2.2,49-18.4V68C87.9,54.8,88,35,78.9,22.5C68.7,8.4,49,6.5,33.1,6.5H6.7z"}),Object(a.jsx)("path",{d:"M114,69.3c28.2,0,28.1,43.6,0,43.6C86,112.8,85.8,69.3,114,69.3z M114,75.7c-19.9,0-19.8,30.6,0,30.7 C133.6,106.5,133.6,75.7,114,75.7z"}),Object(a.jsx)("path",{d:"M150.5,93.3c0.9,9.9,10.5,14.9,19.7,12.5c4.2-1.1,6.6-4.8,10.4-6.1c3.7-1.3,6.6,2.4,3.5,5.5c-8,8-21.6,10.7-31.3,4.1 c-9.1-6.1-11.2-19.7-6.3-29.1c5-9.5,17.2-13.7,27.1-9.5c4.9,2.1,9,6,11.2,10.9c1.5,3.4,3.9,11.7-2.1,11.7H150.5z M179.7,87 c-3.4-14.8-25.7-15.1-28.9-0.1L179.7,87z"}),Object(a.jsx)("path",{d:"M206.6,76.1c0,0.3,0,0.7-0.1,1c6.4-5.2,24-14.1,27.2-0.6c9.3-6.9,28.4-13.1,28.4,4.6v27.7c0,4.3-6.5,4.6-6.5,0V84.3 c0-3.9,0.1-7.9-4.5-8.6c-5.8-0.9-12.9,5.2-17.1,8.3v24.8c0,4.3-6.4,4.6-6.4,0v-23c0-4.1,0.2-9.6-5-10.1c-5.6-0.5-12.4,6.2-16.3,9.5 v23.6c0,4.3-6.4,4.6-6.4,0V72.7c0-1.8,1.3-3.6,3.3-3.4C206.5,69.6,206.6,73.7,206.6,76.1z"}),Object(a.jsx)("path",{d:"M284.8,39.7c6.5,0,6.5,10.2,0,10.2C278.2,49.9,278.3,39.7,284.8,39.7z M288,108.8c0,4.2-6.4,4.5-6.4,0V72.7 c0-4.3,6.4-4.6,6.4,0.1V108.8z"}),Object(a.jsx)("path",{d:"M311,105.3c6.9,2.6,16.4-2.8,6.8-7.6c-7.6-3.8-16.1-5.6-13.6-16.4c2-8.6,11.2-12.8,19.4-11.9c2.6,0.3,8.6,1.4,9.3,4.6 c0.7,3.6-2.8,4.2-5.5,3.1h0.1c-5.7-2.5-20.6-1-17.3,8.8c2.2,6.5,13.4,5.1,17.1,10.8c5.6,8.6-3.8,16.6-12.1,16.1 c-2.6-0.2-8.3-1-9.4-3.7c-1.2-3,2.4-6.5,5-3.9L311,105.3z"}),Object(a.jsx)("path",{d:"M356.4,95.5c0,8.2,5.1,14,13.5,9.5c2.4-1.3,4.9-5.7,7.5-5.8c3.1,0,4,3.6,2,5.6l0.1-0.1c-4.4,6.4-12.3,9.4-19.9,7.6 c-8.1-2-9.8-9.4-9.6-16.8l0.3-18.9h-10.2c-4.2,0-4.5-6.3,0-6.3h10.4l0.9-28.7c0.2-4.3,6.3-4.5,6.3,0L357,70.3h16 c4.1,0,4.4,6.3,0,6.3h-16.2C356.8,82.9,356.4,89.2,356.4,95.5z"})]})};function rt(){var e=Object(c.a)(["\n  li {\n    display: inline-block;\n    margin: ","px;\n  }\n  text-align: right;\n  position: fixed;\n  top: 0;\n  z-index: 30;\n  background: ",";\n  color: ",";\n  width: 100%;\n  padding: ","px;\n  height: ","px;\n\n  a {\n    color: ",";\n  }\n\n  .active {\n    color: white;\n  }\n\n  .navbarMenu {\n    margin-bottom: 0;\n    padding-left: 0;\n    /* background: $dark-grey; */\n\n    /* @include mobile {\n        li {\n          display: block;\n        }\n      } */\n  }\n  .hamburger {\n    display: none;\n\n    /* @include mobile {\n        display: block;\n      } */\n  }\n\n  .hidden-xs {\n    /* @include mobile {\n        display: none;\n      } */\n  }\n\n  .logo {\n    float: left;\n    margin: ","px;\n    svg {\n      max-width: 13rem;\n      width: calc(100vw - 420px);\n      fill: ",";\n    }\n  }\n\n  @media (max-width: ",") {\n    .logo {\n      margin: 0;\n    }\n    .navbar {\n      padding: 0;\n    }\n  }\n  @media (max-width: ",") {\n    .logo {\n      margin: 0;\n    }\n    .navbar {\n      padding: 0;\n    }\n  }\n"]);return rt=function(){return e},e}var st=$.a.div(rt(),G,ee,X,G,J,X,G,X,V,Y),dt=n(204),ct=n(195),lt=n(196),ht=n(197),ut=n(202),pt=n(135),mt=n(198),yt=n(199),xt=n(36);function bt(){var e,t,n=Object(i.useState)({username:"",password:""}),r=Object(l.a)(n,2),s=r[0],c=r[1],p=(t={refetchQueries:[{query:L}]},u.useMutation(R,t)),m=Object(l.a)(p,2),y=m[0],x=m[1].error,b=function(e){return u.useMutation(U,e)}({refetchQueries:[{query:L}]}),g=Object(l.a)(b,2),k=g[0],f=g[1].error,T=Object(d.g)(),_=Object(d.f)(),w=function(){return _.push(_.location.pathname)},j=T.search.includes("showLogin"),v=T.search.includes("showSignUp");return Object(a.jsx)(dt.a,{open:j||v,onClose:w,children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Promise.resolve();v&&(t=k({variables:s})),t.then((function(){return y({variables:s}).then((function(e){var t=e.data.tokenAuth.token;localStorage.setItem("token",t),window.setTimeout((function(){y({variables:s})}),100),w()}))})).catch((function(e){console.warn(e)}))},children:[Object(a.jsx)(ct.a,{children:Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("div",{style:{flexGrow:1},children:j?"Login":"Sign Up"}),Object(a.jsx)(lt.a,{size:"small",onClick:w,children:Object(a.jsx)(xt.f,{})})]})}),Object(a.jsxs)(ht.a,{children:[Object(a.jsx)(ut.a,{autoFocus:!0,margin:"dense",label:"Username",fullWidth:!0,value:s.username,onChange:function(e){return c((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.target.value})}))}}),Object(a.jsx)(ut.a,{type:"password",margin:"dense",label:"Password",fullWidth:!0,value:s.password,onChange:function(e){return c((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}))}}),j?Object(a.jsx)(h.b,{to:"?showSignUp",component:H.a,children:"Sign Up"}):Object(a.jsx)(h.b,{to:"?showLogin",component:H.a,children:"Login"}),Object(a.jsxs)(pt.a,{color:"error",children:[(null===f||void 0===f||null===(e=f.message)||void 0===e?void 0:e.includes("UNIQUE"))?"Username already taken":null===f||void 0===f?void 0:f.message,null===x||void 0===x?void 0:x.message]})]}),Object(a.jsxs)(mt.a,{children:[Object(a.jsx)(yt.a,{onClick:w,children:"Cancel"}),Object(a.jsx)(yt.a,{color:"primary",variant:"contained",type:"submit",children:"Submit"})]})]})})}var gt=n(133),kt=n(205);function ft(e){var t=e.openLabel,n=void 0===t?"Select":t,o=e.items,r=void 0===o?[]:o,s=e.openStyle,d=void 0===s?{}:s,c=Object(i.useState)(null),h=Object(l.a)(c,2),u=h[0],p=h[1],m=function(){p(null)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(yt.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},style:d,children:n}),Object(a.jsx)(gt.a,{anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:m,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.map((function(e){return Object(a.jsx)(kt.a,{onClick:function(){var t;null===(t=e.onClick)||void 0===t||t.call(e),m()},children:e.label})}))})]})}var Tt=function(e){var t=e.toggleShowLogin;return Object(a.jsx)("span",{children:Object(a.jsx)("a",{onClick:t,"data-test":"signUpLink",children:"Sign Up"})})};function _t(){var e=Object(d.f)(),t=z().data,n=null===t||void 0===t?void 0:t.current;return t&&(window.poemistBackendLoaded=!0),Object(a.jsxs)("div",{className:"navbar",style:{display:"inline-block",minWidth:345,marginRight:"1rem"},children:[Object(a.jsx)("div",{}),Object(a.jsxs)("ul",{className:"navbarMenu expanded",children:[Object(a.jsx)("li",{children:Object(a.jsx)(h.c,{activeClassName:"active",exact:!0,to:"/",children:"Home"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.c,{activeClassName:"active",to:"/about",children:"About"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.c,{activeClassName:"active",to:"/new/write",children:"Create"})}),n&&Object(a.jsx)("li",{children:Object(a.jsxs)("span",{style:{display:"flex"},children:[Object(a.jsx)(h.c,{activeClassName:"active",to:"/user/".concat(n.id),"data-test":"profileLink",children:"Profile"}),Object(a.jsx)(ft,{openLabel:Object(a.jsx)(xt.a,{}),openStyle:{color:"white",display:"inline",minWidth:5,paddingTop:0},items:[{label:"Logout",onClick:function(){localStorage.clear(),window.location.reload()}}]})]})}),!n&&Object(a.jsx)("li",{children:Object(a.jsx)(Tt,{toggleShowLogin:function(){return e.push("?showLogin=true")}})})]})]})}function wt(){return Object(a.jsxs)(st,{children:[Object(a.jsx)(h.c,{to:"/",className:"logo",children:Object(a.jsx)(it,{})}),Object(a.jsx)(_t,{}),Object(a.jsx)(bt,{})]})}function jt(){var e=Object(c.a)(["\n  @media (max-width: 550px) {\n    min-width: 550px;\n    .poem {\n      margin: 0.2em;\n    }\n    /* .close-up-poem-view {\n      min-width: 550px;\n    } */\n  }\n  .app {\n    font-size: ",';\n    font-family: "Avenir Next", sans-serif;\n  }\n\n  .page-body {\n    padding: ',"px;\n    margin-top: ","px;\n    text-align: center;\n  }\n\n  .index-view {\n    text-align: left;\n  }\n\n  .error {\n    color: red;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    text-align: center;\n  }\n\n  a:hover {\n    cursor: pointer;\n  }\n"]);return jt=function(){return e},e}var vt=$.a.div(jt(),Q,G,J);function Ct(e){var t=e.children;return Object(a.jsxs)(vt,{children:[Object(a.jsx)(wt,{}),Object(a.jsx)(We,{children:Object(a.jsx)("div",{className:"page-body",children:t})})]})}function St(){var e=Object(c.a)(["\n  text-align: left;\n  max-width: 800px;\n  margin: auto;\n"]);return St=function(){return e},e}var Ot=$.a.div(St());function It(){return Object(a.jsxs)(Ot,{className:"about",children:[Object(a.jsx)("h1",{children:"About"}),Object(a.jsx)("p",{children:Object(a.jsxs)("i",{children:["A ",Object(a.jsx)("strong",{children:"found poem"})," is a poem that is composed with words and phrases from another text."]})}),Object(a.jsxs)("section",{children:[Object(a.jsx)("p",{children:"It may seem limiting to choose words only from a prearranged set, but limitations are one of the best drives of creativity."}),Object(a.jsx)("p",{children:"For the sake of this website there are a set of very specific constraints on each poem."}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"You will recieve exactly 40 lines of text"}),Object(a.jsx)("li",{children:"You may select any words or letters from this text to create your poem"}),Object(a.jsx)("li",{children:"You cannot rearrange them"})]}),Object(a.jsx)("p",{children:"The poems are meant to be a fun exercise not a throughout masterpiece, so don't spend too much time on each one. Churn out a few and discover moments of accidental brilliance and insight, or simply silliness. Take the stress and pressure out of writing and just have fun!"}),Object(a.jsx)("h4",{children:"Contact"}),Object(a.jsx)("p",{children:"We would love to hear from you!"}),Object(a.jsx)("p",{children:"Direct any comments or questions to poemistnet@gmail.com."})]})]})}var Pt=n(91),At=n(58);var Bt=function(e){var t=Object(At.flatten)(e),n=!1,a=[],o="";return t.forEach((function(e){e.isSelected!==n?(o&&a.push({text:o,isSelected:n}),o=e.ch,n=!n):o+=e.ch})),o&&a.push({text:o,isSelected:n}),a};function Nt(e){var t=e.poem,n=e.children,o=Object(d.f)(),i=z().data,r=null===i||void 0===i?void 0:i.current,s=t.id,c=t.textChunks,h=t.backgroundId,p=t.colorRange,m=t.book,y=t.startIdx,x=null===m||void 0===m?void 0:m.id;c=t.wordLetters?Bt(t.wordLetters):c.map((function(e){e.__typename;return Object(Pt.a)(e,["__typename"])}));var b,g=(b={variables:{id:s,textChunks:c,backgroundId:h,colorRange:p}},u.useMutation(B,b)),k=Object(l.a)(g,1)[0],f=function(e){return u.useMutation(A,e)}({variables:{textChunks:c,bookId:x,startIdx:y},update:function(e,t){var n=function(e){return Object(W.a)(e,(function(e){e.poemPages.edges.unshift(t.data.createPoem.poem)}))};D({cache:e,arg:{query:I,variables:{limit:10}},updateData:n}),D({cache:e,arg:{query:P,variables:{limit:10,authorId:r.id}},updateData:n})}}),T=Object(l.a)(f,1)[0],_=s?k:T;return r||(_=function(){return o.push("?showSignUp=true"),Promise.reject()}),Object(a.jsx)(a.Fragment,{children:n({savePoem:_})})}function Lt(){var e=Object(c.a)(["\n  text-align: left;\n  position: fixed;\n  left: calc(50vw + ","px);\n  top: 18rem;\n  width: 170px;\n  @media (max-width: ",") {\n    width: 100vw;\n    left: 0;\n    bottom: 0;\n    top: auto;\n    z-index: 10;\n    display: flex;\n    z-index: 10;\n    .toolbar-tab {\n      display: inline-block;\n      width: 50%;\n      border: "," solid !important;\n      font-size: ","px !important;\n      margin: 0 !important;\n    }\n    .lower {\n      font-size: ","px !important;\n    }\n  }\n  @media (max-width: 550px) {\n    left: 0;\n    width: 100%;\n  }\n\n  .toolbar {\n    margin-left: ","px;\n    margin-top: ","px;\n    font-size: ","px;\n  }\n\n  .toolbar-tab {\n    font-size: ","px;\n    background: #333;\n    color: white;\n    margin: ","px 0;\n    text-align: left;\n    border: none;\n    cursor: pointer;\n\n    &-lg {\n      font-size: ","px;\n    }\n\n    button {\n      background: black;\n      color: white;\n      border: none;\n    }\n  }\n  button[disabled] {\n    background: #aaa;\n  }\n  .arrow-btn {\n    font-size: 2em !important;\n    cursor: pointer;\n  }\n  .text {\n    display: inline-block;\n    padding: 0.5em;\n  }\n"]);return Lt=function(){return e},e}var zt=$.a.div(Lt(),K,Y,ae,1.5*Q,2*Q,2*K,3*G,F,Q,E,F);function Mt(e){var t=e.num,n=e.upperlimit;return t<0?n-1:t>n?t-n:t}var Ut=function(e){Object(Ue.a)(n,e);var t=Object(Re.a)(n);function n(){var e;Object(ze.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).backgroundUp=function(){var t=Mt({num:e.props.poem.backgroundId+1,upperlimit:20});e.props.updateStyle({backgroundId:t})},e.backgroundDown=function(){var t=Mt({num:e.props.poem.backgroundId-1,upperlimit:20});e.props.updateStyle({backgroundId:t})},e.colorUp=function(){var t=Mt({num:e.props.poem.colorRange+1,upperlimit:36});e.props.updateStyle({colorRange:t})},e.colorDown=function(){var t=Mt({num:e.props.poem.colorRange-1,upperlimit:36});e.props.updateStyle({colorRange:t})},e}return Object(Me.a)(n,[{key:"render",value:function(){var e=this,t=this.props.poem,n="/edit/write/".concat(t.id);return Object(a.jsxs)(zt,{className:"style-toolbar toolbar",children:[Object(a.jsxs)("div",{className:"toolbar-tab",children:[Object(a.jsx)("button",{onClick:this.backgroundDown,className:"arrow-btn","data-ux":"background-id-down",children:Object(a.jsx)(xt.b,{})}),Object(a.jsxs)("span",{className:"text",children:["Style ",t.backgroundId]}),Object(a.jsx)("button",{onClick:this.backgroundUp,className:"arrow-btn","data-ux":"background-id-up",style:{float:"right"},children:Object(a.jsx)(xt.c,{})})]}),Object(a.jsxs)("div",{className:"toolbar-tab",children:[Object(a.jsx)("button",{onClick:this.colorDown,className:"arrow-btn","data-ux":"color-range-down",children:Object(a.jsx)(xt.b,{})}),Object(a.jsxs)("span",{className:"text",children:["Color ",t.colorRange]}),Object(a.jsx)("button",{onClick:this.colorUp,className:"arrow-btn","data-ux":"color-range-up",style:{float:"right"},children:Object(a.jsx)(xt.c,{})})]}),Object(a.jsx)("div",{className:"toolbar-tab lower",onClick:function(){e.props.history.push(n)},children:Object(a.jsxs)("span",{className:"text",children:[Object(a.jsx)(xt.d,{})," Back"]})}),Object(a.jsx)(Nt,{poem:t,children:function(t){var n=t.savePoem;return Object(a.jsx)("button",{onClick:function(){n().then((function(){e.props.history.push("/")}))},className:"toolbar-tab toolbar-tab-lg lower","data-test":"saveLink",children:Object(a.jsxs)("span",{className:"text",children:["Finish ",Object(a.jsx)(xt.e,{})]})})}})]})}}]),n}(i.PureComponent),Rt=Object(d.i)(Ut);function Wt(){var e=O({variables:{id:Object(d.h)().id}}).data,t=Object(i.useState)(null===e||void 0===e?void 0:e.poem),n=Object(l.a)(t,2),r=n[0],s=n[1];if(Object(i.useEffect)((function(){s(null===e||void 0===e?void 0:e.poem)}),[null===e||void 0===e?void 0:e.poem]),!r)return Object(a.jsx)(Le,{});return Object(a.jsxs)("div",{className:"close-up-poem-view text-center",children:[Object(a.jsx)("h1",{children:"Stylize"}),Object(a.jsx)(Rt,Object(o.a)({},{poem:r,updateStyle:function(e){var t=e.backgroundId,n=e.colorRange;t&&s(Object(o.a)(Object(o.a)({},r),{},{backgroundId:t})),n&&s(Object(o.a)(Object(o.a)({},r),{},{colorRange:n}))}})),Object(a.jsx)(He,{poem:r,closeUp:!0})]})}var Ht=function(e){var t=e.textChunks,n=e.passage;if(n)t=[{text:n,isSelected:!1}];else if(!t)return[];var a,o=[];return t.forEach((function(e){var t=function(e){var t=[],n="";return e.split("").forEach((function(e){n+=e," "!==e&&"-"!==e||(t.push(n),n="")})),t.push(n),t}(e.text).map((function(t){return Object(At.map)(t,(function(t){return{ch:t,isSelected:e.isSelected}}))}));o=a===e.isSelected?o[o.length-1].concat(t):o.concat(t),a=e.isSelected})),o};var Dt=function(e){var t=e.wordLetters,n=e.wordIdx,a=e.letterIdx,o=e.isSelectingByWord;return Object(W.a)(t,(function(e){if(o){if(!e[n])return console.warn("Word out of range, tried to access ".concat(n," of ").concat(e.flatMap.length)),e;var t=!e[n][a].isSelected;return e[n].forEach((function(e){e.isSelected=t})),e}return e[n][a].isSelected=!e[n][a].isSelected,e}))};var qt=function(e){var t=e.handleClear,n=e.getNewPassage,o=e.toggleSelectBy,i=e.toggleRandomLetters,r=e.selectablePoem,s=(Object(Pt.a)(e,["handleClear","getNewPassage","toggleSelectBy","toggleRandomLetters","selectablePoem"]),Object(d.f)()),c=r.wordLetters.every((function(e){return e.every((function(e){return!e.isSelected}))}));return Object(a.jsxs)(zt,{className:"writer-toolbar toolbar",children:[Object(a.jsx)("button",{className:"toolbar-tab",onClick:o,"data-ux":"toggle-select-by",children:Object(a.jsx)("span",{className:"text",children:r.isSelectingByWord?"select by letter?":"select by word?"})}),!r.id&&Object(a.jsx)("button",{className:"toolbar-tab",onClick:function(){return n()},"data-ux":"get-new-passage",children:Object(a.jsx)("span",{className:"text",children:"new passage?"})}),!r.id&&Object(a.jsx)("button",{className:"toolbar-tab",onClick:c?i:t,"data-ux":"get-new-passage",children:Object(a.jsx)("span",{className:"text",children:c?"nudge":"clear"})}),Object(a.jsx)(Nt,{poem:r,children:function(e){var t=e.savePoem;return Object(a.jsxs)("button",{onClick:function(){return t().then((function(e){var t=(e.data.updatePoem||e.data.createPoem).poem.id;s.push("/edit/stylize/".concat(t))}))},className:"toolbar-tab toolbar-tab-lg","data-test":"styleLink",children:[Object(a.jsx)("span",{className:"text",children:"Next"})," ",Object(a.jsx)(xt.e,{})]})}})]})},$t=function(e){var t=e.isSelected,n=e.ch,o=e.letterIdx,i=e.handleClickLetter;return Object(a.jsx)("span",{className:"letter ".concat(t?"is":"not","-selected"),"data-idx":o,onClick:i,children:n})},Et=function(e){var t=e.word,n=e.wordIdx,i=e.handleClickLetter;return Object(a.jsx)("span",{className:"word","data-word-idx":n,children:t.map((function(e,t){var r=e.ch,s=e.isSelected;return Object(a.jsx)($t,Object(o.a)(Object(o.a)({},{ch:r,isSelected:s,letterIdx:t}),{},{handleClickLetter:function(){return i({wordIdx:n,letterIdx:t})}}),"".concat(n).concat(t))}))})};function Gt(){var e=Object(c.a)(["\n  user-select: none;\n  .letter {\n    cursor: pointer;\n  }\n\n  .selecting-by-word .word:hover .letter,\n  .selecting-by-letter .letter:hover {\n    /* background: rgba(255, 255, 0, .7); */\n    color: cyan;\n    &.is-selected {\n      color: red;\n    }\n  }\n"]);return Gt=function(){return e},e}var Kt=$.a.div(Gt());function Zt(e){var t=e.wordLetters,n=e.isSelectingByWord,o=e.handleClickLetter;return Object(a.jsx)(Oe,{className:"poem close-up",children:Object(a.jsx)(Kt,{children:Object(a.jsxs)(ve,{className:"poem-body",children:[Object(a.jsx)("div",{className:"background-img"}),Object(a.jsx)("div",{className:n?"selecting-by-word":"selecting-by-letter",children:t.map((function(e,t){return Object(a.jsx)(Et,{word:e,wordIdx:t,handleClickLetter:o},t)}))})]})})})}var Qt={randomBook:{id:"12",title:"Alice's Adventures in Wonderland",text:"d you tell me,' said Alice, a little timidly, 'why you are painting those roses?'  Five and Seven said nothing, but looked at Two. Two began in a low voice, 'Why the fact is, you see, Miss, this here ought to have been a RED rose-tree, and we put a white one in by mistake; and if the Queen was to find it out, we should all have our heads cut off, you know. So you see, Miss, we're doing our best, afore she comes, to--' At this moment Five, who had been anxiously looking across the garden, called out 'The Queen! The Queen!' and the three gardeners instantly threw themselves flat upon their faces. There was a sound of many footsteps, and Alice looked round, eager to see the Queen.  First came ten soldiers carrying clubs; these were all shaped like the three gardeners, oblong and flat, with their hands and feet at the corners: next the ten courtiers; these were ornamented all over with diamonds, and walked two and two, as the soldiers did. After these came the royal children; there were ten of them, and the little dears came jumping merrily along hand in hand, in couples: they were all ornamented with hearts. Next came the guests, mostly Kings and Queens, and among them Alice recognised the White Rabbit: it was talking in a hurried nervous manner, smiling at everything that was said, and went by without noticing her. Then followed the Knave of Hearts, carrying the King's crown on a crimson velvet cushion; and, last of all this grand procession, came THE KING AND QUEEN OF HEARTS.  Alice was rather doubtful whether she ought not to lie down on her face like the three gardeners, but she could not remember ever having heard of such a rule at processions; 'and besides, what would be the use of a procession,' thought she, 'if people had all to lie down upon their faces, so that they couldn't see it?' So she stood still where she was, and waited.  When the procession came opposite to Alice, they all stopped and looked at her, and the Queen said severely 'Who is this?' She said",startIdx:248,__typename:"BookPassage"}};var Ft=function(e){Object(Ue.a)(n,e);var t=Object(Re.a)(n);function n(){var e;Object(ze.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state=e.props.selectablePoem,e.onKeyDown=function(t){"Shift"===t.key&&e.setState({isSelectingByWord:!1})},e.onKeyUp=function(t){"Shift"===t.key&&e.setState({isSelectingByWord:!0})},e.handleClickLetter=function(t){var n=t.wordIdx,a=t.letterIdx,o=e.state,i=o.wordLetters,r=o.isSelectingByWord,s=Dt({wordLetters:i,wordIdx:n,letterIdx:a,isSelectingByWord:r});e.setState({wordLetters:s})},e.handleClear=function(){e.setState(e.props.selectablePoem)},e.toggleSelectBy=function(){e.setState({isSelectingByWord:!e.state.isSelectingByWord})},e.toggleRandomLetters=function(){for(var t=0,n=e.state.wordLetters;t<10;)t++,n=Dt({wordLetters:n,wordIdx:Object(At.random)(0,100),letterIdx:0,isSelectingByWord:!0});e.setState({wordLetters:n})},e}return Object(Me.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.onKeyUp,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1),document.removeEventListener("keyup",this.onKeyUp,!1)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"close-up-poem-view text-center",onKeyPress:function(t){t.shiftKey&&e.toggleSelectBy()},children:[Object(a.jsx)("h1",{children:this.props.selectablePoem.id?"Edit":"Write"}),Object(a.jsx)("h5",{children:"Make your own poem by clicking on words!"}),Object(a.jsx)(qt,{selectablePoem:this.state,getNewPassage:this.props.getNewPassage,handleClear:this.handleClear,toggleSelectBy:this.toggleSelectBy,toggleRandomLetters:this.toggleRandomLetters}),Object(a.jsx)(Zt,Object(o.a)(Object(o.a)({},this.state),{},{wordLetters:this.state.wordLetters,handleClickLetter:this.handleClickLetter}))]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectablePoem.book.id!==t.book.id?e.selectablePoem:t}}]),n}(i.PureComponent);function Jt(){var e,t,n=Object(d.h)().id,i=O({variables:{id:n},skip:!n}).data,r=u.useQuery(C,t),s=null===r||void 0===r?void 0:r.data,c=r.refetch,l=null===(e=z().data)||void 0===e?void 0:e.current;if(window.poemistBackendLoaded||(s=Qt,c=function(){return null}),!s)return Object(a.jsx)(Le,{});var h=Object(o.a)(Object(o.a)({book:{id:s.randomBook.id,title:s.randomBook.title},startIdx:s.randomBook.startIdx,author:l},function(e){var t=Ht({textChunks:e.textChunks});return Object(o.a)(Object(o.a)({},e),{},{wordLetters:t,isSelectingByWord:!0})}({textChunks:(null===i||void 0===i?void 0:i.poem.textChunks)||[{text:s.randomBook.text,isSelected:!1}]})),(null===i||void 0===i?void 0:i.poem)||{});return Object(a.jsx)(Ft,Object(o.a)({},{selectablePoem:h,getNewPassage:c}))}var Vt=function(){return Object(a.jsx)(Ct,{children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{path:"/",exact:!0,component:Xe}),Object(a.jsx)(d.a,{path:"/about",component:It}),Object(a.jsx)(d.a,{path:"/edit/stylize/:id",component:Wt}),Object(a.jsx)(d.a,{path:"/new/write",component:Jt}),Object(a.jsx)(d.a,{path:"/edit/write/:id",component:Jt}),Object(a.jsx)(d.a,{path:"/poem/:id",component:Ee}),Object(a.jsx)(d.a,{path:"/user/:id",component:ot})]})})},Yt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,207)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),i(e),r(e)}))},Xt=n(131),en=n(201),tn=n(132),nn=n(200),an=Object(u.createHttpLink)({uri:"https://poemist-django.herokuapp.com/graphql"}),on=Object(Xt.a)((function(e,t){var n=t.headers,a=localStorage.getItem("token");return{headers:Object(o.a)(Object(o.a)({},n),{},{Authorization:a?"JWT ".concat(a):""})}})),rn=new u.ApolloClient({link:on.concat(an),cache:new u.InMemoryCache({})}),sn=Object(tn.a)({palette:{primary:{main:"#333"}},props:{MuiButtonBase:{disableRipple:!0}},shape:{borderRadius:0},typography:{button:{textTransform:"none"}}});s.a.render(Object(a.jsx)(i.StrictMode,{children:Object(a.jsx)(We,{children:Object(a.jsx)(u.ApolloProvider,{client:rn,children:Object(a.jsx)(h.a,{children:Object(a.jsxs)(nn.a,{theme:sn,children:[Object(a.jsx)(en.a,{}),Object(a.jsx)(Vt,{})]})})})})}),document.getElementById("root")),Yt()}},[[163,1,2]]]);
//# sourceMappingURL=main.32fd043a.chunk.js.map