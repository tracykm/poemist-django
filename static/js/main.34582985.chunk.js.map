{"version":3,"sources":["images/example-clicking.gif","queries/autogenerate/hooks.tsx","components/universal/DeleteEditLinks.tsx","components/universal/_variables.ts","components/poem/PoemHeader.tsx","images/paper-rect-contrast.jpg","images/tree-bark.jpg","images/contemporary_china_small.png","images/4345189-xs.jpg","images/f0c4457.jpg","images/maxresdefault.jpg","images/blueTile.jpg","images/life_original_wild_urban_shells_abstract_texture_love-572258.jpg","images/painting-cracks.jpg","images/Alcala_lg.jpg","images/map2.jpg","images/blue.jpg","images/triangles-123.jpg","images/1_mU0yXR99Bg91S1ACSyPq_w.jpg","components/poem/PoemDiv.tsx","components/poem/PoemBody.tsx","components/universal/UsernameLink.tsx","components/poem/PoemFooter.tsx","components/universal/Loader.ts","components/poem/Poem.tsx","components/poem/CloseUpPoemDiv.ts","components/poem/CloseUpPoemView.tsx","components/manyPoemViews/IndexView.tsx","components/manyPoemViews/HomeView.tsx","components/manyPoemViews/ProfileView.tsx","components/fullApp/Logo.tsx","components/fullApp/NavbarDiv.tsx","components/fullApp/Navbar.tsx","components/fullApp/AppWrapper.tsx","components/fullApp/About.tsx","utils/getSelectedTexts.ts","components/selectable/SavePoemButton.tsx","components/selectable/ToolbarDiv.ts","components/selectable/StyleToolbar.tsx","components/selectable/StyleView.tsx","utils/formatLetters.ts","utils/toggleLetters.ts","components/selectable/WriterToolbar.tsx","components/selectable/Word.tsx","components/selectable/SelectablePoem.tsx","components/selectable/WriteView.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["PoemDetailsFragmentDoc","gql","GetRandomBookDocument","GetSinglePoemDocument","useGetSinglePoemQuery","baseOptions","Apollo","GetPoemsDocument","GetPoemsByAuthorDocument","CreatePoemDocument","UpdatePoemDocument","DeletePoemDocument","GetCurrentUserDocument","GetUserDocument","DeleteEditLinks","authorId","poemId","variables","id","update","cache","arg","window","location","reload","deletePoem","className","href","onClick","confirm","to","sizes","color","HeaderDiv","styled","div","PoemHeader","data-cy","BodyDiv","stringColors","i","PoemDiv","paperTextureImg","circlePatternImg","treeBarkImg","paintingCracks","f0c4457","oldPaperImg","mU0yXR99Bg91S1ACSyPq_w","maxresdefault","blueTile","tile","triangles123","Alcala_lg","map","blue","TextSpan","isSelected","text","PoemBody","textChunks","textSpan","UsernameLink","username","userId","PoemFooter","authorUsername","Loader","Poem","props","poem","backgroundId","colorRange","author","closeUp","data-test","exampleClickingImg","require","CloseUpPoemDiv","CloseUpPoemView","useParams","data","loading","PoemContainerDiv","IndexView","poems","fetchMore","loadMore","page","offset","limit","hasMore","edges","length","loader","HomeView","poemPages","ProfileHeader","current","user","pronoun","poemsWrittenCount","dateJoined","moment","fromNow","UserPoems","ProfileView","PoemistLogo","viewBox","style","minWidth","d","NavbarDiv","LogInOut","toggleShowLogin","Navbar","history","useHistory","currentUser","display","marginRight","activeClassName","exact","Select","labelId","MenuItem","push","localStorage","clear","FullNav","AppDiv","AppWrapper","children","DivAbout","About","getSelectedTexts","wordLetters","letters","flatten","currentlySelected","allText","forEach","letter","ch","SavePoemButton","book","bookId","__typename","updatePoemMutation","useCreatePoemMutation","createPoemMutation","savePoem","ToolbarDiv","keepInRange","num","upperlimit","StyleToolbar","backgroundUp","updateStyle","backgroundDown","colorUp","colorDown","this","backUrl","data-ux","float","then","React","PureComponent","withRouter","StyleView","useState","setPoem","useEffect","formatLetters","passage","lastSelected","textChunk","words","word","split","splitWords","concat","toggleLetters","w","wordIdx","letterIdx","isSelectingByWord","produce","console","warn","flatMap","WriterToolbar","handleClear","getNewPassage","toggleSelectBy","toggleRandomLetters","selectablePoem","isBlank","every","res","updatePoem","createPoem","Letter","handleClickLetter","data-idx","Word","data-word-idx","SelectablePoemDiv","SelectablePoemRender","WriteView","state","newWordLetters","setState","random","onKeyPress","e","shiftKey","nextProps","WriteViewWData","skip","randomBook","title","getSelectable","refetch","App","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","client","ApolloClient","uri","InMemoryCache","typePolicies","Query","fields","keyArgs","merge","existing","incoming","type","newEdges","draft","idx","findIndex","payload","splice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.34582985.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/example-clicking.f7137e63.gif\";","import * as Types from \"./operations\"\n\nimport { gql } from \"@apollo/client\"\nimport * as Apollo from \"@apollo/client\"\nexport const PoemDetailsFragmentDoc = gql`\n  fragment PoemDetails on PoemType {\n    id\n    backgroundId\n    colorRange\n    createdAt\n    updatedAt\n    author {\n      id\n      username\n    }\n    book {\n      id\n      title\n    }\n    textChunks {\n      text\n      isSelected\n    }\n  }\n`\nexport const GetRandomBookDocument = gql`\n  query getRandomBook {\n    randomBook {\n      id\n      title\n      text\n    }\n  }\n`\n\n/**\n * __useGetRandomBookQuery__\n *\n * To run a query within a React component, call `useGetRandomBookQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetRandomBookQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetRandomBookQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetRandomBookQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >,\n) {\n  return Apollo.useQuery<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >(GetRandomBookDocument, baseOptions)\n}\nexport function useGetRandomBookLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >(GetRandomBookDocument, baseOptions)\n}\nexport type GetRandomBookQueryHookResult = ReturnType<\n  typeof useGetRandomBookQuery\n>\nexport type GetRandomBookLazyQueryHookResult = ReturnType<\n  typeof useGetRandomBookLazyQuery\n>\nexport type GetRandomBookQueryResult = Apollo.QueryResult<\n  Types.GetRandomBookQuery,\n  Types.GetRandomBookQueryVariables\n>\nexport const GetSinglePoemDocument = gql`\n  query getSinglePoem($id: ID!) {\n    poem(id: $id) {\n      ...PoemDetails\n    }\n    current {\n      id\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\n\n/**\n * __useGetSinglePoemQuery__\n *\n * To run a query within a React component, call `useGetSinglePoemQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetSinglePoemQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetSinglePoemQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useGetSinglePoemQuery(\n  baseOptions: Apollo.QueryHookOptions<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >,\n) {\n  return Apollo.useQuery<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >(GetSinglePoemDocument, baseOptions)\n}\nexport function useGetSinglePoemLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >(GetSinglePoemDocument, baseOptions)\n}\nexport type GetSinglePoemQueryHookResult = ReturnType<\n  typeof useGetSinglePoemQuery\n>\nexport type GetSinglePoemLazyQueryHookResult = ReturnType<\n  typeof useGetSinglePoemLazyQuery\n>\nexport type GetSinglePoemQueryResult = Apollo.QueryResult<\n  Types.GetSinglePoemQuery,\n  Types.GetSinglePoemQueryVariables\n>\nexport const GetPoemsDocument = gql`\n  query getPoems($offset: Int, $limit: Int) {\n    poemPages(offset: $offset, limit: $limit) {\n      edges {\n        ...PoemDetails\n      }\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\n\n/**\n * __useGetPoemsQuery__\n *\n * To run a query within a React component, call `useGetPoemsQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetPoemsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetPoemsQuery({\n *   variables: {\n *      offset: // value for 'offset'\n *      limit: // value for 'limit'\n *   },\n * });\n */\nexport function useGetPoemsQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetPoemsQuery,\n    Types.GetPoemsQueryVariables\n  >,\n) {\n  return Apollo.useQuery<Types.GetPoemsQuery, Types.GetPoemsQueryVariables>(\n    GetPoemsDocument,\n    baseOptions,\n  )\n}\nexport function useGetPoemsLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetPoemsQuery,\n    Types.GetPoemsQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<Types.GetPoemsQuery, Types.GetPoemsQueryVariables>(\n    GetPoemsDocument,\n    baseOptions,\n  )\n}\nexport type GetPoemsQueryHookResult = ReturnType<typeof useGetPoemsQuery>\nexport type GetPoemsLazyQueryHookResult = ReturnType<\n  typeof useGetPoemsLazyQuery\n>\nexport type GetPoemsQueryResult = Apollo.QueryResult<\n  Types.GetPoemsQuery,\n  Types.GetPoemsQueryVariables\n>\nexport const GetPoemsByAuthorDocument = gql`\n  query getPoemsByAuthor($authorId: ID, $offset: Int, $limit: Int) {\n    poemPages(authorId: $authorId, offset: $offset, limit: $limit) {\n      edges {\n        ...PoemDetails\n      }\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\n\n/**\n * __useGetPoemsByAuthorQuery__\n *\n * To run a query within a React component, call `useGetPoemsByAuthorQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetPoemsByAuthorQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetPoemsByAuthorQuery({\n *   variables: {\n *      authorId: // value for 'authorId'\n *      offset: // value for 'offset'\n *      limit: // value for 'limit'\n *   },\n * });\n */\nexport function useGetPoemsByAuthorQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >,\n) {\n  return Apollo.useQuery<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >(GetPoemsByAuthorDocument, baseOptions)\n}\nexport function useGetPoemsByAuthorLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >(GetPoemsByAuthorDocument, baseOptions)\n}\nexport type GetPoemsByAuthorQueryHookResult = ReturnType<\n  typeof useGetPoemsByAuthorQuery\n>\nexport type GetPoemsByAuthorLazyQueryHookResult = ReturnType<\n  typeof useGetPoemsByAuthorLazyQuery\n>\nexport type GetPoemsByAuthorQueryResult = Apollo.QueryResult<\n  Types.GetPoemsByAuthorQuery,\n  Types.GetPoemsByAuthorQueryVariables\n>\nexport const CreatePoemDocument = gql`\n  mutation createPoem($textChunks: [InputTextChunkType]!, $bookId: ID!) {\n    createPoem(textChunks: $textChunks, bookId: $bookId) {\n      poem {\n        id\n      }\n    }\n  }\n`\nexport type CreatePoemMutationFn = Apollo.MutationFunction<\n  Types.CreatePoemMutation,\n  Types.CreatePoemMutationVariables\n>\n\n/**\n * __useCreatePoemMutation__\n *\n * To run a mutation, you first call `useCreatePoemMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreatePoemMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createPoemMutation, { data, loading, error }] = useCreatePoemMutation({\n *   variables: {\n *      textChunks: // value for 'textChunks'\n *      bookId: // value for 'bookId'\n *   },\n * });\n */\nexport function useCreatePoemMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.CreatePoemMutation,\n    Types.CreatePoemMutationVariables\n  >,\n) {\n  return Apollo.useMutation<\n    Types.CreatePoemMutation,\n    Types.CreatePoemMutationVariables\n  >(CreatePoemDocument, baseOptions)\n}\nexport type CreatePoemMutationHookResult = ReturnType<\n  typeof useCreatePoemMutation\n>\nexport type CreatePoemMutationResult = Apollo.MutationResult<Types.CreatePoemMutation>\nexport type CreatePoemMutationOptions = Apollo.BaseMutationOptions<\n  Types.CreatePoemMutation,\n  Types.CreatePoemMutationVariables\n>\nexport const UpdatePoemDocument = gql`\n  mutation updatePoem(\n    $textChunks: [InputTextChunkType]!\n    $id: ID!\n    $backgroundId: Int\n    $colorRange: Int\n  ) {\n    updatePoem(\n      textChunks: $textChunks\n      id: $id\n      backgroundId: $backgroundId\n      colorRange: $colorRange\n    ) {\n      poem {\n        ...PoemDetails\n      }\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\nexport type UpdatePoemMutationFn = Apollo.MutationFunction<\n  Types.UpdatePoemMutation,\n  Types.UpdatePoemMutationVariables\n>\n\n/**\n * __useUpdatePoemMutation__\n *\n * To run a mutation, you first call `useUpdatePoemMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUpdatePoemMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [updatePoemMutation, { data, loading, error }] = useUpdatePoemMutation({\n *   variables: {\n *      textChunks: // value for 'textChunks'\n *      id: // value for 'id'\n *      backgroundId: // value for 'backgroundId'\n *      colorRange: // value for 'colorRange'\n *   },\n * });\n */\nexport function useUpdatePoemMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.UpdatePoemMutation,\n    Types.UpdatePoemMutationVariables\n  >,\n) {\n  return Apollo.useMutation<\n    Types.UpdatePoemMutation,\n    Types.UpdatePoemMutationVariables\n  >(UpdatePoemDocument, baseOptions)\n}\nexport type UpdatePoemMutationHookResult = ReturnType<\n  typeof useUpdatePoemMutation\n>\nexport type UpdatePoemMutationResult = Apollo.MutationResult<Types.UpdatePoemMutation>\nexport type UpdatePoemMutationOptions = Apollo.BaseMutationOptions<\n  Types.UpdatePoemMutation,\n  Types.UpdatePoemMutationVariables\n>\nexport const DeletePoemDocument = gql`\n  mutation deletePoem($id: ID!) {\n    deletePoem(id: $id) {\n      id\n    }\n  }\n`\nexport type DeletePoemMutationFn = Apollo.MutationFunction<\n  Types.DeletePoemMutation,\n  Types.DeletePoemMutationVariables\n>\n\n/**\n * __useDeletePoemMutation__\n *\n * To run a mutation, you first call `useDeletePoemMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useDeletePoemMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [deletePoemMutation, { data, loading, error }] = useDeletePoemMutation({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useDeletePoemMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.DeletePoemMutation,\n    Types.DeletePoemMutationVariables\n  >,\n) {\n  return Apollo.useMutation<\n    Types.DeletePoemMutation,\n    Types.DeletePoemMutationVariables\n  >(DeletePoemDocument, baseOptions)\n}\nexport type DeletePoemMutationHookResult = ReturnType<\n  typeof useDeletePoemMutation\n>\nexport type DeletePoemMutationResult = Apollo.MutationResult<Types.DeletePoemMutation>\nexport type DeletePoemMutationOptions = Apollo.BaseMutationOptions<\n  Types.DeletePoemMutation,\n  Types.DeletePoemMutationVariables\n>\nexport const GetCurrentUserDocument = gql`\n  query getCurrentUser {\n    current {\n      id\n      username\n    }\n  }\n`\n\n/**\n * __useGetCurrentUserQuery__\n *\n * To run a query within a React component, call `useGetCurrentUserQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetCurrentUserQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetCurrentUserQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetCurrentUserQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >,\n) {\n  return Apollo.useQuery<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >(GetCurrentUserDocument, baseOptions)\n}\nexport function useGetCurrentUserLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >(GetCurrentUserDocument, baseOptions)\n}\nexport type GetCurrentUserQueryHookResult = ReturnType<\n  typeof useGetCurrentUserQuery\n>\nexport type GetCurrentUserLazyQueryHookResult = ReturnType<\n  typeof useGetCurrentUserLazyQuery\n>\nexport type GetCurrentUserQueryResult = Apollo.QueryResult<\n  Types.GetCurrentUserQuery,\n  Types.GetCurrentUserQueryVariables\n>\nexport const GetUserDocument = gql`\n  query getUser($id: ID!) {\n    user(id: $id) {\n      id\n      username\n      poemsWrittenCount\n      dateJoined\n    }\n    current {\n      id\n    }\n  }\n`\n\n/**\n * __useGetUserQuery__\n *\n * To run a query within a React component, call `useGetUserQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetUserQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetUserQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useGetUserQuery(\n  baseOptions: Apollo.QueryHookOptions<\n    Types.GetUserQuery,\n    Types.GetUserQueryVariables\n  >,\n) {\n  return Apollo.useQuery<Types.GetUserQuery, Types.GetUserQueryVariables>(\n    GetUserDocument,\n    baseOptions,\n  )\n}\nexport function useGetUserLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetUserQuery,\n    Types.GetUserQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<Types.GetUserQuery, Types.GetUserQueryVariables>(\n    GetUserDocument,\n    baseOptions,\n  )\n}\nexport type GetUserQueryHookResult = ReturnType<typeof useGetUserQuery>\nexport type GetUserLazyQueryHookResult = ReturnType<typeof useGetUserLazyQuery>\nexport type GetUserQueryResult = Apollo.QueryResult<\n  Types.GetUserQuery,\n  Types.GetUserQueryVariables\n>\n","import { Link } from \"react-router-dom\"\nimport React from \"react\"\nimport {\n  GetPoemsDocument,\n  useDeletePoemMutation,\n} from \"src/queries/autogenerate/hooks\"\n\nexport default function DeleteEditLinks({ authorId, poemId }) {\n  const isCurrentUser = true\n  const [deletePoem] = useDeletePoemMutation({\n    variables: { id: poemId },\n    update: (cache, arg) => {\n      window.location.reload()\n      // cache.writeQuery({\n      //   query: GetPoemsDocument,\n      //   data: { type: \"DELETE\", payload: { id: poemId } },\n      // })\n    },\n  })\n  return (\n    <span className=\"delete-edit-links\">\n      {isCurrentUser && (\n        <span>\n          <a\n            href=\"#\"\n            onClick={() =>\n              window.confirm(\"Are you sure you want to delete your poem?\") &&\n              deletePoem()\n            }\n          >\n            delete\n          </a>\n          {\" / \"}\n          <Link to={`/edit/write/${poemId}`}>edit</Link>\n        </span>\n      )}\n    </span>\n  )\n}\n","export const sizes = {\n  spaceSm: 5,\n  spaceBase: 15,\n\n  poemWidth: 250,\n  poemHeight: 600,\n\n  fontSizeXs: 12,\n  fontSizeBase: 16,\n  fontSizeLg: 26,\n\n  headerHeight: 120,\n\n  mobileS: \"320px\",\n  mobileM: \"375px\",\n  mobileL: \"425px\",\n  tablet: \"768px\",\n  laptop: \"1024px\",\n  laptopL: \"1440px\",\n  desktop: \"2560px\",\n}\n\n// paperImg: '../../images/paper-rect-contrast.jpg';\nexport const color = {\n  lightGrey: \"#bbb\",\n  darkGrey: \"#333\",\n  greyLighten5: \"#fafafa\",\n  greyLighten4: \"#f5f5f5\",\n  greyLighten3: \"#eeeeee\",\n  greyLighten2: \"#e0e0e0\",\n  greyLighten1: \"#bdbdbd\",\n  grey: \"#9e9e9e\",\n  greyDarken1: \"#757575\",\n  greyDarken2: \"#616161\",\n  greyDarken3: \"#424242\",\n  greyDarken4: \"#212121\",\n}\n\n// export const images = {\n//   paperTextureImg,\n// };\n\n// mobile-width: 480px;\n// tablet-width: 768px;\n// desktop-width: 1024px;\n","import React from \"react\"\nimport DeleteEditLinks from \"src/components/universal/DeleteEditLinks\"\nimport { Link } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport { sizes } from \"src/components/universal/_variables\"\n\nconst HeaderDiv = styled.div`\n  width: ${sizes.poemWidth}px;\n  &.close-up {\n    width: ${sizes.poemWidth * 2}px;\n  }\n  text-align: right;\n  position: relative;\n  z-index: 20;\n  background: black;\n\n  .delete-edit-links {\n    float: left;\n  }\n`\n\nexport default function PoemHeader({\n  authorId,\n  poemId,\n}: {\n  authorId: string\n  poemId: string\n}) {\n  return (\n    <HeaderDiv className=\"poem-header\">\n      <DeleteEditLinks {...{ authorId, poemId }} />\n      {poemId && (\n        <Link to={`/poem/${poemId}`} data-cy=\"view-close-up-poem\">\n          view\n        </Link>\n      )}\n    </HeaderDiv>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/paper-rect-contrast.e66685ca.jpg\";","export default __webpack_public_path__ + \"static/media/tree-bark.32958e04.jpg\";","export default __webpack_public_path__ + \"static/media/contemporary_china_small.de76a51e.png\";","export default __webpack_public_path__ + \"static/media/4345189-xs.488cc791.jpg\";","export default __webpack_public_path__ + \"static/media/f0c4457.f1a0d7a4.jpg\";","export default __webpack_public_path__ + \"static/media/maxresdefault.4be2421c.jpg\";","export default __webpack_public_path__ + \"static/media/blueTile.b092c647.jpg\";","export default __webpack_public_path__ + \"static/media/life_original_wild_urban_shells_abstract_texture_love-572258.16701eac.jpg\";","export default __webpack_public_path__ + \"static/media/painting-cracks.aef5b50c.jpg\";","export default __webpack_public_path__ + \"static/media/Alcala_lg.fae98355.jpg\";","export default __webpack_public_path__ + \"static/media/map2.3c916e96.jpg\";","export default __webpack_public_path__ + \"static/media/blue.9dcb9750.jpg\";","export default __webpack_public_path__ + \"static/media/triangles-123.3dd0203b.jpg\";","export default __webpack_public_path__ + \"static/media/1_mU0yXR99Bg91S1ACSyPq_w.1960b2a2.jpg\";","import styled from \"styled-components\"\nimport { sizes, color } from \"src/components/universal/_variables\"\nimport paperTextureImg from \"src/images/paper-rect-contrast.jpg\"\nimport treeBarkImg from \"src/images/tree-bark.jpg\"\nimport circlePatternImg from \"src/images/contemporary_china_small.png\"\nimport oldPaperImg from \"src/images/4345189-xs.jpg\"\nimport f0c4457 from \"src/images/f0c4457.jpg\"\nimport maxresdefault from \"src/images/maxresdefault.jpg\"\nimport blueTile from \"src/images/blueTile.jpg\"\nimport tile from \"src/images/life_original_wild_urban_shells_abstract_texture_love-572258.jpg\"\nimport paintingCracks from \"src/images/painting-cracks.jpg\"\nimport Alcala_lg from \"src/images/Alcala_lg.jpg\"\nimport map from \"src/images/map2.jpg\"\nimport blue from \"src/images/blue.jpg\"\nimport triangles123 from \"src/images/triangles-123.jpg\"\nimport mU0yXR99Bg91S1ACSyPq_w from \"src/images/1_mU0yXR99Bg91S1ACSyPq_w.jpg\"\n\n// @for $i from 1 through 36 {\n//   .color-#{$i} {\n//     filter: hue-rotate(#{10 * $i}deg);\n//   }\n// }\n\nexport const BodyDiv = styled.div`\n  line-height: 1em;\n  height: 25em; /* 25 lines */\n  overflow: hidden;\n  font-family: \"Garamond\", serif;\n  font-weight: 400;\n  padding-bottom: 0.3em;\n  padding-top: 1.5em;\n  padding-bottom: 1.5em;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n`\n\nlet stringColors = \"\"\n\nlet i = 0\nwhile (i < 36) {\n  i++\n  stringColors += `\n    &.color-${i} .background-img, &.color-${i} .poem-text {\n      filter: hue-rotate(${i * 10}deg);\n    }\n  `\n}\n\nconst PoemDiv = styled.div`\n  ${stringColors};\n  &.close-up {\n    margin: auto;\n    display: block;\n    width: ${sizes.poemWidth * 2}px;\n    font-size: ${sizes.fontSizeBase * 2}px;\n    .background-img {\n      width: ${sizes.poemWidth * 2}px;\n      height: ${sizes.poemHeight * 2}px;\n    }\n    .poem-header, .poem-footer {\n      font-size: ${sizes.fontSizeBase * 1.5}px;\n    }\n  }\n  .poem-header, .poem-text, .poem-footer {\n    padding-left: .5em;\n    padding-right: .5em;\n  }\n  .poem-header, .poem-footer {\n    width: 100%;\n    background: rgba(0, 0, 0, 0);\n    color: ${color.lightGrey};\n    font-size: ${sizes.fontSizeBase}px;\n    a {\n      color: ${color.greyDarken1};\n      &:hover {\n        color: white;\n      }\n    }\n  }\n  width: ${sizes.poemWidth}px;\n  margin: 1em;\n  display: inline-block;\n  vertical-align: text-top;\n  text-align: center;\n  position: relative; /* for absolute overflow styles */\n  overflow: hidden;\n\n  .background-img {\n    content: \"\";\n    background: url(${paperTextureImg});\n    position: absolute;\n    width: ${sizes.poemWidth}px;\n    height: ${sizes.poemHeight}px;\n    z-index: -10;\n    top: 0;\n    left: 0;\n  }\n\n  .is-selected {\n    position: relative; /* for zindex */\n    background: yellow;\n  }\n  .not-selected {\n    color: rgba(0, 0, 0, 0.2);\n  }\n\n  /* @include mobile {\n    width: 100%;\n  } */\n\n  &.style-1 {\n    .background-img {\n      filter: contrast(1.2);\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0.1);\n      text-shadow: ${color.greyLighten2} 0 0 0.2em;\n    }\n    .is-selected {\n      text-shadow: black 1px 1px 1px;\n      background: none;\n    }\n  }\n\n  &.style-2 {\n    .background-img {\n      filter: contrast(1.2);\n    }\n    .not-selected {\n      opacity: 0;\n    }\n    .is-selected {\n      background: none;\n    }\n  }\n\n  &.style-3 {\n    .background-img {\n      filter: invert(100%);\n    }\n    .not-selected {\n      opacity: .2;\n    }\n    .is-selected {\n      background: none;\n      color: white;\n    }\n  }\n\n  &.style-4 {\n    background: white;\n    .is-selected {\n      background: pink;\n      &:before {\n        content: \"\";\n        position: absolute;\n        height: 1.2em;\n        width: 1000px;\n        border: .2em solid;\n        margin: -.1em;\n        margin-left: -.3em;\n        z-index: 11;\n      }\n    }\n  }\n\n  &.style-5 {\n    .background-img {\n      background: white;\n    }\n    .not-selected {\n      color: black;\n      border-top: solid 0.1em;\n      border-bottom: solid 0.1em;\n      text-decoration: line-through;\n    }\n    .is-selected {\n      background: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceSm}px;\n      margin: ${-sizes.spaceSm}px;\n      box-shadow: black 0.2em 0.2em 0;\n    }\n  }\n\n  &.style-6 {\n    .not-selected {\n      background: rgba(0,0,0, .75);\n    }\n    .is_selected {\n      background: white !important;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-7 {\n    .background-img {\n      background: url(${circlePatternImg});\n      background-size: 20%;\n    }\n    .is-selected {\n      background: none !important;\n      text-shadow: black 0.05em 0.02em 0;\n    }\n  }\n\n  &.style-8 {\n    .background-img {\n      background: url(${treeBarkImg});\n    }\n    .is-selected {\n      color: white;\n      background: red;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-9 {\n    .background-img {\n      background: url(${paintingCracks});\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #3e144c;\n      color: #cccbbf;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-10 {\n    .background-img {\n      background: url(${f0c4457});\n      background-size: 100%;\n    }\n    .not-selected {\n      color: rgba(255, 255, 255, .2);\n    }\n    .is-selected {\n      background: none;\n      color: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-11 {\n    .background-img {\n      background: url(${oldPaperImg});\n      background-size: 100%;\n      opacity: .5;\n    }\n    .is-selected {\n      background: #000068;\n      color: #cccbbf;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-12 {\n    .background-img {\n      background: url(${mU0yXR99Bg91S1ACSyPq_w});\n      background-size: 80%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: #0091ae;\n      color: #e7b8bc;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-13 {\n    .background-img {\n      background: url(${maxresdefault});\n      background-size: 120%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: none;\n      color: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      text-shadow: white 1px 1px 1px;\n    }\n  }\n\n  &.style-14 {\n    .background-img {\n      background: url(${blueTile});\n      background-size: 20%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: #8f1660;\n      color: #ebe8ce;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-15 {\n    .background-img {\n      background: url(${tile});\n      filter: darken(6);\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #2c3c4e;\n      color: #cccbbf;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-16 {\n    .background-img {\n      background: url(${triangles123});\n      background-repeat: repeat-y;\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #f7ffa9;\n      color: #499991;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-17 {\n    .background-img {\n      background: url(${Alcala_lg});\n      background-repeat: repeat-y;\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #380b1c;\n      color: #d2d4d1;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-18 {\n    .background-img {\n      background: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjAiIGhlaWdodD0iMzAiPgo8ZGVmcz4KPHJlY3QgaWQ9InIiIHdpZHRoPSIzMCIgaGVpZ2h0PSIxNSIgZmlsbD0iI2JiMDg1ZiIgc3Ryb2tlLXdpZHRoPSIyLjUiIHN0cm9rZT0iIzdhMDU0ZCI+PC9yZWN0Pgo8ZyBpZD0icCI+Cjx1c2UgeGxpbms6aHJlZj0iI3IiPjwvdXNlPgo8dXNlIHk9IjE1IiB4bGluazpocmVmPSIjciI+PC91c2U+Cjx1c2UgeT0iMzAiIHhsaW5rOmhyZWY9IiNyIj48L3VzZT4KPHVzZSB5PSI0NSIgeGxpbms6aHJlZj0iI3IiPjwvdXNlPgo8L2c+CjwvZGVmcz4KPHVzZSB4bGluazpocmVmPSIjcCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMjUpIHNrZXdZKDQwKSI+PC91c2U+Cjx1c2UgeGxpbms6aHJlZj0iI3AiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwIDApIHNrZXdZKC00MCkiPjwvdXNlPgo8L3N2Zz4=\");\n      background-size: 100%;\n    }\n    .is-selected {\n      background: white;\n      color: black;\n      padding: ${0.1}em ${0.3}em;\n      margin: ${-0.1}em ${-0.3}em;\n      .text {\n        z-index: 11;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-19 {\n    .background-img {\n      background: url(${map});\n      background-position-x: 60%;\n      background-position-y: 70%;\n    }\n    .is-selected {\n      background: black;\n      padding: 5px 15px;\n      margin: -15px;\n      color: #61c098;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-20 {\n  .background-img {\n    background: url(${blue});\n    background-size: 8%;\n  }\n  .not-selected {\n    color: rgba(0, 0, 0, 0);\n  }\n  .is-selected {\n    background: white;\n    color: #008308;\n    padding: 0 ${sizes.spaceSm}px;\n    margin: 0 ${-sizes.spaceSm}px;\n  }\n`\n\nexport default PoemDiv\n","import React from \"react\"\nimport { BodyDiv } from \"src/components/poem/PoemDiv\"\nimport { TextChunkType } from \"src/queries/autogenerate/schemas\"\n\nconst TextSpan = ({ isSelected, text }: TextChunkType) => (\n  <span className={isSelected ? \"is-selected\" : \"not-selected\"}>\n    <span className=\"text\">{text}</span>\n  </span>\n)\n\nexport default function PoemBody({\n  textChunks,\n}: {\n  textChunks: TextChunkType[]\n}) {\n  return (\n    <BodyDiv className=\"poem-text\">\n      {textChunks &&\n        textChunks.map((textSpan, i) => <TextSpan key={i} {...textSpan} />)}\n    </BodyDiv>\n  )\n}\n","import * as React from \"react\"\nimport { Link } from \"react-router-dom\"\n\nconst UsernameLink = ({\n  username,\n  userId,\n}: {\n  username?: string\n  userId: string\n}) => (\n  <div className=\"username\" data-cy=\"usernameLink\">\n    <Link to={`/user/${userId}`}>{username}</Link>\n  </div>\n)\n\nexport default UsernameLink\n","import React from \"react\"\nimport UsernameLink from \"src/components/universal/UsernameLink\"\n\nexport default function PoemFooter({\n  authorUsername,\n  authorId,\n}: {\n  authorUsername?: string\n  authorId: string\n}) {\n  return (\n    <div className=\"poem-footer\">\n      <UsernameLink userId={authorId} username={authorUsername} />\n    </div>\n  )\n}\n","import styled from \"styled-components\"\n\nconst Loader = styled.div`\n  display: inline-block;\n  width: 64px;\n  height: 64px;\n  &:after {\n    content: \" \";\n    display: block;\n    width: 46px;\n    height: 46px;\n    margin: 1px;\n    border-radius: 50%;\n    border: 5px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: lds-dual-ring 1.2s linear infinite;\n  }\n  @keyframes lds-dual-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`\n\nexport default Loader\n","import React from \"react\"\nimport PoemHeader from \"./PoemHeader\"\nimport PoemBody from \"./PoemBody\"\nimport PoemFooter from \"./PoemFooter\"\nimport PoemDiv from \"src/components/poem/PoemDiv\"\nimport Loader from \"../universal/Loader\"\nimport { IPoem } from \"../types\"\n\nexport default function Poem(props: { poem: IPoem; closeUp?: boolean }) {\n  const { poem } = props\n  if (!poem) {\n    return (\n      <div className=\"poem\">\n        <Loader />\n      </div>\n    )\n  }\n  const { id, backgroundId, colorRange, textChunks, author } = poem\n  if (!author.id) return null\n\n  return (\n    <PoemDiv\n      className={`poem style-${backgroundId} color-${colorRange} ${\n        props.closeUp ? \"close-up\" : \"\"\n      }`}\n      data-test={`poem${id}`}\n      data-cy=\"poem\"\n    >\n      <div className=\"background-img\" />\n      <PoemHeader poemId={id} authorId={author.id} />\n      <PoemBody textChunks={textChunks} />\n      <PoemFooter authorUsername={author.username} authorId={author.id} />\n    </PoemDiv>\n  )\n}\n","import styled from \"styled-components\"\nimport { sizes } from \"src/components/universal/_variables\"\nconst exampleClickingImg = require(\"src/images/example-clicking.gif\")\n\nconst CloseUpPoemDiv = styled.div`\n  .close-up-poem-view {\n    text-align: center;\n    width: ${sizes.poemWidth * 2};\n    margin: auto;\n    text-align: center;\n    .poem {\n      margin: 0;\n      width: ${sizes.poemWidth * 2};\n    }\n  }\n  .help-image {\n    background: url(${exampleClickingImg});\n    width: 100px;\n    height: 100px;\n  }\n`\n\nexport default CloseUpPoemDiv\n","import React from \"react\"\nimport Poem from \"src/components/poem/Poem\"\nimport CloseUpPoemDiv from \"src/components/poem/CloseUpPoemDiv\"\nimport Loader from \"../universal/Loader\"\nimport { useGetSinglePoemQuery } from \"../../queries/autogenerate/hooks\"\nimport { useParams } from \"react-router-dom\"\n\nexport default function CloseUpPoemView() {\n  const { id } = useParams<{ id: string }>()\n  const { data, loading } = useGetSinglePoemQuery({\n    variables: {\n      id,\n    },\n  })\n  if (loading) return <Loader />\n  return (\n    <CloseUpPoemDiv>\n      <Poem poem={data.poem} closeUp />\n    </CloseUpPoemDiv>\n  )\n}\n","import React from \"react\"\nimport Poem from \"src/components/poem/Poem\"\nimport styled from \"styled-components\"\nimport { GetPoemsQuery } from \"src/queries/autogenerate/operations\"\nimport InfiniteScroll from \"react-infinite-scroller\"\nimport Loader from \"../universal/Loader\"\n\nexport const LoadingPoemDiv = styled.div`\n  width: 250px;\n  height: 450px;\n  margin: 16px;\n  background: #ddd;\n  display: inline-block;\n`\n\nexport const PoemContainerDiv = styled.div`\n  margin: auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  grid-gap: 10px;\n  > div {\n    text-align: center;\n    margin-left: -2rem;\n    margin-right: -2rem;\n  }\n`\n\nexport default function IndexView({\n  poems,\n  fetchMore,\n}: {\n  poems: GetPoemsQuery[\"poemPages\"]\n  fetchMore?: (vars: any) => Promise<any>\n}) {\n  return (\n    <PoemContainerDiv>\n      <InfiniteScroll\n        loadMore={(page) => {\n          return fetchMore({ variables: { offset: 10 * page, limit: 10 } })\n        }}\n        hasMore={!(poems.edges.length % 10)}\n        loader={<Loader />}\n      >\n        {poems &&\n          poems.edges.map((poem) => {\n            return <Poem poem={poem} key={poem.id} />\n          })}\n      </InfiniteScroll>\n    </PoemContainerDiv>\n  )\n}\n\n// class IndexViewWData extends React.PureComponent<{ userId?: number }> {\n//   render() {\n//     return (\n//       <Query\n//         query={GET_POEMS}\n//         variables={{\n//           offset: 0,\n//           authorId: this.props.userId,\n//         }}\n//         // notifyOnNetworkStatusChange\n//         // fetchPolicy=\"cache-and-network\"\n//       >\n//         {({\n//           error,\n//           data,\n//           loading,\n//           fetchMore,\n//         }: QueryResult<IGetPoemsResponse, {}>) => {\n//           if (loading)\n//             return (\n//               <PoemContainerDiv>\n//                 <div>\n//                   <LoadingPoemDiv />\n//                   <LoadingPoemDiv />\n//                   <LoadingPoemDiv />\n//                   <LoadingPoemDiv />\n//                   <LoadingPoemDiv />\n//                   <LoadingPoemDiv />\n//                 </div>\n//               </PoemContainerDiv>\n//             )\n//           if (error) return <p>Error :(</p>\n//           if (!data) return <p>Empty</p>\n\n//           return (\n//             <IndexView\n//               poems={data.poems.items}\n//               hasMore={data.poems.hasMore}\n//               loadMore={(page) => {\n//                 return fetchMore({\n//                   variables: {\n//                     offset: page * POEM_LIMIT,\n//                   },\n//                   updateQuery: (prev, { fetchMoreResult }) => {\n//                     if (!fetchMoreResult) return prev\n//                     if (\n//                       (last(prev.poems.items) || ({} as any)).id ===\n//                       (last(fetchMoreResult.poems.items) || ({} as any)).id\n//                     ) {\n//                       return prev // getting double called randomly\n//                     }\n//                     return Object.assign({}, prev, {\n//                       poems: {\n//                         ...fetchMoreResult.poems,\n//                         items: [\n//                           ...prev.poems.items,\n//                           ...fetchMoreResult.poems.items,\n//                         ],\n//                       },\n//                     })\n//                   },\n//                 })\n//               }}\n//             />\n//           )\n//         }}\n//       </Query>\n//     )\n//   }\n// }\n","import React, { useEffect } from \"react\"\nimport IndexView from \"src/components/manyPoemViews/IndexView\"\nimport { useGetPoemsQuery } from \"src/queries/autogenerate/hooks\"\nimport Loader from \"../universal/Loader\"\n\nexport default function HomeView() {\n  const { data, fetchMore } = useGetPoemsQuery({ variables: { limit: 10 } })\n  if (!data) {\n    return <Loader />\n  }\n\n  return (\n    <div className=\"index-view\">\n      <h5>Browse through all the communities poems!</h5>\n      <IndexView {...{ poems: data.poemPages, fetchMore }} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport IndexView from \"src/components/manyPoemViews/IndexView\"\nimport Loader from \"../universal/Loader\"\nimport {\n  useGetUserQuery,\n  useGetPoemsByAuthorQuery,\n} from \"src/queries/autogenerate/hooks\"\nimport { useParams } from \"react-router-dom\"\n\nconst ProfileHeader = ({ id }) => {\n  const { data } = useGetUserQuery({ variables: { id } })\n  if (!data) return <Loader />\n  const { current, user } = data\n  const isCurrentUser = current?.id === user.id\n  const pronoun = isCurrentUser ? \"you\" : \"they\"\n  const poemsWrittenCount = user && user.poemsWrittenCount\n  const dateJoined = user && moment(user.dateJoined).fromNow()\n  return (\n    <div className=\"mx-3\">\n      <h1>{user && user.username}</h1>\n      <div>\n        Poems Written: <strong>{poemsWrittenCount}</strong>\n      </div>\n      <div>\n        Signed Up: <strong>{dateJoined}</strong>\n      </div>\n      <h5>Look at all the lovely poems {pronoun} have written!</h5>\n    </div>\n  )\n}\n\nfunction UserPoems({ authorId }) {\n  const { data, fetchMore } = useGetPoemsByAuthorQuery({\n    variables: { authorId, limit: 10 },\n  })\n  if (!data) return <Loader />\n  return <IndexView poems={data.poemPages} fetchMore={fetchMore} />\n}\n\nexport default function ProfileView() {\n  const { id } = useParams<{ id: string }>()\n  return (\n    <div className=\"index-view\">\n      <ProfileHeader id={id} />\n      <UserPoems authorId={id} />\n    </div>\n  )\n}\n","import React from \"react\"\n\nconst PoemistLogo = () => (\n  <svg viewBox=\"0 0 380.5 128.1\" style={{ minWidth: \"5rem\" }}>\n    <path\n      d=\"M29.8,0c11.3,0,23,0.2,33.8,3.9c26.7,10.4,35.1,41,23,65.9C75.2,90.2,50.9,92.9,29.8,92.9h-23v31.8c0,4.5-6.7,4.6-6.7,0V3.5\n      C0,0.9,2.6,0,4.8,0H29.8z M6.7,6.5v79.9h24.7c17.6,0,38.6-2.2,49-18.4V68C87.9,54.8,88,35,78.9,22.5C68.7,8.4,49,6.5,33.1,6.5H6.7z\"\n    />\n    <path\n      d=\"M114,69.3c28.2,0,28.1,43.6,0,43.6C86,112.8,85.8,69.3,114,69.3z M114,75.7c-19.9,0-19.8,30.6,0,30.7\n      C133.6,106.5,133.6,75.7,114,75.7z\"\n    />\n    <path\n      d=\"M150.5,93.3c0.9,9.9,10.5,14.9,19.7,12.5c4.2-1.1,6.6-4.8,10.4-6.1c3.7-1.3,6.6,2.4,3.5,5.5c-8,8-21.6,10.7-31.3,4.1\n      c-9.1-6.1-11.2-19.7-6.3-29.1c5-9.5,17.2-13.7,27.1-9.5c4.9,2.1,9,6,11.2,10.9c1.5,3.4,3.9,11.7-2.1,11.7H150.5z M179.7,87\n      c-3.4-14.8-25.7-15.1-28.9-0.1L179.7,87z\"\n    />\n    <path\n      d=\"M206.6,76.1c0,0.3,0,0.7-0.1,1c6.4-5.2,24-14.1,27.2-0.6c9.3-6.9,28.4-13.1,28.4,4.6v27.7c0,4.3-6.5,4.6-6.5,0V84.3\n      c0-3.9,0.1-7.9-4.5-8.6c-5.8-0.9-12.9,5.2-17.1,8.3v24.8c0,4.3-6.4,4.6-6.4,0v-23c0-4.1,0.2-9.6-5-10.1c-5.6-0.5-12.4,6.2-16.3,9.5\n      v23.6c0,4.3-6.4,4.6-6.4,0V72.7c0-1.8,1.3-3.6,3.3-3.4C206.5,69.6,206.6,73.7,206.6,76.1z\"\n    />\n    <path\n      d=\"M284.8,39.7c6.5,0,6.5,10.2,0,10.2C278.2,49.9,278.3,39.7,284.8,39.7z M288,108.8c0,4.2-6.4,4.5-6.4,0V72.7\n      c0-4.3,6.4-4.6,6.4,0.1V108.8z\"\n    />\n    <path\n      d=\"M311,105.3c6.9,2.6,16.4-2.8,6.8-7.6c-7.6-3.8-16.1-5.6-13.6-16.4c2-8.6,11.2-12.8,19.4-11.9c2.6,0.3,8.6,1.4,9.3,4.6\n      c0.7,3.6-2.8,4.2-5.5,3.1h0.1c-5.7-2.5-20.6-1-17.3,8.8c2.2,6.5,13.4,5.1,17.1,10.8c5.6,8.6-3.8,16.6-12.1,16.1\n      c-2.6-0.2-8.3-1-9.4-3.7c-1.2-3,2.4-6.5,5-3.9L311,105.3z\"\n    />\n    <path\n      d=\"M356.4,95.5c0,8.2,5.1,14,13.5,9.5c2.4-1.3,4.9-5.7,7.5-5.8c3.1,0,4,3.6,2,5.6l0.1-0.1c-4.4,6.4-12.3,9.4-19.9,7.6\n      c-8.1-2-9.8-9.4-9.6-16.8l0.3-18.9h-10.2c-4.2,0-4.5-6.3,0-6.3h10.4l0.9-28.7c0.2-4.3,6.3-4.5,6.3,0L357,70.3h16\n      c4.1,0,4.4,6.3,0,6.3h-16.2C356.8,82.9,356.4,89.2,356.4,95.5z\"\n    />\n  </svg>\n)\n\nexport default PoemistLogo\n","import styled from \"styled-components\"\nimport { sizes, color } from \"src/components/universal/_variables\"\n\nconst NavbarDiv = styled.div`\n  li {\n    display: inline-block;\n    margin: ${sizes.spaceBase}px;\n  }\n  text-align: right;\n  position: fixed;\n  top: 0;\n  z-index: 30;\n  background: ${color.darkGrey};\n  color: ${color.lightGrey};\n  width: 100%;\n  padding: ${sizes.spaceBase}px;\n  height: ${sizes.headerHeight}px;\n\n  a {\n    color: ${color.lightGrey};\n  }\n\n  .active {\n    color: white;\n  }\n\n  .navbarMenu {\n    margin-bottom: 0;\n    padding-left: 0;\n    /* background: $dark-grey; */\n\n    /* @include mobile {\n        li {\n          display: block;\n        }\n      } */\n  }\n  .hamburger {\n    display: none;\n\n    /* @include mobile {\n        display: block;\n      } */\n  }\n\n  .hidden-xs {\n    /* @include mobile {\n        display: none;\n      } */\n  }\n\n  .logo {\n    float: left;\n    margin: ${sizes.spaceBase}px;\n    svg {\n      max-width: 13rem;\n      width: calc(100vw - 420px);\n      fill: ${color.lightGrey};\n    }\n  }\n\n  @media (max-width: ${sizes.mobileL}) {\n    .logo {\n      margin: 0;\n    }\n    .navbar {\n      padding: 0;\n    }\n  }\n  @media (max-width: ${sizes.tablet}) {\n    .logo {\n      margin: 0;\n    }\n    .navbar {\n      padding: 0;\n    }\n  }\n`\n\nexport default NavbarDiv\n","import React from \"react\"\nimport { NavLink } from \"react-router-dom\"\nimport PoemistLogo from \"src/components/fullApp/Logo\"\nimport NavbarDiv from \"./NavbarDiv\"\nimport { Select, MenuItem } from \"@material-ui/core\"\nimport { useHistory } from \"react-router-dom\"\nimport { useGetCurrentUserQuery } from \"src/queries/autogenerate/hooks\"\n\nconst LogInOut = ({ toggleShowLogin }: { toggleShowLogin: () => void }) => (\n  <span>\n    <a onClick={toggleShowLogin} data-test=\"signUpLink\">\n      Sign Up\n    </a>\n  </span>\n)\n\nfunction Navbar() {\n  const history = useHistory()\n  const { data } = useGetCurrentUserQuery()\n  const currentUser = data?.current\n  return (\n    <div\n      className=\"navbar\"\n      style={{ display: \"inline-block\", minWidth: 345, marginRight: \"-1rem\" }}\n    >\n      <div />\n      <ul className={\"navbarMenu expanded\"}>\n        <li>\n          <NavLink activeClassName=\"active\" exact to=\"/\">\n            Home\n          </NavLink>\n        </li>\n        <li>\n          <NavLink activeClassName=\"active\" to=\"/about\">\n            About\n          </NavLink>\n        </li>\n        <li>\n          <NavLink activeClassName=\"active\" to=\"/new/write\">\n            Create\n          </NavLink>\n        </li>\n        {currentUser && (\n          <li>\n            <NavLink\n              activeClassName=\"active\"\n              to={`/user/${currentUser.id}`}\n              data-test=\"profileLink\"\n            >\n              Profile\n            </NavLink>\n\n            <Select labelId=\"demo-simple-select-label\" id=\"demo-simple-select\">\n              <MenuItem onClick={() => history.push(`/user/${currentUser.id}`)}>\n                {currentUser.username}\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  localStorage.clear()\n                  // location.reload()\n                }}\n              >\n                Logout\n              </MenuItem>\n            </Select>\n          </li>\n        )}\n\n        {!currentUser && (\n          <li>\n            <LogInOut toggleShowLogin={() => history.push(\"?showLogin=true\")} />\n          </li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default function FullNav() {\n  return (\n    <NavbarDiv>\n      <NavLink to=\"/\" className=\"logo\">\n        <PoemistLogo />\n      </NavLink>\n      <Navbar />\n    </NavbarDiv>\n  )\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { sizes } from \"src/components/universal/_variables\"\nimport Navbar from \"src/components/fullApp/Navbar\"\n// import ModalContainer from \"src/components/login/ModalContainer\"\n// import 'reset-css/reset.css'\n\nconst AppDiv = styled.div`\n  @media (max-width: 550px) {\n    min-width: 550px;\n    .poem {\n      margin: 0.2em;\n    }\n    /* .close-up-poem-view {\n      min-width: 550px;\n    } */\n  }\n  .app {\n    font-size: ${sizes.fontSizeBase};\n    font-family: \"Avenir Next\", sans-serif;\n  }\n\n  .page-body {\n    padding: ${sizes.spaceBase}px;\n    margin-top: ${sizes.headerHeight}px;\n    text-align: center;\n  }\n\n  .index-view {\n    text-align: left;\n  }\n\n  .error {\n    color: red;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    text-align: center;\n  }\n\n  a:hover {\n    cursor: pointer;\n  }\n`\n\nexport default function AppWrapper({ children }) {\n  return (\n    <AppDiv>\n      <Navbar />\n      <div className=\"page-body\">{children}</div>\n\n      {/* <ModalContainer /> */}\n    </AppDiv>\n  )\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nconst DivAbout = styled.div`\n  text-align: left;\n  max-width: 800px;\n  margin: auto;\n`\n\nexport default function About() {\n  return (\n    <DivAbout className=\"about\">\n      <h1>About</h1>\n      <p>\n        <i>\n          A <strong>found poem</strong> is a poem that is composed with words\n          and phrases from another text.\n        </i>\n      </p>\n      <section>\n        <p>\n          It may seem limiting to choose words only from a prearranged set, but\n          limitations are one of the best drives of creativity.\n        </p>\n        <p>\n          For the sake of this website there are a set of very specific\n          constraints on each poem.\n        </p>\n        <ul>\n          <li>You will recieve exactly 40 lines of text</li>\n          <li>\n            You may select any words or letters from this text to create your\n            poem\n          </li>\n          <li>You cannot rearrange them</li>\n        </ul>\n        <p>\n          The poems are meant to be a fun exercise not a throughout masterpiece,\n          so don't spend too much time on each one. Churn out a few and discover\n          moments of accidental brilliance and insight, or simply silliness.\n          Take the stress and pressure out of writing and just have fun!\n        </p>\n        <h4>Contact</h4>\n        <p>We would love to hear from you!</p>\n        <p>Direct any comments or questions to poemistnet@gmail.com.</p>\n      </section>\n    </DivAbout>\n  )\n}\n","import { flatten } from \"lodash\"\nimport { IWordLetter, ITextChunk } from \"src/components/types\"\n\nfunction getSelectedTexts(wordLetters: IWordLetter[][]) {\n  const letters = flatten(wordLetters)\n  let currentlySelected = false\n  const allText: ITextChunk[] = []\n  let text = \"\"\n\n  letters.forEach((letter) => {\n    // only push index when switching\n    if (letter.isSelected !== currentlySelected) {\n      if (text) allText.push({ text, isSelected: currentlySelected })\n      text = letter.ch\n      currentlySelected = !currentlySelected\n    } else {\n      text += letter.ch\n    }\n  })\n\n  // if selected at end, close it\n  if (text) allText.push({ text, isSelected: currentlySelected })\n  return allText\n}\n\nexport default getSelectedTexts\n","import React from \"react\"\nimport {\n  useUpdatePoemMutation,\n  useCreatePoemMutation,\n} from \"src/queries/autogenerate/hooks\"\nimport getSelectedTexts from \"src/utils/getSelectedTexts\"\nimport { GetSinglePoemDocument } from \"src/queries/autogenerate/hooks\"\n\nexport default function SavePoemButton({ poem, children }) {\n  let { id, textChunks, backgroundId, colorRange, book } = poem\n  const bookId = book?.id\n  if (poem.wordLetters) {\n    textChunks = getSelectedTexts(poem.wordLetters)\n  } else {\n    textChunks = textChunks.map(({ __typename, ...rest }) => rest)\n  }\n  const [updatePoemMutation] = useUpdatePoemMutation({\n    variables: {\n      id,\n      textChunks,\n      backgroundId,\n      colorRange,\n    },\n  })\n  const [createPoemMutation] = useCreatePoemMutation({\n    variables: {\n      textChunks,\n      bookId,\n    },\n  })\n\n  return (\n    <div>\n      {children({ savePoem: id ? updatePoemMutation : createPoemMutation })}\n    </div>\n  )\n}\n","import styled from \"styled-components\"\nimport { sizes, color } from \"src/components/universal/_variables\"\n\nconst ToolbarDiv = styled.div`\n  text-align: left;\n  position: fixed;\n  left: calc(50vw + 250px);\n  top: 18rem;\n  width: 170px;\n  @media (max-width: ${sizes.tablet}) {\n    width: ${sizes.poemWidth * 2}px;\n    left: calc(50vw - 250px);\n    bottom: 0;\n    top: auto;\n    z-index: 10;\n    .toolbar-tab {\n      display: inline-block;\n      width: 50%;\n      border: ${color.greyDarken4} solid !important;\n      font-size: ${sizes.fontSizeBase * 1.5}px !important;\n      margin: 0 !important;\n    }\n    .lower {\n      font-size: ${sizes.fontSizeBase * 2}px !important;\n    }\n  }\n  @media (max-width: 550px) {\n    left: 0;\n    width: 100%;\n  }\n\n  .toolbar {\n    margin-left: ${sizes.poemWidth * 2}px;\n    margin-top: ${sizes.spaceBase * 3}px;\n    font-size: ${sizes.fontSizeLg}px;\n  }\n\n  .toolbar-tab {\n    font-size: ${sizes.fontSizeBase}px;\n    background: #333;\n    color: white;\n    margin: ${sizes.spaceSm}px 0;\n    text-align: left;\n    border: none;\n    cursor: pointer;\n\n    &-lg {\n      font-size: ${sizes.fontSizeLg}px;\n    }\n\n    button {\n      background: black;\n      color: white;\n      border: none;\n    }\n  }\n  button[disabled] {\n    background: #aaa;\n  }\n  .arrow-btn {\n    font-size: 2em !important;\n    cursor: pointer;\n  }\n  .text {\n    display: inline-block;\n    padding: 0.5em;\n  }\n`\n\nexport default ToolbarDiv\n","import React from \"react\"\nimport { withRouter, RouteComponentProps } from \"react-router-dom\"\nimport {\n  FaAngleRight,\n  FaAngleLeft,\n  FaArrowRight,\n  FaArrowLeft,\n} from \"react-icons/fa\"\nimport SavePoemButton from \"./SavePoemButton\"\nimport ToolbarDiv from \"./ToolbarDiv\"\nimport { GetSinglePoemQuery } from \"src/queries/autogenerate/operations\"\n\nconst BACKGROUND_ID_COUNT = 20\nconst COLOR_RANGE_COUNT = 36\n\nfunction keepInRange({ num, upperlimit }: { num: number; upperlimit: number }) {\n  if (num < 0) {\n    return upperlimit - 1\n  }\n  if (num > upperlimit) {\n    return num - upperlimit\n  }\n  return num\n}\n\ninterface IProps {\n  poem: GetSinglePoemQuery[\"poem\"]\n  updateStyle: (arg: { backgroundId?: number; colorRange?: number }) => void\n}\n\nclass StyleToolbar extends React.PureComponent<\n  IProps & RouteComponentProps<{ id: string }>\n> {\n  backgroundUp = () => {\n    const num = this.props.poem.backgroundId + 1\n    const backgroundId = keepInRange({ num, upperlimit: BACKGROUND_ID_COUNT })\n    this.props.updateStyle({ backgroundId })\n  }\n  backgroundDown = () => {\n    const num = this.props.poem.backgroundId - 1\n    const backgroundId = keepInRange({ num, upperlimit: BACKGROUND_ID_COUNT })\n    this.props.updateStyle({ backgroundId })\n  }\n  colorUp = () => {\n    const num = this.props.poem.colorRange + 1\n    const colorRange = keepInRange({ num, upperlimit: COLOR_RANGE_COUNT })\n    this.props.updateStyle({ colorRange })\n  }\n  colorDown = () => {\n    const num = this.props.poem.colorRange - 1\n    const colorRange = keepInRange({ num, upperlimit: COLOR_RANGE_COUNT })\n    this.props.updateStyle({ colorRange })\n  }\n  render() {\n    const { poem } = this.props\n    const backUrl = `/edit/write/${poem.id}`\n    return (\n      <ToolbarDiv className=\"style-toolbar toolbar\">\n        <div className=\"toolbar-tab\">\n          <button\n            onClick={this.backgroundDown}\n            className=\"arrow-btn\"\n            data-ux=\"background-id-down\"\n          >\n            <FaAngleLeft />\n          </button>\n          <span className=\"text\">Style {poem.backgroundId}</span>\n          <button\n            onClick={this.backgroundUp}\n            className=\"arrow-btn\"\n            data-ux=\"background-id-up\"\n            style={{ float: \"right\" }}\n          >\n            <FaAngleRight />\n          </button>\n        </div>\n\n        <div className=\"toolbar-tab\">\n          <button\n            onClick={this.colorDown}\n            className=\"arrow-btn\"\n            data-ux=\"color-range-down\"\n          >\n            <FaAngleLeft />\n          </button>\n\n          <span className=\"text\">Color {poem.colorRange}</span>\n\n          <button\n            onClick={this.colorUp}\n            className=\"arrow-btn\"\n            data-ux=\"color-range-up\"\n            style={{ float: \"right\" }}\n          >\n            <FaAngleRight />\n          </button>\n        </div>\n\n        <div\n          className=\"toolbar-tab lower\"\n          onClick={() => {\n            this.props.history.push(backUrl)\n          }}\n        >\n          <span className=\"text\">\n            <FaArrowLeft /> Back\n          </span>\n        </div>\n        <SavePoemButton poem={poem}>\n          {({ savePoem }) => (\n            <button\n              onClick={() => {\n                savePoem().then(() => {\n                  this.props.history.push(\"/\")\n                  window.location.reload()\n                })\n              }}\n              className=\"toolbar-tab toolbar-tab-lg lower\"\n              data-test=\"saveLink\"\n            >\n              <span className=\"text\">\n                Finish <FaArrowRight />\n              </span>\n            </button>\n          )}\n        </SavePoemButton>\n      </ToolbarDiv>\n    )\n  }\n}\n\nexport default withRouter(StyleToolbar)\n","import React, { useEffect, useState } from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport StyleToolbar from \"src/components/selectable/StyleToolbar\"\nimport Poem from \"src/components/poem/Poem\"\nimport Loader from \"../universal/Loader\"\nimport { useGetSinglePoemQuery } from \"src/queries/autogenerate/hooks\"\n\nexport default function StyleView() {\n  const { id } = useParams<{ id: string }>()\n  const { data } = useGetSinglePoemQuery({ variables: { id } })\n  const [poem, setPoem] = useState(data?.poem)\n  useEffect(() => {\n    setPoem(data?.poem)\n  }, [data?.poem])\n\n  if (!poem) return <Loader />\n\n  const updateStyle = ({\n    backgroundId,\n    colorRange,\n  }: {\n    backgroundId: number\n    colorRange: number\n  }) => {\n    backgroundId && setPoem({ ...poem, backgroundId })\n    colorRange && setPoem({ ...poem, colorRange })\n  }\n\n  return (\n    <div className=\"close-up-poem-view text-center\">\n      <h1>Stylize</h1>\n      <StyleToolbar {...{ poem, updateStyle }} />\n      <Poem poem={poem} closeUp />\n    </div>\n  )\n}\n","import { map } from \"lodash\"\nimport { ITextChunk, IWordLetter } from \"src/components/types\"\n\nfunction splitWords(passage: string) {\n  // takes 'but--I have' => ['but-', '-', 'I ', 'have' ]\n  const words: string[] = []\n  let word = \"\"\n\n  passage.split(\"\").forEach((ch) => {\n    word += ch\n    if (ch === \" \" || ch === \"-\") {\n      words.push(word)\n      word = \"\"\n    }\n  })\n  words.push(word) // last few letters with no space after\n  return words\n}\n\nfunction formatLetters({\n  textChunks,\n  passage,\n}: {\n  textChunks: ITextChunk[]\n  passage?: string\n}) {\n  if (passage) {\n    textChunks = [{ text: passage, isSelected: false }]\n  } else if (!textChunks) {\n    return []\n  }\n  let wordLetters: IWordLetter[][] = []\n  let lastSelected: boolean\n  textChunks.forEach((textChunk) => {\n    const wordArr = splitWords(textChunk.text)\n    const letters = wordArr.map((word) => {\n      return map(word, (ch) => ({ ch, isSelected: textChunk.isSelected }))\n    })\n    if (lastSelected === textChunk.isSelected) {\n      //@ts-ignore\n      wordLetters = wordLetters[wordLetters.length - 1].concat(letters)\n    } else {\n      wordLetters = wordLetters.concat(letters)\n    }\n\n    lastSelected = textChunk.isSelected\n  })\n  return wordLetters\n}\n\nexport default formatLetters\n","import produce from \"immer\"\nimport { IWordLetter } from \"src/components/types\"\n\nfunction toggleLetters({\n  wordLetters: w,\n  wordIdx,\n  letterIdx,\n  isSelectingByWord,\n}: {\n  wordLetters: Array<IWordLetter[]>\n  wordIdx: number\n  letterIdx: number\n  isSelectingByWord: boolean\n}): Array<IWordLetter[]> {\n  return produce(w, (wordLetters) => {\n    if (isSelectingByWord) {\n      if (!wordLetters[wordIdx]) {\n        console.warn(\n          `Word out of range, tried to access ${wordIdx} of ${wordLetters.flatMap.length}`,\n        )\n        return wordLetters\n      }\n      const isSelected = !wordLetters[wordIdx][letterIdx].isSelected // current letter's state\n      // all letters in word should change together\n      wordLetters[wordIdx].forEach((letter) => {\n        letter.isSelected = isSelected\n      })\n      return wordLetters\n    } else {\n      wordLetters[wordIdx][letterIdx].isSelected = !wordLetters[wordIdx][\n        letterIdx\n      ].isSelected\n      return wordLetters\n    }\n  })\n}\n\nexport default toggleLetters\n","import React from \"react\"\nimport { FaArrowRight } from \"react-icons/fa\"\nimport SavePoemButton from \"./SavePoemButton\"\nimport ToolbarDiv from \"./ToolbarDiv\"\nimport { useHistory } from \"react-router-dom\"\nimport { ISelectablePoem, IWordLetter } from \"../types\"\n\ninterface IProps {\n  handleClear: () => void\n  getNewPassage: () => void\n  toggleSelectBy: () => void\n  toggleRandomLetters: () => void\n  selectablePoem: ISelectablePoem\n}\n\nfunction getIsBlank(wordLetters: IWordLetter[][]) {\n  return wordLetters.every((word) => word.every((letter) => !letter.isSelected))\n}\n\nconst WriterToolbar = ({\n  handleClear,\n  getNewPassage,\n  toggleSelectBy,\n  toggleRandomLetters,\n  selectablePoem,\n  ...props\n}: IProps) => {\n  const history = useHistory()\n  // @ts-ignore\n  const isBlank = getIsBlank(selectablePoem.wordLetters)\n  return (\n    <ToolbarDiv className=\"writer-toolbar toolbar\">\n      <button\n        className=\"toolbar-tab\"\n        onClick={toggleSelectBy}\n        data-ux=\"toggle-select-by\"\n      >\n        <span className=\"text\">\n          {selectablePoem.isSelectingByWord\n            ? \"select by letter?\"\n            : \"select by word?\"}\n        </span>\n      </button>\n      {!selectablePoem.id && (\n        <button\n          className=\"toolbar-tab\"\n          onClick={() => getNewPassage()}\n          data-ux=\"get-new-passage\"\n        >\n          <span className=\"text\">new passage?</span>\n        </button>\n      )}\n      {!selectablePoem.id && (\n        <button\n          className=\"toolbar-tab\"\n          onClick={isBlank ? toggleRandomLetters : handleClear}\n          data-ux=\"get-new-passage\"\n        >\n          <span className=\"text\">{isBlank ? \"nudge\" : \"clear\"}</span>\n        </button>\n      )}\n      <SavePoemButton poem={selectablePoem}>\n        {({ savePoem }) => (\n          <button\n            onClick={() =>\n              savePoem().then((res) => {\n                const id = (res.data.updatePoem || res.data.createPoem).poem.id\n                history.push(`/edit/stylize/${id}`)\n              })\n            }\n            className=\"toolbar-tab toolbar-tab-lg\"\n            data-test=\"styleLink\"\n          >\n            <span className=\"text\">Next</span> <FaArrowRight />\n          </button>\n        )}\n      </SavePoemButton>\n    </ToolbarDiv>\n  )\n}\n\nexport default WriterToolbar\n","import React from \"react\"\nimport { IWordLetter } from \"../types\"\n\nexport type IHandleClickLetter = ({\n  wordIdx,\n  letterIdx,\n}: {\n  wordIdx: number\n  letterIdx: number\n}) => void\n\ninterface IPropsLetter extends IWordLetter {\n  letterIdx: number\n  handleClickLetter: () => void\n}\n\nconst Letter = ({\n  isSelected,\n  ch,\n  letterIdx,\n  handleClickLetter,\n}: IPropsLetter) => (\n  <span\n    className={`letter ${isSelected ? \"is\" : \"not\"}-selected`}\n    data-idx={letterIdx}\n    onClick={handleClickLetter}\n  >\n    {ch}\n  </span>\n)\n\ninterface IPropsWord {\n  word: IWordLetter[]\n  wordIdx: number\n  handleClickLetter: IHandleClickLetter\n}\n\nconst Word = ({ word, wordIdx, handleClickLetter }: IPropsWord) => (\n  <span className=\"word\" data-word-idx={wordIdx}>\n    {word.map(({ ch, isSelected }, letterIdx) => {\n      return (\n        <Letter\n          key={`${wordIdx}${letterIdx}`}\n          {...{ ch, isSelected, letterIdx }}\n          handleClickLetter={() => handleClickLetter({ wordIdx, letterIdx })}\n        />\n      )\n    })}\n  </span>\n)\n\nexport default Word\n","import React from \"react\"\nimport Word, { IHandleClickLetter } from \"./Word\"\nimport styled from \"styled-components\"\nimport PoemDiv, { BodyDiv } from \"src/components/poem/PoemDiv\"\nimport { IWordLetter } from \"../types\"\n\nconst SelectablePoemDiv = styled.div`\n  .letter {\n    cursor: pointer;\n  }\n\n  .selecting-by-word .word:hover .letter,\n  .selecting-by-letter .letter:hover {\n    /* background: rgba(255, 255, 0, .7); */\n    color: cyan;\n    &.is-selected {\n      color: red;\n    }\n  }\n`\n\nexport default function SelectablePoemRender({\n  wordLetters,\n  isSelectingByWord,\n  handleClickLetter,\n}: {\n  wordLetters: IWordLetter[][]\n  isSelectingByWord: boolean\n  handleClickLetter: IHandleClickLetter\n}) {\n  return (\n    <PoemDiv className=\"poem close-up\">\n      <SelectablePoemDiv>\n        <BodyDiv className=\"poem-body\">\n          <div className=\"background-img\" />\n          <div\n            className={\n              isSelectingByWord ? \"selecting-by-word\" : \"selecting-by-letter\"\n            }\n          >\n            {wordLetters.map((word, i) => (\n              <Word\n                word={word}\n                key={i}\n                wordIdx={i}\n                handleClickLetter={handleClickLetter}\n              />\n            ))}\n          </div>\n        </BodyDiv>\n      </SelectablePoemDiv>\n    </PoemDiv>\n  )\n}\n","import React from \"react\"\nimport formatLetters from \"src/utils/formatLetters\"\nimport toggleLetters from \"src/utils/toggleLetters\"\nimport WriterToolbar from \"src/components/selectable/WriterToolbar\"\nimport { IPoem, ISelectablePoem } from \"src/components/types\"\nimport { IHandleClickLetter } from \"./Word\"\nimport SelectablePoemRender from \"./SelectablePoem\"\nimport { random } from \"lodash\"\nimport Loader from \"src/components/universal/Loader\"\nimport { useParams } from \"react-router-dom\"\nimport {\n  useGetSinglePoemQuery,\n  useGetRandomBookQuery,\n} from \"src/queries/autogenerate/hooks\"\n\nfunction getSelectable(poem: {\n  textChunks: IPoem[\"textChunks\"]\n}): ISelectablePoem {\n  const wordLetters = formatLetters({\n    textChunks: poem.textChunks,\n  })\n  return { ...poem, wordLetters, isSelectingByWord: true }\n}\n\ninterface IProps {\n  getNewPassage: () => void\n  selectablePoem: ISelectablePoem\n}\n\nclass WriteView extends React.PureComponent<IProps> {\n  state = this.props.selectablePoem\n\n  static getDerivedStateFromProps(\n    nextProps: IProps,\n    state: IProps[\"selectablePoem\"],\n  ) {\n    if (nextProps.selectablePoem.book.id !== state.book.id) {\n      return nextProps.selectablePoem\n    }\n    return state\n  }\n\n  handleClickLetter: IHandleClickLetter = ({ wordIdx, letterIdx }) => {\n    const { wordLetters, isSelectingByWord } = this.state\n    const newWordLetters = toggleLetters({\n      wordLetters,\n      wordIdx,\n      letterIdx,\n      isSelectingByWord,\n    })\n    this.setState({ wordLetters: newWordLetters })\n  }\n\n  handleClear = () => {\n    this.setState(this.props.selectablePoem)\n  }\n\n  toggleSelectBy = () => {\n    this.setState({ isSelectingByWord: !this.state.isSelectingByWord })\n  }\n\n  toggleRandomLetters = () => {\n    let i = 0\n    let wordLetters = this.state.wordLetters\n    while (i < 10) {\n      i++\n      // @ts-ignore\n      wordLetters = toggleLetters({\n        wordLetters,\n        wordIdx: random(0, 100),\n        letterIdx: 0,\n        isSelectingByWord: true,\n      })\n    }\n    this.setState({ wordLetters })\n  }\n\n  render() {\n    return (\n      <div\n        className=\"close-up-poem-view text-center\"\n        onKeyPress={(e) => {\n          e.shiftKey && this.toggleSelectBy()\n        }}\n      >\n        <h1>{this.props.selectablePoem.id ? \"Edit\" : \"Write\"}</h1>\n        <h5>Make your own poem by clicking on words!</h5>\n\n        <WriterToolbar\n          selectablePoem={this.state}\n          getNewPassage={this.props.getNewPassage}\n          handleClear={this.handleClear}\n          toggleSelectBy={this.toggleSelectBy}\n          toggleRandomLetters={this.toggleRandomLetters}\n        />\n        <SelectablePoemRender\n          {...this.state}\n          //@ts-ignore\n          wordLetters={this.state.wordLetters}\n          handleClickLetter={this.handleClickLetter}\n        />\n      </div>\n    )\n  }\n}\n\nexport default function WriteViewWData() {\n  const { id } = useParams<{ id: string }>()\n  const { data } = useGetSinglePoemQuery({ variables: { id }, skip: !id })\n  const randomBook = useGetRandomBookQuery()\n  if (!randomBook.data) return <Loader />\n  const selectablePoem = {\n    book: {\n      id: randomBook.data.randomBook.id,\n      title: randomBook.data.randomBook.title,\n    },\n    author: { id: data?.current.id || \"1\", username: \"\" },\n    ...getSelectable({\n      textChunks: data?.poem.textChunks || [\n        { text: randomBook.data.randomBook.text, isSelected: false },\n      ],\n    }),\n    ...(data?.poem || {}),\n  }\n  const getNewPassage = randomBook.refetch\n  return <WriteView {...{ selectablePoem, getNewPassage }} />\n}\n","import React from \"react\"\nimport { Switch, Route } from \"react-router-dom\"\nimport CloseUpPoemView from \"./components/poem/CloseUpPoemView\"\nimport HomeView from \"./components/manyPoemViews/HomeView\"\nimport ProfileView from \"./components/manyPoemViews/ProfileView\"\nimport AppWrapper from \"./components/fullApp/AppWrapper\"\nimport About from \"./components/fullApp/About\"\nimport StyleView from \"./components/selectable/StyleView\"\nimport WriteView from \"./components/selectable/WriteView\"\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Switch>\n        <Route path=\"/\" exact component={HomeView} />\n        <Route path=\"/about\" component={About} />\n        <Route path=\"/edit/stylize/:id\" component={StyleView} />\n        <Route path=\"/new/write\" component={WriteView} />\n        <Route path=\"/edit/write/:id\" component={WriteView} />\n        <Route path=\"/poem/:id\" component={CloseUpPoemView} />\n        <Route path=\"/user/:id\" component={ProfileView} />\n      </Switch>\n    </AppWrapper>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\nimport { HashRouter as Router } from \"react-router-dom\"\n\nimport { ApolloClient, InMemoryCache } from \"@apollo/client\"\nimport { ApolloProvider } from \"@apollo/client\"\nimport produce from \"immer\"\n\nconst DEV_API = \"http://localhost:8000/graphql\"\nconst STAGING_API = \"https://calm-lowlands-48993.herokuapp.com/graphql\"\n\nconst client = new ApolloClient({\n  uri: STAGING_API,\n  cache: new InMemoryCache({\n    typePolicies: {\n      Query: {\n        fields: {\n          poemPages: {\n            // Don't cache separate results based on\n            // any of this field's arguments.\n            keyArgs: false,\n            // Concatenate the incoming list items with\n            // the existing list items.\n            merge(existing = { edges: [] }, incoming) {\n              debugger\n              if (incoming.type === \"DELETE\") {\n                const newEdges = produce(existing.edges, (draft: any[]) => {\n                  var idx = draft.findIndex((d) => d.id === incoming.payload.id)\n                  draft.splice(idx, 1)\n                })\n                debugger\n                return newEdges\n              }\n              return {\n                ...incoming,\n                edges: [...existing.edges, ...incoming.edges],\n              }\n            },\n          },\n        },\n      },\n    },\n  }),\n})\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <Router>\n        <App />\n      </Router>\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}