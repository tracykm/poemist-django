{"version":3,"sources":["images/example-clicking.gif","queries/autogenerate/hooks.tsx","utils/updateCache.ts","components/universal/DeleteEditLinks.tsx","components/universal/_variables.ts","components/poem/PoemHeader.tsx","images/paper-rect-contrast.jpg","images/tree-bark.jpg","images/contemporary_china_small.png","images/f0c4457.jpg","images/maxresdefault.jpg","images/blueTile.jpg","images/life_original_wild_urban_shells_abstract_texture_love-572258.jpg","images/paintingCracks.jpg","images/Alcala_lg.jpg","images/map2.jpg","images/paperInverted.jpg","images/paperContrast.jpg","images/triangles-123.jpg","images/1_mU0yXR99Bg91S1ACSyPq_w.jpg","images/waves.jpg","images/electronic.jpg","components/poem/PoemDiv.tsx","components/poem/PoemBody.tsx","components/universal/UsernameLink.tsx","components/poem/PoemFooter.tsx","components/universal/Loader.ts","components/universal/ErrorBoundary.tsx","components/poem/Poem.tsx","components/poem/CloseUpPoemDiv.ts","components/poem/CloseUpPoemView.tsx","components/manyPoemViews/IndexView.tsx","components/manyPoemViews/HomeView.tsx","components/manyPoemViews/ProfileView.tsx","components/fullApp/Logo.tsx","components/fullApp/NavbarDiv.tsx","components/fullApp/LoginModal.tsx","components/universal/Dropdown.tsx","components/fullApp/Navbar.tsx","components/fullApp/AppWrapper.tsx","components/fullApp/About.tsx","utils/getSelectedTexts.ts","components/selectable/SavePoemButton.tsx","components/selectable/ToolbarDiv.ts","components/selectable/StyleToolbar.tsx","components/selectable/StyleView.tsx","utils/formatLetters.ts","utils/toggleLetters.ts","components/selectable/WriterToolbar.tsx","components/selectable/Word.tsx","components/selectable/SelectablePoem.tsx","components/selectable/WriteView.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["PoemDetailsFragmentDoc","gql","GetRandomBookDocument","GetSinglePoemDocument","useGetSinglePoemQuery","baseOptions","Apollo","GetPoemsDocument","GetPoemsByAuthorDocument","CreatePoemDocument","UpdatePoemDocument","DeletePoemDocument","GetCurrentUserDocument","useGetCurrentUserQuery","GetUserDocument","CreateUserDocument","LoginUserDocument","updateCache","cache","arg","updateData","data","readQuery","newData","writeQuery","DeleteEditLinks","authorId","poemId","isCurrentUser","current","id","variables","update","deletePoem","produce","draft","idx","poemPages","edges","findIndex","d","splice","query","limit","className","onClick","window","confirm","to","sizes","color","HeaderDiv","styled","div","PoemHeader","data-cy","BodyDiv","stringColors","i","PoemDiv","paperTextureImg","paperContrast","paperInverted","circlePatternImg","treeBarkImg","paintingCracks","f0c4457","waves","mU0yXR99Bg91S1ACSyPq_w","maxresdefault","blueTile","tile","triangles123","Alcala_lg","map","electronic","TextSpan","isSelected","text","PoemBody","textChunks","textSpan","UsernameLink","username","userId","PoemFooter","authorUsername","Loader","ErrorBoundary","props","state","hasError","error","errorInfo","console","warn","this","style","textAlign","margin","children","PureComponent","Poem","poem","backgroundId","colorRange","author","closeUp","data-test","exampleClickingImg","require","CloseUpPoemDiv","CloseUpPoemView","useParams","marginTop","PoemContainerDiv","IndexView","poems","fetchMore","loadMore","page","offset","updateQuery","prevResult","fetchMoreResult","push","hasMore","length","loader","HomeView","ProfileHeader","currentUserId","user","pronoun","poemsWrittenCount","dateJoined","moment","fromNow","UserPoems","ProfileView","PoemistLogo","viewBox","minWidth","NavbarDiv","LoginDialog","useState","password","formState","setFormState","refetchQueries","loginInUserMutation","loginError","useCreateUserMutation","createUserMutation","signUpError","location","useLocation","history","useHistory","handleClose","pathname","showLogin","search","includes","showSignUp","Dialog","open","onClose","onSubmit","e","preventDefault","createPromise","Promise","resolve","then","res","token","tokenAuth","localStorage","setItem","setTimeout","catch","DialogTitle","display","flexGrow","IconButton","size","DialogContent","TextField","autoFocus","label","fullWidth","value","onChange","target","type","component","MuiLink","Typography","message","DialogActions","Button","variant","Dropdown","openLabel","items","openStyle","anchorEl","setAnchorEl","aria-controls","aria-haspopup","event","currentTarget","Menu","keepMounted","Boolean","getContentAnchorEl","anchorOrigin","vertical","horizontal","item","MenuItem","LogInOut","toggleShowLogin","Navbar","currentUser","marginRight","activeClassName","exact","paddingTop","clear","reload","FullNav","AppDiv","AppWrapper","DivAbout","About","getSelectedTexts","wordLetters","letters","flatten","currentlySelected","allText","forEach","letter","ch","SavePoemButton","book","startIdx","bookId","__typename","updatePoemMutation","useCreatePoemMutation","unshift","createPoem","createPoemMutation","savePoem","reject","ToolbarDiv","keepInRange","num","upperlimit","StyleToolbar","backgroundUp","updateStyle","backgroundDown","colorUp","colorDown","backUrl","data-ux","float","withRouter","StyleView","setPoem","useEffect","formatLetters","passage","lastSelected","textChunk","words","word","split","splitWords","concat","toggleLetters","w","wordIdx","letterIdx","isSelectingByWord","flatMap","WriterToolbar","handleClear","getNewPassage","toggleSelectBy","toggleRandomLetters","selectablePoem","isBlank","every","updatePoem","Letter","handleClickLetter","data-idx","Word","data-word-idx","SelectablePoemDiv","SelectablePoemRender","WriteView","onKeyDown","key","setState","onKeyUp","newWordLetters","random","document","addEventListener","removeEventListener","onKeyPress","shiftKey","nextProps","WriteViewWData","skip","randomBook","title","getSelectable","refetch","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","httpLink","createHttpLink","uri","authLink","setContext","_","headers","getItem","Authorization","client","ApolloClient","link","InMemoryCache","theme","createMuiTheme","palette","primary","main","MuiButtonBase","disableRipple","shape","borderRadius","typography","button","textTransform","ReactDOM","render","ThemeProvider","CssBaseline","getElementById"],"mappings":"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","file":"static/js/main.ba93203f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/example-clicking.f7137e63.gif\";","import * as Types from \"./operations\"\n\nimport { gql } from \"@apollo/client\"\nimport * as Apollo from \"@apollo/client\"\nexport const PoemDetailsFragmentDoc = gql`\n  fragment PoemDetails on PoemType {\n    id\n    backgroundId\n    colorRange\n    createdAt\n    updatedAt\n    author {\n      id\n      username\n    }\n    book {\n      id\n      title\n    }\n    textChunks {\n      text\n      isSelected\n    }\n  }\n`\nexport const GetRandomBookDocument = gql`\n  query getRandomBook {\n    randomBook {\n      id\n      title\n      text\n      startIdx\n    }\n  }\n`\n\n/**\n * __useGetRandomBookQuery__\n *\n * To run a query within a React component, call `useGetRandomBookQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetRandomBookQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetRandomBookQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetRandomBookQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >,\n) {\n  return Apollo.useQuery<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >(GetRandomBookDocument, baseOptions)\n}\nexport function useGetRandomBookLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >(GetRandomBookDocument, baseOptions)\n}\nexport type GetRandomBookQueryHookResult = ReturnType<\n  typeof useGetRandomBookQuery\n>\nexport type GetRandomBookLazyQueryHookResult = ReturnType<\n  typeof useGetRandomBookLazyQuery\n>\nexport type GetRandomBookQueryResult = Apollo.QueryResult<\n  Types.GetRandomBookQuery,\n  Types.GetRandomBookQueryVariables\n>\nexport const GetSinglePoemDocument = gql`\n  query getSinglePoem($id: ID!) {\n    poem(id: $id) {\n      ...PoemDetails\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\n\n/**\n * __useGetSinglePoemQuery__\n *\n * To run a query within a React component, call `useGetSinglePoemQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetSinglePoemQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetSinglePoemQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useGetSinglePoemQuery(\n  baseOptions: Apollo.QueryHookOptions<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >,\n) {\n  return Apollo.useQuery<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >(GetSinglePoemDocument, baseOptions)\n}\nexport function useGetSinglePoemLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >(GetSinglePoemDocument, baseOptions)\n}\nexport type GetSinglePoemQueryHookResult = ReturnType<\n  typeof useGetSinglePoemQuery\n>\nexport type GetSinglePoemLazyQueryHookResult = ReturnType<\n  typeof useGetSinglePoemLazyQuery\n>\nexport type GetSinglePoemQueryResult = Apollo.QueryResult<\n  Types.GetSinglePoemQuery,\n  Types.GetSinglePoemQueryVariables\n>\nexport const GetPoemsDocument = gql`\n  query getPoems($offset: Int, $limit: Int) {\n    poemPages(offset: $offset, limit: $limit) {\n      edges {\n        ...PoemDetails\n      }\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\n\n/**\n * __useGetPoemsQuery__\n *\n * To run a query within a React component, call `useGetPoemsQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetPoemsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetPoemsQuery({\n *   variables: {\n *      offset: // value for 'offset'\n *      limit: // value for 'limit'\n *   },\n * });\n */\nexport function useGetPoemsQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetPoemsQuery,\n    Types.GetPoemsQueryVariables\n  >,\n) {\n  return Apollo.useQuery<Types.GetPoemsQuery, Types.GetPoemsQueryVariables>(\n    GetPoemsDocument,\n    baseOptions,\n  )\n}\nexport function useGetPoemsLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetPoemsQuery,\n    Types.GetPoemsQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<Types.GetPoemsQuery, Types.GetPoemsQueryVariables>(\n    GetPoemsDocument,\n    baseOptions,\n  )\n}\nexport type GetPoemsQueryHookResult = ReturnType<typeof useGetPoemsQuery>\nexport type GetPoemsLazyQueryHookResult = ReturnType<\n  typeof useGetPoemsLazyQuery\n>\nexport type GetPoemsQueryResult = Apollo.QueryResult<\n  Types.GetPoemsQuery,\n  Types.GetPoemsQueryVariables\n>\nexport const GetPoemsByAuthorDocument = gql`\n  query getPoemsByAuthor($authorId: ID, $offset: Int, $limit: Int) {\n    poemPages(authorId: $authorId, offset: $offset, limit: $limit) {\n      edges {\n        ...PoemDetails\n      }\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\n\n/**\n * __useGetPoemsByAuthorQuery__\n *\n * To run a query within a React component, call `useGetPoemsByAuthorQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetPoemsByAuthorQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetPoemsByAuthorQuery({\n *   variables: {\n *      authorId: // value for 'authorId'\n *      offset: // value for 'offset'\n *      limit: // value for 'limit'\n *   },\n * });\n */\nexport function useGetPoemsByAuthorQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >,\n) {\n  return Apollo.useQuery<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >(GetPoemsByAuthorDocument, baseOptions)\n}\nexport function useGetPoemsByAuthorLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >(GetPoemsByAuthorDocument, baseOptions)\n}\nexport type GetPoemsByAuthorQueryHookResult = ReturnType<\n  typeof useGetPoemsByAuthorQuery\n>\nexport type GetPoemsByAuthorLazyQueryHookResult = ReturnType<\n  typeof useGetPoemsByAuthorLazyQuery\n>\nexport type GetPoemsByAuthorQueryResult = Apollo.QueryResult<\n  Types.GetPoemsByAuthorQuery,\n  Types.GetPoemsByAuthorQueryVariables\n>\nexport const CreatePoemDocument = gql`\n  mutation createPoem(\n    $textChunks: [InputTextChunkType]!\n    $bookId: ID!\n    $startIdx: Int\n  ) {\n    createPoem(textChunks: $textChunks, bookId: $bookId, startIdx: $startIdx) {\n      poem {\n        ...PoemDetails\n      }\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\nexport type CreatePoemMutationFn = Apollo.MutationFunction<\n  Types.CreatePoemMutation,\n  Types.CreatePoemMutationVariables\n>\n\n/**\n * __useCreatePoemMutation__\n *\n * To run a mutation, you first call `useCreatePoemMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreatePoemMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createPoemMutation, { data, loading, error }] = useCreatePoemMutation({\n *   variables: {\n *      textChunks: // value for 'textChunks'\n *      bookId: // value for 'bookId'\n *      startIdx: // value for 'startIdx'\n *   },\n * });\n */\nexport function useCreatePoemMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.CreatePoemMutation,\n    Types.CreatePoemMutationVariables\n  >,\n) {\n  return Apollo.useMutation<\n    Types.CreatePoemMutation,\n    Types.CreatePoemMutationVariables\n  >(CreatePoemDocument, baseOptions)\n}\nexport type CreatePoemMutationHookResult = ReturnType<\n  typeof useCreatePoemMutation\n>\nexport type CreatePoemMutationResult = Apollo.MutationResult<Types.CreatePoemMutation>\nexport type CreatePoemMutationOptions = Apollo.BaseMutationOptions<\n  Types.CreatePoemMutation,\n  Types.CreatePoemMutationVariables\n>\nexport const UpdatePoemDocument = gql`\n  mutation updatePoem(\n    $textChunks: [InputTextChunkType]!\n    $id: ID!\n    $backgroundId: Int\n    $colorRange: Int\n  ) {\n    updatePoem(\n      textChunks: $textChunks\n      id: $id\n      backgroundId: $backgroundId\n      colorRange: $colorRange\n    ) {\n      poem {\n        ...PoemDetails\n      }\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\nexport type UpdatePoemMutationFn = Apollo.MutationFunction<\n  Types.UpdatePoemMutation,\n  Types.UpdatePoemMutationVariables\n>\n\n/**\n * __useUpdatePoemMutation__\n *\n * To run a mutation, you first call `useUpdatePoemMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUpdatePoemMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [updatePoemMutation, { data, loading, error }] = useUpdatePoemMutation({\n *   variables: {\n *      textChunks: // value for 'textChunks'\n *      id: // value for 'id'\n *      backgroundId: // value for 'backgroundId'\n *      colorRange: // value for 'colorRange'\n *   },\n * });\n */\nexport function useUpdatePoemMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.UpdatePoemMutation,\n    Types.UpdatePoemMutationVariables\n  >,\n) {\n  return Apollo.useMutation<\n    Types.UpdatePoemMutation,\n    Types.UpdatePoemMutationVariables\n  >(UpdatePoemDocument, baseOptions)\n}\nexport type UpdatePoemMutationHookResult = ReturnType<\n  typeof useUpdatePoemMutation\n>\nexport type UpdatePoemMutationResult = Apollo.MutationResult<Types.UpdatePoemMutation>\nexport type UpdatePoemMutationOptions = Apollo.BaseMutationOptions<\n  Types.UpdatePoemMutation,\n  Types.UpdatePoemMutationVariables\n>\nexport const DeletePoemDocument = gql`\n  mutation deletePoem($id: ID!) {\n    deletePoem(id: $id) {\n      id\n    }\n  }\n`\nexport type DeletePoemMutationFn = Apollo.MutationFunction<\n  Types.DeletePoemMutation,\n  Types.DeletePoemMutationVariables\n>\n\n/**\n * __useDeletePoemMutation__\n *\n * To run a mutation, you first call `useDeletePoemMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useDeletePoemMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [deletePoemMutation, { data, loading, error }] = useDeletePoemMutation({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useDeletePoemMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.DeletePoemMutation,\n    Types.DeletePoemMutationVariables\n  >,\n) {\n  return Apollo.useMutation<\n    Types.DeletePoemMutation,\n    Types.DeletePoemMutationVariables\n  >(DeletePoemDocument, baseOptions)\n}\nexport type DeletePoemMutationHookResult = ReturnType<\n  typeof useDeletePoemMutation\n>\nexport type DeletePoemMutationResult = Apollo.MutationResult<Types.DeletePoemMutation>\nexport type DeletePoemMutationOptions = Apollo.BaseMutationOptions<\n  Types.DeletePoemMutation,\n  Types.DeletePoemMutationVariables\n>\nexport const GetCurrentUserDocument = gql`\n  query getCurrentUser {\n    current {\n      id\n      username\n    }\n  }\n`\n\n/**\n * __useGetCurrentUserQuery__\n *\n * To run a query within a React component, call `useGetCurrentUserQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetCurrentUserQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetCurrentUserQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetCurrentUserQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >,\n) {\n  return Apollo.useQuery<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >(GetCurrentUserDocument, baseOptions)\n}\nexport function useGetCurrentUserLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >(GetCurrentUserDocument, baseOptions)\n}\nexport type GetCurrentUserQueryHookResult = ReturnType<\n  typeof useGetCurrentUserQuery\n>\nexport type GetCurrentUserLazyQueryHookResult = ReturnType<\n  typeof useGetCurrentUserLazyQuery\n>\nexport type GetCurrentUserQueryResult = Apollo.QueryResult<\n  Types.GetCurrentUserQuery,\n  Types.GetCurrentUserQueryVariables\n>\nexport const GetUserDocument = gql`\n  query getUser($id: ID!) {\n    user(id: $id) {\n      id\n      username\n      poemsWrittenCount\n      dateJoined\n    }\n  }\n`\n\n/**\n * __useGetUserQuery__\n *\n * To run a query within a React component, call `useGetUserQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetUserQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetUserQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useGetUserQuery(\n  baseOptions: Apollo.QueryHookOptions<\n    Types.GetUserQuery,\n    Types.GetUserQueryVariables\n  >,\n) {\n  return Apollo.useQuery<Types.GetUserQuery, Types.GetUserQueryVariables>(\n    GetUserDocument,\n    baseOptions,\n  )\n}\nexport function useGetUserLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetUserQuery,\n    Types.GetUserQueryVariables\n  >,\n) {\n  return Apollo.useLazyQuery<Types.GetUserQuery, Types.GetUserQueryVariables>(\n    GetUserDocument,\n    baseOptions,\n  )\n}\nexport type GetUserQueryHookResult = ReturnType<typeof useGetUserQuery>\nexport type GetUserLazyQueryHookResult = ReturnType<typeof useGetUserLazyQuery>\nexport type GetUserQueryResult = Apollo.QueryResult<\n  Types.GetUserQuery,\n  Types.GetUserQueryVariables\n>\nexport const CreateUserDocument = gql`\n  mutation createUser($username: String!, $password: String!) {\n    createUser(username: $username, password: $password) {\n      user {\n        id\n      }\n    }\n  }\n`\nexport type CreateUserMutationFn = Apollo.MutationFunction<\n  Types.CreateUserMutation,\n  Types.CreateUserMutationVariables\n>\n\n/**\n * __useCreateUserMutation__\n *\n * To run a mutation, you first call `useCreateUserMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateUserMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createUserMutation, { data, loading, error }] = useCreateUserMutation({\n *   variables: {\n *      username: // value for 'username'\n *      password: // value for 'password'\n *   },\n * });\n */\nexport function useCreateUserMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.CreateUserMutation,\n    Types.CreateUserMutationVariables\n  >,\n) {\n  return Apollo.useMutation<\n    Types.CreateUserMutation,\n    Types.CreateUserMutationVariables\n  >(CreateUserDocument, baseOptions)\n}\nexport type CreateUserMutationHookResult = ReturnType<\n  typeof useCreateUserMutation\n>\nexport type CreateUserMutationResult = Apollo.MutationResult<Types.CreateUserMutation>\nexport type CreateUserMutationOptions = Apollo.BaseMutationOptions<\n  Types.CreateUserMutation,\n  Types.CreateUserMutationVariables\n>\nexport const LoginUserDocument = gql`\n  mutation loginUser($username: String!, $password: String!) {\n    tokenAuth(username: $username, password: $password) {\n      token\n    }\n  }\n`\nexport type LoginUserMutationFn = Apollo.MutationFunction<\n  Types.LoginUserMutation,\n  Types.LoginUserMutationVariables\n>\n\n/**\n * __useLoginUserMutation__\n *\n * To run a mutation, you first call `useLoginUserMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useLoginUserMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [loginUserMutation, { data, loading, error }] = useLoginUserMutation({\n *   variables: {\n *      username: // value for 'username'\n *      password: // value for 'password'\n *   },\n * });\n */\nexport function useLoginUserMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.LoginUserMutation,\n    Types.LoginUserMutationVariables\n  >,\n) {\n  return Apollo.useMutation<\n    Types.LoginUserMutation,\n    Types.LoginUserMutationVariables\n  >(LoginUserDocument, baseOptions)\n}\nexport type LoginUserMutationHookResult = ReturnType<\n  typeof useLoginUserMutation\n>\nexport type LoginUserMutationResult = Apollo.MutationResult<Types.LoginUserMutation>\nexport type LoginUserMutationOptions = Apollo.BaseMutationOptions<\n  Types.LoginUserMutation,\n  Types.LoginUserMutationVariables\n>\n","import { ApolloCache, DocumentNode } from \"@apollo/client\"\n\nexport default function updateCache<D extends Record<any, any>>({\n  cache,\n  arg,\n  updateData,\n}: {\n  cache: ApolloCache<any>\n  arg: { variables: Record<string, any>; query: DocumentNode }\n  updateData: (data: D) => D\n}) {\n  const data: D = cache.readQuery(arg)\n  if (!data) return // if page not visited\n  const newData = updateData(data)\n  cache.writeQuery({\n    ...arg,\n    data: newData,\n  })\n}\n","import { Link } from \"react-router-dom\"\n\nimport {\n  GetPoemsDocument,\n  GetPoemsByAuthorDocument,\n  useDeletePoemMutation,\n  useGetCurrentUserQuery,\n} from \"src/queries/autogenerate/hooks\"\nimport produce from \"immer\"\nimport { GetPoemsQuery } from \"src/queries/autogenerate/operations\"\nimport { Link as MuiLink } from \"@material-ui/core\"\nimport updateCache from \"src/utils/updateCache\"\n\nexport default function DeleteEditLinks({ authorId, poemId }) {\n  const { data } = useGetCurrentUserQuery()\n  const isCurrentUser = data?.current?.id === authorId\n  const [deletePoem] = useDeletePoemMutation({\n    variables: { id: poemId },\n    update: (cache, arg) => {\n      const poemId = arg.data.deletePoem.id\n      const updateData = (data) =>\n        produce(data, (draft: GetPoemsQuery) => {\n          var idx = draft.poemPages.edges.findIndex((d) => d.id === poemId)\n          draft.poemPages.edges.splice(idx, 1)\n        })\n      updateCache({\n        cache,\n        arg: { query: GetPoemsDocument, variables: { limit: 10 } },\n        updateData,\n      })\n      updateCache({\n        cache,\n        arg: {\n          query: GetPoemsByAuthorDocument,\n          variables: { limit: 10, authorId },\n        },\n        updateData,\n      })\n    },\n  })\n  return (\n    <span className=\"delete-edit-links\">\n      {isCurrentUser && (\n        <span>\n          <MuiLink\n            onClick={() =>\n              window.confirm(\"Are you sure you want to delete your poem?\") &&\n              deletePoem()\n            }\n          >\n            delete\n          </MuiLink>\n          {\" / \"}\n          <Link to={`/edit/write/${poemId}`}>edit</Link>\n        </span>\n      )}\n    </span>\n  )\n}\n","export const sizes = {\n  spaceSm: 5,\n  spaceBase: 15,\n\n  poemWidth: 250,\n  poemHeight: 600,\n\n  fontSizeXs: 12,\n  fontSizeBase: 16,\n  fontSizeLg: 26,\n\n  headerHeight: 120,\n\n  mobileS: \"320px\",\n  mobileM: \"375px\",\n  mobileL: \"425px\",\n  tablet: \"768px\",\n  laptop: \"1024px\",\n  laptopL: \"1440px\",\n  desktop: \"2560px\",\n}\n\n// paperImg: '../../images/paper-rect-contrast.jpg';\nexport const color = {\n  lightGrey: \"#bbb\",\n  darkGrey: \"#333\",\n  greyLighten5: \"#fafafa\",\n  greyLighten4: \"#f5f5f5\",\n  greyLighten3: \"#eeeeee\",\n  greyLighten2: \"#e0e0e0\",\n  greyLighten1: \"#bdbdbd\",\n  grey: \"#9e9e9e\",\n  greyDarken1: \"#757575\",\n  greyDarken2: \"#616161\",\n  greyDarken3: \"#424242\",\n  greyDarken4: \"#212121\",\n}\n\n// export const images = {\n//   paperTextureImg,\n// };\n\n// mobile-width: 480px;\n// tablet-width: 768px;\n// desktop-width: 1024px;\n","import DeleteEditLinks from \"src/components/universal/DeleteEditLinks\"\nimport { Link } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport { sizes } from \"src/components/universal/_variables\"\n\nconst HeaderDiv = styled.div`\n  width: ${sizes.poemWidth}px;\n  &.close-up {\n    width: ${sizes.poemWidth * 2}px;\n  }\n  text-align: right;\n  position: relative;\n  z-index: 20;\n  background: black;\n\n  .delete-edit-links {\n    float: left;\n  }\n`\n\nexport default function PoemHeader({\n  authorId,\n  poemId,\n}: {\n  authorId: string\n  poemId: string\n}) {\n  return (\n    <HeaderDiv className=\"poem-header\">\n      <DeleteEditLinks {...{ authorId, poemId }} />\n      {poemId && (\n        <Link to={`/poem/${poemId}`} data-cy=\"view-close-up-poem\">\n          view\n        </Link>\n      )}\n    </HeaderDiv>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/paper-rect-contrast.e66685ca.jpg\";","export default __webpack_public_path__ + \"static/media/tree-bark.32958e04.jpg\";","export default __webpack_public_path__ + \"static/media/contemporary_china_small.de76a51e.png\";","export default __webpack_public_path__ + \"static/media/f0c4457.f1a0d7a4.jpg\";","export default __webpack_public_path__ + \"static/media/maxresdefault.4be2421c.jpg\";","export default __webpack_public_path__ + \"static/media/blueTile.b092c647.jpg\";","export default __webpack_public_path__ + \"static/media/life_original_wild_urban_shells_abstract_texture_love-572258.16701eac.jpg\";","export default __webpack_public_path__ + \"static/media/paintingCracks.aef5b50c.jpg\";","export default __webpack_public_path__ + \"static/media/Alcala_lg.fae98355.jpg\";","export default __webpack_public_path__ + \"static/media/map2.3c916e96.jpg\";","export default __webpack_public_path__ + \"static/media/paperInverted.60927562.jpg\";","export default __webpack_public_path__ + \"static/media/paperContrast.d0935fda.jpg\";","export default __webpack_public_path__ + \"static/media/triangles-123.3dd0203b.jpg\";","export default __webpack_public_path__ + \"static/media/1_mU0yXR99Bg91S1ACSyPq_w.1960b2a2.jpg\";","export default __webpack_public_path__ + \"static/media/waves.1e03dd53.jpg\";","export default __webpack_public_path__ + \"static/media/electronic.874e57d2.jpg\";","import styled from \"styled-components\"\nimport { sizes, color } from \"src/components/universal/_variables\"\nimport paperTextureImg from \"src/images/paper-rect-contrast.jpg\"\nimport treeBarkImg from \"src/images/tree-bark.jpg\"\nimport circlePatternImg from \"src/images/contemporary_china_small.png\"\nimport f0c4457 from \"src/images/f0c4457.jpg\"\nimport maxresdefault from \"src/images/maxresdefault.jpg\"\nimport blueTile from \"src/images/blueTile.jpg\"\nimport tile from \"src/images/life_original_wild_urban_shells_abstract_texture_love-572258.jpg\"\nimport paintingCracks from \"src/images/paintingCracks.jpg\"\nimport Alcala_lg from \"src/images/Alcala_lg.jpg\"\nimport map from \"src/images/map2.jpg\"\nimport paperInverted from \"src/images/paperInverted.jpg\"\nimport paperContrast from \"src/images/paperContrast.jpg\"\nimport triangles123 from \"src/images/triangles-123.jpg\"\nimport mU0yXR99Bg91S1ACSyPq_w from \"src/images/1_mU0yXR99Bg91S1ACSyPq_w.jpg\"\nimport waves from \"src/images/waves.jpg\"\nimport electronic from \"src/images/electronic.jpg\"\n\n// @for $i from 1 through 36 {\n//   .color-#{$i} {\n//     filter: hue-rotate(#{10 * $i}deg);\n//   }\n// }\n\nexport const BodyDiv = styled.div`\n  line-height: 1em;\n  height: 25em; /* 25 lines */\n  overflow: hidden;\n  font-family: \"Garamond\", serif;\n  font-weight: 400;\n  padding-bottom: 0.3em;\n  padding-top: 1.5em;\n  padding-bottom: 1.5em;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n`\n\nlet stringColors = \"\"\n\nlet i = 0\nwhile (i < 36) {\n  i++\n  stringColors += `\n    &.color-${i} .background-img, &.color-${i} .poem-text {\n      filter: hue-rotate(${i * 10}deg);\n    }\n  `\n}\n\nconst PoemDiv = styled.div`\n  font-size: ${sizes.fontSizeBase - 1}px;\n  ${stringColors};\n  &.close-up {\n    margin: auto;\n    display: block;\n    width: ${sizes.poemWidth * 2}px;\n    font-size: ${sizes.fontSizeBase * 2}px;\n    .background-img {\n      width: ${sizes.poemWidth * 2}px;\n      height: ${sizes.poemHeight * 2}px;\n    }\n    .poem-header, .poem-footer {\n      font-size: ${sizes.fontSizeBase * 1.5}px;\n    }\n  }\n  .poem-header, .poem-text, .poem-footer {\n    padding-left: .5em;\n    padding-right: .5em;\n  }\n  .poem-header, .poem-footer {\n    width: 100%;\n    background: rgba(0, 0, 0, 0);\n    color: ${color.lightGrey};\n    font-size: ${sizes.fontSizeBase}px;\n    a {\n      color: ${color.greyDarken1};\n      &:hover {\n        color: white;\n      }\n    }\n  }\n  width: ${sizes.poemWidth - 14}px;\n  margin: 1em;\n  display: inline-block;\n  vertical-align: text-top;\n  text-align: center;\n  position: relative; /* for absolute overflow styles */\n  overflow: hidden;\n\n  .background-img {\n    content: \"\";\n    background: url(${paperTextureImg});\n    position: absolute;\n    width: ${sizes.poemWidth}px;\n    height: ${sizes.poemHeight}px;\n    z-index: -10;\n    top: 0;\n    left: 0;\n  }\n\n  .is-selected {\n    position: relative; /* for zindex */\n    background: yellow;\n  }\n  .not-selected {\n    color: rgba(0, 0, 0, 0.2);\n  }\n\n  /* @include mobile {\n    width: 100%;\n  } */\n\n  &.style-1 {\n    .background-img {\n      background: url(${paperContrast});\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0.1);\n      text-shadow: ${color.greyLighten2} 0 0 0.2em;\n    }\n    .is-selected {\n      text-shadow: black 1px 1px 1px;\n      background: none;\n    }\n  }\n\n  &.style-2 {\n    .background-img {\n      background: url(${paperContrast});\n    }\n    .not-selected {\n      opacity: 0;\n    }\n    .is-selected {\n      background: none;\n    }\n  }\n\n  &.style-3 {\n    .background-img {\n      background: url(${paperInverted});\n    }\n    .not-selected {\n      opacity: .2;\n    }\n    .is-selected {\n      background: none;\n      color: white;\n    }\n  }\n\n  &.style-4 {\n    background: white;\n    .is-selected {\n      background: pink;\n      &:before {\n        content: \"\";\n        position: absolute;\n        height: 1.2em;\n        width: 1000px;\n        border: .2em solid;\n        margin: -.1em;\n        margin-left: -.3em;\n        z-index: 11;\n      }\n    }\n  }\n\n  &.style-5 {\n    .background-img {\n      background: white;\n    }\n    .not-selected {\n      color: black;\n      border-top: solid 0.1em;\n      border-bottom: solid 0.1em;\n      text-decoration: line-through;\n    }\n    .is-selected {\n      background: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceSm}px;\n      margin: ${-sizes.spaceSm}px;\n      box-shadow: black 0.2em 0.2em 0;\n    }\n  }\n\n  &.style-6 {\n    .not-selected {\n      background: rgba(0,0,0, .75);\n    }\n    .is_selected {\n      background: white !important;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-7 {\n    .background-img {\n      background: url(${circlePatternImg});\n      background-size: 20%;\n    }\n    .is-selected {\n      background: none !important;\n      text-shadow: black 0.05em 0.02em 0;\n    }\n  }\n\n  &.style-8 {\n    .background-img {\n      background: url(${treeBarkImg});\n    }\n    .is-selected {\n      color: white;\n      background: red;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-9 {\n    .background-img {\n      background: url(${paintingCracks});\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #3e144c;\n      color: #cccbbf;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-10 {\n    .background-img {\n      background: url(${f0c4457});\n      background-size: 100%;\n    }\n    .not-selected {\n      color: rgba(255, 255, 255, .2);\n    }\n    .is-selected {\n      background: none;\n      color: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-11 {\n    .background-img {\n      background: url(${waves});\n      background-size: 50%;\n\n    }\n    .is-selected {\n      background: #100000;\n      color: #cccbbf;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-12 {\n    .background-img {\n      background: url(${mU0yXR99Bg91S1ACSyPq_w});\n      background-size: 80%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: #0091ae;\n      color: #e7b8bc;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-13 {\n    .background-img {\n      background: url(${maxresdefault});\n      background-size: 120%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: none;\n      color: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      text-shadow: white 1px 1px 1px;\n    }\n  }\n\n  &.style-14 {\n    .background-img {\n      background: url(${blueTile});\n      background-size: 20%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: #37517a;\n      color: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-15 {\n    .background-img {\n      background: url(${tile});\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #2c3c4e;\n      color: #cccbbf;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-16 {\n    .background-img {\n      background: url(${triangles123});\n      background-repeat: repeat-y;\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #f7ffa9;\n      color: #499991;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-17 {\n    .background-img {\n      background: url(${Alcala_lg});\n      background-repeat: repeat-y;\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #380b1c;\n      color: #d2d4d1;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-18 {\n    .background-img {\n      background: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjAiIGhlaWdodD0iMzAiPgo8ZGVmcz4KPHJlY3QgaWQ9InIiIHdpZHRoPSIzMCIgaGVpZ2h0PSIxNSIgZmlsbD0iI2JiMDg1ZiIgc3Ryb2tlLXdpZHRoPSIyLjUiIHN0cm9rZT0iIzdhMDU0ZCI+PC9yZWN0Pgo8ZyBpZD0icCI+Cjx1c2UgeGxpbms6aHJlZj0iI3IiPjwvdXNlPgo8dXNlIHk9IjE1IiB4bGluazpocmVmPSIjciI+PC91c2U+Cjx1c2UgeT0iMzAiIHhsaW5rOmhyZWY9IiNyIj48L3VzZT4KPHVzZSB5PSI0NSIgeGxpbms6aHJlZj0iI3IiPjwvdXNlPgo8L2c+CjwvZGVmcz4KPHVzZSB4bGluazpocmVmPSIjcCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMjUpIHNrZXdZKDQwKSI+PC91c2U+Cjx1c2UgeGxpbms6aHJlZj0iI3AiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwIDApIHNrZXdZKC00MCkiPjwvdXNlPgo8L3N2Zz4=\");\n      background-size: 100%;\n    }\n    .is-selected {\n      background: white;\n      color: black;\n      padding: ${0.1}em ${0.3}em;\n      margin: ${-0.1}em ${-0.3}em;\n      .text {\n        z-index: 11;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-19 {\n    .background-img {\n      background: url(${map});\n      background-position-x: 60%;\n      background-position-y: 70%;\n    }\n    .is-selected {\n      background: black;\n      padding: 5px 15px;\n      margin: -15px;\n      color: #61c098;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-20 {\n  .background-img {\n    background: url(${electronic});\n    background-size: 100%;\n  }\n  .not-selected {\n    color: rgba(0, 0, 0, 0);\n  }\n  .is-selected {\n    background: white;\n    color: #008308;\n    padding: 0 ${sizes.spaceSm}px;\n    margin: 0 ${-sizes.spaceSm}px;\n  }\n`\n\nexport default PoemDiv\n","import { BodyDiv } from \"src/components/poem/PoemDiv\"\nimport { TextChunkType } from \"src/queries/autogenerate/schemas\"\n\nconst TextSpan = ({ isSelected, text }: TextChunkType) => (\n  <span className={isSelected ? \"is-selected\" : \"not-selected\"}>\n    <span className=\"text\">{text}</span>\n  </span>\n)\n\nexport default function PoemBody({\n  textChunks,\n}: {\n  textChunks: TextChunkType[]\n}) {\n  return (\n    <BodyDiv className=\"poem-text\">\n      {textChunks &&\n        textChunks.map((textSpan, i) => <TextSpan key={i} {...textSpan} />)}\n    </BodyDiv>\n  )\n}\n","import * as React from \"react\"\nimport { Link } from \"react-router-dom\"\n\nconst UsernameLink = ({\n  username,\n  userId,\n}: {\n  username?: string\n  userId: string\n}) => (\n  <div className=\"username\" data-cy=\"usernameLink\">\n    <Link to={`/user/${userId}`}>{username}</Link>\n  </div>\n)\n\nexport default UsernameLink\n","import UsernameLink from \"src/components/universal/UsernameLink\"\n\nexport default function PoemFooter({\n  authorUsername,\n  authorId,\n}: {\n  authorUsername?: string\n  authorId: string\n}) {\n  return (\n    <div className=\"poem-footer\">\n      <UsernameLink userId={authorId} username={authorUsername} />\n    </div>\n  )\n}\n","import styled from \"styled-components\"\n\nconst Loader = styled.div`\n  display: inline-block;\n  width: 64px;\n  height: 64px;\n  &:after {\n    content: \" \";\n    display: block;\n    width: 46px;\n    height: 46px;\n    margin: 1px;\n    border-radius: 50%;\n    border: 5px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: lds-dual-ring 1.2s linear infinite;\n  }\n  @keyframes lds-dual-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`\n\nexport default Loader\n","import { PureComponent } from \"react\"\n\nexport class ErrorBoundary extends PureComponent<{}, { hasError: boolean }> {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.warn(error, errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <p style={{ textAlign: \"center\", margin: 50 }}>Something went wrong.</p>\n      )\n    }\n\n    return this.props.children\n  }\n}\n","import PoemHeader from \"./PoemHeader\"\nimport PoemBody from \"./PoemBody\"\nimport PoemFooter from \"./PoemFooter\"\nimport PoemDiv from \"src/components/poem/PoemDiv\"\nimport Loader from \"../universal/Loader\"\nimport { IPoem } from \"../types\"\nimport { ErrorBoundary } from \"../universal/ErrorBoundary\"\n\nexport default function Poem(props: { poem: IPoem; closeUp?: boolean }) {\n  const { poem } = props\n  if (!poem) {\n    return (\n      <div className=\"poem\">\n        <Loader />\n      </div>\n    )\n  }\n  const { id, backgroundId, colorRange, textChunks, author } = poem\n  if (!author.id) return null\n\n  return (\n    <ErrorBoundary>\n      <PoemDiv\n        className={`poem style-${backgroundId} color-${colorRange} ${\n          props.closeUp ? \"close-up\" : \"\"\n        }`}\n        data-test={`poem${id}`}\n        data-cy=\"poem\"\n      >\n        <div className=\"background-img\" />\n        <PoemHeader poemId={id} authorId={author.id} />\n        <PoemBody textChunks={textChunks} />\n        <PoemFooter authorUsername={author.username} authorId={author.id} />\n      </PoemDiv>\n    </ErrorBoundary>\n  )\n}\n","import styled from \"styled-components\"\nimport { sizes } from \"src/components/universal/_variables\"\nconst exampleClickingImg = require(\"src/images/example-clicking.gif\")\n\nconst CloseUpPoemDiv = styled.div`\n  .close-up-poem-view {\n    text-align: center;\n    width: ${sizes.poemWidth * 2};\n    margin: auto;\n    text-align: center;\n    .poem {\n      margin: 0;\n      width: ${sizes.poemWidth * 2};\n    }\n  }\n  .help-image {\n    background: url(${exampleClickingImg});\n    width: 100px;\n    height: 100px;\n  }\n`\n\nexport default CloseUpPoemDiv\n","import Poem from \"src/components/poem/Poem\"\nimport CloseUpPoemDiv from \"src/components/poem/CloseUpPoemDiv\"\nimport Loader from \"../universal/Loader\"\nimport { useGetSinglePoemQuery } from \"../../queries/autogenerate/hooks\"\nimport { useParams } from \"react-router-dom\"\n\nexport default function CloseUpPoemView() {\n  const { id } = useParams<{ id: string }>()\n  const { data } = useGetSinglePoemQuery({\n    variables: {\n      id,\n    },\n  })\n  if (!data?.poem) return <Loader />\n  return (\n    <CloseUpPoemDiv style={{ marginTop: 50 }}>\n      <Poem poem={data.poem} closeUp />\n    </CloseUpPoemDiv>\n  )\n}\n","import Poem from \"src/components/poem/Poem\"\nimport styled from \"styled-components\"\nimport { GetPoemsQuery } from \"src/queries/autogenerate/operations\"\nimport InfiniteScroll from \"react-infinite-scroller\"\nimport Loader from \"../universal/Loader\"\nimport produce from \"immer\"\nimport { sizes } from \"../universal/_variables\"\n\nexport const LoadingPoemDiv = styled.div`\n  width: ${sizes.poemWidth}px;\n  height: 450px;\n  margin: 16px;\n  background: #ddd;\n  display: inline-block;\n`\n\nexport const PoemContainerDiv = styled.div`\n  margin: auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(${sizes.poemWidth}px, 1fr));\n  grid-gap: 10px;\n  > div {\n    text-align: center;\n    margin-left: -2rem;\n    margin-right: -2rem;\n  }\n`\n\nexport default function IndexView({\n  poems,\n  fetchMore,\n}: {\n  poems: GetPoemsQuery[\"poemPages\"]\n  fetchMore?: (vars: any) => Promise<any>\n}) {\n  return (\n    <PoemContainerDiv>\n      <InfiniteScroll\n        loadMore={(page) => {\n          return fetchMore({\n            variables: { offset: 10 * page, limit: 10 },\n            updateQuery: (prevResult, { fetchMoreResult }) =>\n              produce(prevResult, (draft) => {\n                draft.poemPages.edges.push(...fetchMoreResult.poemPages.edges)\n              }),\n          })\n        }}\n        hasMore={!(poems.edges.length % 10)}\n        loader={<Loader />}\n      >\n        {poems &&\n          poems.edges.map((poem) => {\n            return <Poem poem={poem} key={poem.id} />\n          })}\n      </InfiniteScroll>\n    </PoemContainerDiv>\n  )\n}\n","import IndexView from \"src/components/manyPoemViews/IndexView\"\nimport { useGetPoemsQuery } from \"src/queries/autogenerate/hooks\"\nimport Loader from \"../universal/Loader\"\n\nexport default function HomeView() {\n  const { data, fetchMore } = useGetPoemsQuery({ variables: { limit: 10 } })\n  if (!data) {\n    return <Loader />\n  }\n\n  return (\n    <div className=\"index-view\">\n      <h5>Browse through all the communities poems!</h5>\n      <IndexView {...{ poems: data.poemPages, fetchMore }} />\n    </div>\n  )\n}\n","import moment from \"moment\"\nimport IndexView from \"src/components/manyPoemViews/IndexView\"\nimport Loader from \"../universal/Loader\"\nimport {\n  useGetUserQuery,\n  useGetPoemsByAuthorQuery,\n  useGetCurrentUserQuery,\n} from \"src/queries/autogenerate/hooks\"\nimport { useParams } from \"react-router-dom\"\n\nconst ProfileHeader = ({ id }) => {\n  const { data } = useGetUserQuery({ variables: { id } })\n  const currentUserRes = useGetCurrentUserQuery()\n  const currentUserId = currentUserRes.data?.current?.id\n  if (!data) return <Loader />\n  const { user } = data\n  const isCurrentUser = currentUserId === user.id\n  const pronoun = isCurrentUser ? \"you\" : \"they\"\n  const poemsWrittenCount = user && user.poemsWrittenCount\n  const dateJoined = user && moment(user.dateJoined).fromNow()\n  return (\n    <div className=\"mx-3\">\n      <h1>{user && user.username}</h1>\n      <div>\n        Poems Written: <strong>{poemsWrittenCount}</strong>\n      </div>\n      <div>\n        Signed Up: <strong>{dateJoined}</strong>\n      </div>\n      <h5>Look at all the lovely poems {pronoun} have written!</h5>\n    </div>\n  )\n}\n\nfunction UserPoems({ authorId }) {\n  const { data, fetchMore } = useGetPoemsByAuthorQuery({\n    variables: { authorId, limit: 10 },\n  })\n  if (!data) return <Loader />\n  return <IndexView poems={data.poemPages} fetchMore={fetchMore} />\n}\n\nexport default function ProfileView() {\n  const { id } = useParams<{ id: string }>()\n  return (\n    <div className=\"index-view\">\n      <ProfileHeader id={id} />\n      <UserPoems authorId={id} />\n    </div>\n  )\n}\n","const PoemistLogo = () => (\n  <svg viewBox=\"0 0 380.5 128.1\" style={{ minWidth: \"5rem\" }}>\n    <path\n      d=\"M29.8,0c11.3,0,23,0.2,33.8,3.9c26.7,10.4,35.1,41,23,65.9C75.2,90.2,50.9,92.9,29.8,92.9h-23v31.8c0,4.5-6.7,4.6-6.7,0V3.5\n      C0,0.9,2.6,0,4.8,0H29.8z M6.7,6.5v79.9h24.7c17.6,0,38.6-2.2,49-18.4V68C87.9,54.8,88,35,78.9,22.5C68.7,8.4,49,6.5,33.1,6.5H6.7z\"\n    />\n    <path\n      d=\"M114,69.3c28.2,0,28.1,43.6,0,43.6C86,112.8,85.8,69.3,114,69.3z M114,75.7c-19.9,0-19.8,30.6,0,30.7\n      C133.6,106.5,133.6,75.7,114,75.7z\"\n    />\n    <path\n      d=\"M150.5,93.3c0.9,9.9,10.5,14.9,19.7,12.5c4.2-1.1,6.6-4.8,10.4-6.1c3.7-1.3,6.6,2.4,3.5,5.5c-8,8-21.6,10.7-31.3,4.1\n      c-9.1-6.1-11.2-19.7-6.3-29.1c5-9.5,17.2-13.7,27.1-9.5c4.9,2.1,9,6,11.2,10.9c1.5,3.4,3.9,11.7-2.1,11.7H150.5z M179.7,87\n      c-3.4-14.8-25.7-15.1-28.9-0.1L179.7,87z\"\n    />\n    <path\n      d=\"M206.6,76.1c0,0.3,0,0.7-0.1,1c6.4-5.2,24-14.1,27.2-0.6c9.3-6.9,28.4-13.1,28.4,4.6v27.7c0,4.3-6.5,4.6-6.5,0V84.3\n      c0-3.9,0.1-7.9-4.5-8.6c-5.8-0.9-12.9,5.2-17.1,8.3v24.8c0,4.3-6.4,4.6-6.4,0v-23c0-4.1,0.2-9.6-5-10.1c-5.6-0.5-12.4,6.2-16.3,9.5\n      v23.6c0,4.3-6.4,4.6-6.4,0V72.7c0-1.8,1.3-3.6,3.3-3.4C206.5,69.6,206.6,73.7,206.6,76.1z\"\n    />\n    <path\n      d=\"M284.8,39.7c6.5,0,6.5,10.2,0,10.2C278.2,49.9,278.3,39.7,284.8,39.7z M288,108.8c0,4.2-6.4,4.5-6.4,0V72.7\n      c0-4.3,6.4-4.6,6.4,0.1V108.8z\"\n    />\n    <path\n      d=\"M311,105.3c6.9,2.6,16.4-2.8,6.8-7.6c-7.6-3.8-16.1-5.6-13.6-16.4c2-8.6,11.2-12.8,19.4-11.9c2.6,0.3,8.6,1.4,9.3,4.6\n      c0.7,3.6-2.8,4.2-5.5,3.1h0.1c-5.7-2.5-20.6-1-17.3,8.8c2.2,6.5,13.4,5.1,17.1,10.8c5.6,8.6-3.8,16.6-12.1,16.1\n      c-2.6-0.2-8.3-1-9.4-3.7c-1.2-3,2.4-6.5,5-3.9L311,105.3z\"\n    />\n    <path\n      d=\"M356.4,95.5c0,8.2,5.1,14,13.5,9.5c2.4-1.3,4.9-5.7,7.5-5.8c3.1,0,4,3.6,2,5.6l0.1-0.1c-4.4,6.4-12.3,9.4-19.9,7.6\n      c-8.1-2-9.8-9.4-9.6-16.8l0.3-18.9h-10.2c-4.2,0-4.5-6.3,0-6.3h10.4l0.9-28.7c0.2-4.3,6.3-4.5,6.3,0L357,70.3h16\n      c4.1,0,4.4,6.3,0,6.3h-16.2C356.8,82.9,356.4,89.2,356.4,95.5z\"\n    />\n  </svg>\n)\n\nexport default PoemistLogo\n","import styled from \"styled-components\"\nimport { sizes, color } from \"src/components/universal/_variables\"\n\nconst NavbarDiv = styled.div`\n  li {\n    display: inline-block;\n    margin: ${sizes.spaceBase}px;\n  }\n  text-align: right;\n  position: fixed;\n  top: 0;\n  z-index: 30;\n  background: ${color.darkGrey};\n  color: ${color.lightGrey};\n  width: 100%;\n  padding: ${sizes.spaceBase}px;\n  height: ${sizes.headerHeight}px;\n\n  a {\n    color: ${color.lightGrey};\n  }\n\n  .active {\n    color: white;\n  }\n\n  .navbarMenu {\n    margin-bottom: 0;\n    padding-left: 0;\n    /* background: $dark-grey; */\n\n    /* @include mobile {\n        li {\n          display: block;\n        }\n      } */\n  }\n  .hamburger {\n    display: none;\n\n    /* @include mobile {\n        display: block;\n      } */\n  }\n\n  .hidden-xs {\n    /* @include mobile {\n        display: none;\n      } */\n  }\n\n  .logo {\n    float: left;\n    margin: ${sizes.spaceBase}px;\n    svg {\n      max-width: 13rem;\n      width: calc(100vw - 420px);\n      fill: ${color.lightGrey};\n    }\n  }\n\n  @media (max-width: ${sizes.mobileL}) {\n    .logo {\n      margin: 0;\n    }\n    .navbar {\n      padding: 0;\n    }\n  }\n  @media (max-width: ${sizes.tablet}) {\n    .logo {\n      margin: 0;\n    }\n    .navbar {\n      padding: 0;\n    }\n  }\n`\n\nexport default NavbarDiv\n","import {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  TextField,\n  Typography,\n  Link as MuiLink,\n  IconButton,\n} from \"@material-ui/core\"\nimport React, { useState } from \"react\"\nimport { Link, useHistory, useLocation } from \"react-router-dom\"\nimport {\n  useLoginUserMutation,\n  useCreateUserMutation,\n  GetCurrentUserDocument,\n} from \"src/queries/autogenerate/hooks\"\nimport { FaTimes } from \"react-icons/fa\"\n\nexport default function LoginDialog() {\n  const [formState, setFormState] = useState({\n    username: \"\",\n    password: \"\",\n  })\n  const [loginInUserMutation, { error: loginError }] = useLoginUserMutation({\n    refetchQueries: [{ query: GetCurrentUserDocument }],\n  })\n  const [createUserMutation, { error: signUpError }] = useCreateUserMutation({\n    refetchQueries: [{ query: GetCurrentUserDocument }],\n    // errorPolicy: \"ignore\",\n  })\n  const location = useLocation()\n  const history = useHistory()\n  const handleClose = () => history.push(history.location.pathname)\n  const showLogin = location.search.includes(\"showLogin\")\n  const showSignUp = location.search.includes(\"showSignUp\")\n  return (\n    <Dialog open={showLogin || showSignUp} onClose={handleClose}>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault()\n          let createPromise: Promise<any> = Promise.resolve()\n          if (showSignUp) {\n            createPromise = createUserMutation({\n              variables: formState,\n            })\n          }\n          createPromise\n            .then(() =>\n              loginInUserMutation({ variables: formState }).then((res) => {\n                const { token } = res.data.tokenAuth\n                localStorage.setItem(\"token\", token)\n                // TODO - hack to get the \"refetchQueries\" to trigger after the localStorage.setItem\n                window.setTimeout(() => {\n                  loginInUserMutation({ variables: formState })\n                }, 100)\n                handleClose()\n              }),\n            )\n            .catch((res) => {\n              console.warn(res)\n            })\n        }}\n      >\n        <DialogTitle>\n          <div style={{ display: \"flex\" }}>\n            <div style={{ flexGrow: 1 }}>{showLogin ? \"Login\" : \"Sign Up\"}</div>\n            <IconButton size=\"small\" onClick={handleClose}>\n              <FaTimes />\n            </IconButton>\n          </div>\n        </DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Username\"\n            fullWidth\n            value={formState.username}\n            onChange={(e) =>\n              setFormState((arg) => ({ ...arg, username: e.target.value }))\n            }\n          />\n          <TextField\n            type=\"password\"\n            margin=\"dense\"\n            label=\"Password\"\n            fullWidth\n            value={formState.password}\n            onChange={(e) =>\n              setFormState((arg) => ({ ...arg, password: e.target.value }))\n            }\n          />\n          {showLogin ? (\n            <Link to=\"?showSignUp\" component={MuiLink}>\n              Sign Up\n            </Link>\n          ) : (\n            <Link to=\"?showLogin\" component={MuiLink}>\n              Login\n            </Link>\n          )}\n          <Typography color=\"error\">\n            {signUpError?.message?.includes(\"UNIQUE\")\n              ? \"Username already taken\"\n              : signUpError?.message}\n            {loginError?.message}\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Cancel</Button>\n          <Button color=\"primary\" variant=\"contained\" type=\"submit\">\n            Submit\n          </Button>\n        </DialogActions>\n      </form>\n    </Dialog>\n  )\n}\n","import { useState } from \"react\"\nimport { Button, ButtonProps, Menu, MenuItem } from \"@material-ui/core\"\n\nexport default function Dropdown({\n  openLabel = \"Select\",\n  items = [],\n  openStyle = {},\n}: {\n  openLabel?: string | JSX.Element\n  items: { label: string; onClick?: () => void }[]\n  openStyle: ButtonProps[\"style\"]\n}) {\n  const [anchorEl, setAnchorEl] = useState(null)\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  return (\n    <div>\n      <Button\n        aria-controls=\"simple-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        style={openStyle}\n      >\n        {openLabel}\n      </Button>\n      <Menu\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n      >\n        {items.map((item) => (\n          <MenuItem\n            onClick={() => {\n              item.onClick?.()\n              handleClose()\n            }}\n          >\n            {item.label}\n          </MenuItem>\n        ))}\n      </Menu>\n    </div>\n  )\n}\n","import { NavLink } from \"react-router-dom\"\nimport PoemistLogo from \"src/components/fullApp/Logo\"\nimport NavbarDiv from \"./NavbarDiv\"\nimport { useHistory } from \"react-router-dom\"\nimport { useGetCurrentUserQuery } from \"src/queries/autogenerate/hooks\"\nimport LoginModal from \"./LoginModal\"\nimport Dropdown from \"../universal/Dropdown\"\nimport { FaAngleDown } from \"react-icons/fa\"\n\nconst LogInOut = ({ toggleShowLogin }: { toggleShowLogin: () => void }) => (\n  <span>\n    {/* eslint-disable-next-line */}\n    <a onClick={toggleShowLogin} data-test=\"signUpLink\">\n      Sign Up\n    </a>\n  </span>\n)\n\nfunction Navbar() {\n  const history = useHistory()\n  const { data } = useGetCurrentUserQuery()\n  const currentUser = data?.current\n  return (\n    <div\n      className=\"navbar\"\n      style={{ display: \"inline-block\", minWidth: 345, marginRight: \"1rem\" }}\n    >\n      <div />\n      <ul className={\"navbarMenu expanded\"}>\n        <li>\n          <NavLink activeClassName=\"active\" exact to=\"/\">\n            Home\n          </NavLink>\n        </li>\n        <li>\n          <NavLink activeClassName=\"active\" to=\"/about\">\n            About\n          </NavLink>\n        </li>\n        <li>\n          <NavLink activeClassName=\"active\" to=\"/new/write\">\n            Create\n          </NavLink>\n        </li>\n        {currentUser && (\n          <li>\n            <span style={{ display: \"flex\" }}>\n              <NavLink\n                activeClassName=\"active\"\n                to={`/user/${currentUser.id}`}\n                data-test=\"profileLink\"\n              >\n                Profile\n              </NavLink>\n\n              <Dropdown\n                openLabel={<FaAngleDown />}\n                openStyle={{\n                  color: \"white\",\n                  display: \"inline\",\n                  minWidth: 5,\n                  paddingTop: 0,\n                }}\n                items={[\n                  {\n                    label: \"Logout\",\n                    onClick: () => {\n                      localStorage.clear()\n                      window.location.reload()\n                    },\n                  },\n                ]}\n              />\n            </span>\n          </li>\n        )}\n\n        {!currentUser && (\n          <li>\n            <LogInOut toggleShowLogin={() => history.push(\"?showLogin=true\")} />\n          </li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default function FullNav() {\n  return (\n    <NavbarDiv>\n      <NavLink to=\"/\" className=\"logo\">\n        <PoemistLogo />\n      </NavLink>\n      <Navbar />\n      <LoginModal />\n    </NavbarDiv>\n  )\n}\n","import styled from \"styled-components\"\nimport { sizes } from \"src/components/universal/_variables\"\nimport Navbar from \"src/components/fullApp/Navbar\"\nimport { ErrorBoundary } from \"../universal/ErrorBoundary\"\n// import ModalContainer from \"src/components/login/ModalContainer\"\n// import 'reset-css/reset.css'\n\nconst AppDiv = styled.div`\n  @media (max-width: 550px) {\n    min-width: 550px;\n    .poem {\n      margin: 0.2em;\n    }\n    /* .close-up-poem-view {\n      min-width: 550px;\n    } */\n  }\n  .app {\n    font-size: ${sizes.fontSizeBase};\n    font-family: \"Avenir Next\", sans-serif;\n  }\n\n  .page-body {\n    padding: ${sizes.spaceBase}px;\n    margin-top: ${sizes.headerHeight}px;\n    text-align: center;\n  }\n\n  .index-view {\n    text-align: left;\n  }\n\n  .error {\n    color: red;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    text-align: center;\n  }\n\n  a:hover {\n    cursor: pointer;\n  }\n`\n\nexport default function AppWrapper({ children }) {\n  return (\n    <AppDiv>\n      <Navbar />\n      <ErrorBoundary>\n        <div className=\"page-body\">{children}</div>\n      </ErrorBoundary>\n\n      {/* <ModalContainer /> */}\n    </AppDiv>\n  )\n}\n","import styled from \"styled-components\"\n\nconst DivAbout = styled.div`\n  text-align: left;\n  max-width: 800px;\n  margin: auto;\n`\n\nexport default function About() {\n  return (\n    <DivAbout className=\"about\">\n      <h1>About</h1>\n      <p>\n        <i>\n          A <strong>found poem</strong> is a poem that is composed with words\n          and phrases from another text.\n        </i>\n      </p>\n\n      <section>\n        <p>\n          It may seem limiting to choose words only from a prearranged set, but\n          limitations are one of the best drives of creativity.\n        </p>\n        <p>\n          For the sake of this website there are a set of very specific\n          constraints on each poem.\n        </p>\n        <ul>\n          <li>You will recieve exactly 40 lines of text</li>\n          <li>\n            You may select any words or letters from this text to create your\n            poem\n          </li>\n          <li>You cannot rearrange them</li>\n        </ul>\n        <p>\n          The poems are meant to be a fun exercise not a throughout masterpiece,\n          so don't spend too much time on each one. Churn out a few and discover\n          moments of accidental brilliance and insight, or simply silliness.\n          Take the stress and pressure out of writing and just have fun!\n        </p>\n        <h4>Contact</h4>\n        <p>We would love to hear from you!</p>\n        <p>Direct any comments or questions to poemistnet@gmail.com.</p>\n      </section>\n    </DivAbout>\n  )\n}\n","import { flatten } from \"lodash\"\nimport { IWordLetter, ITextChunk } from \"src/components/types\"\n\nfunction getSelectedTexts(wordLetters: IWordLetter[][]) {\n  const letters = flatten(wordLetters)\n  let currentlySelected = false\n  const allText: ITextChunk[] = []\n  let text = \"\"\n\n  letters.forEach((letter) => {\n    // only push index when switching\n    if (letter.isSelected !== currentlySelected) {\n      if (text) allText.push({ text, isSelected: currentlySelected })\n      text = letter.ch\n      currentlySelected = !currentlySelected\n    } else {\n      text += letter.ch\n    }\n  })\n\n  // if selected at end, close it\n  if (text) allText.push({ text, isSelected: currentlySelected })\n  return allText\n}\n\nexport default getSelectedTexts\n","import produce from \"immer\"\nimport { useHistory } from \"react-router-dom\"\nimport {\n  useUpdatePoemMutation,\n  useCreatePoemMutation,\n  GetPoemsDocument,\n  GetPoemsByAuthorDocument,\n  useGetCurrentUserQuery,\n} from \"src/queries/autogenerate/hooks\"\nimport { GetPoemsQuery } from \"src/queries/autogenerate/operations\"\nimport getSelectedTexts from \"src/utils/getSelectedTexts\"\nimport updateCache from \"src/utils/updateCache\"\n\nexport default function SavePoemButton({ poem, children }) {\n  const history = useHistory()\n  const { data } = useGetCurrentUserQuery()\n  const author = data?.current\n  let { id, textChunks, backgroundId, colorRange, book, startIdx } = poem\n  const bookId = book?.id\n  if (poem.wordLetters) {\n    textChunks = getSelectedTexts(poem.wordLetters)\n  } else {\n    textChunks = textChunks.map(({ __typename, ...rest }) => rest)\n  }\n  const [updatePoemMutation] = useUpdatePoemMutation({\n    variables: {\n      id,\n      textChunks,\n      backgroundId,\n      colorRange,\n    },\n  })\n  const [createPoemMutation] = useCreatePoemMutation({\n    variables: {\n      textChunks,\n      bookId,\n      startIdx,\n    },\n    update: (cache, arg) => {\n      const updateData = (data) => {\n        return produce(data, (draft: GetPoemsQuery) => {\n          draft.poemPages.edges.unshift(arg.data.createPoem.poem)\n        })\n      }\n      updateCache({\n        cache,\n        arg: { query: GetPoemsDocument, variables: { limit: 10 } },\n        updateData,\n      })\n      updateCache({\n        cache,\n        arg: {\n          query: GetPoemsByAuthorDocument,\n          variables: { limit: 10, authorId: author.id },\n        },\n        updateData,\n      })\n    },\n  })\n\n  let savePoem = id ? updatePoemMutation : createPoemMutation\n  if (!author) {\n    savePoem = () => {\n      history.push(\"?showSignUp=true\")\n      return Promise.reject()\n    }\n  }\n\n  return <>{children({ savePoem })}</>\n}\n","import styled from \"styled-components\"\nimport { sizes, color } from \"src/components/universal/_variables\"\n\nconst ToolbarDiv = styled.div`\n  text-align: left;\n  position: fixed;\n  left: calc(50vw + ${sizes.poemWidth}px);\n  top: 18rem;\n  width: 170px;\n  @media (max-width: ${sizes.tablet}) {\n    width: 100vw;\n    left: 0;\n    bottom: 0;\n    top: auto;\n    z-index: 10;\n    display: flex;\n    z-index: 10;\n    .toolbar-tab {\n      display: inline-block;\n      width: 50%;\n      border: ${color.greyDarken4} solid !important;\n      font-size: ${sizes.fontSizeBase * 1.5}px !important;\n      margin: 0 !important;\n    }\n    .lower {\n      font-size: ${sizes.fontSizeBase * 2}px !important;\n    }\n  }\n  @media (max-width: 550px) {\n    left: 0;\n    width: 100%;\n  }\n\n  .toolbar {\n    margin-left: ${sizes.poemWidth * 2}px;\n    margin-top: ${sizes.spaceBase * 3}px;\n    font-size: ${sizes.fontSizeLg}px;\n  }\n\n  .toolbar-tab {\n    font-size: ${sizes.fontSizeBase}px;\n    background: #333;\n    color: white;\n    margin: ${sizes.spaceSm}px 0;\n    text-align: left;\n    border: none;\n    cursor: pointer;\n\n    &-lg {\n      font-size: ${sizes.fontSizeLg}px;\n    }\n\n    button {\n      background: black;\n      color: white;\n      border: none;\n    }\n  }\n  button[disabled] {\n    background: #aaa;\n  }\n  .arrow-btn {\n    font-size: 2em !important;\n    cursor: pointer;\n  }\n  .text {\n    display: inline-block;\n    padding: 0.5em;\n  }\n`\n\nexport default ToolbarDiv\n","import { withRouter, RouteComponentProps } from \"react-router-dom\"\nimport {\n  FaAngleRight,\n  FaAngleLeft,\n  FaArrowRight,\n  FaArrowLeft,\n} from \"react-icons/fa\"\nimport SavePoemButton from \"./SavePoemButton\"\nimport ToolbarDiv from \"./ToolbarDiv\"\nimport { GetSinglePoemQuery } from \"src/queries/autogenerate/operations\"\nimport { PureComponent } from \"react\"\n\nconst BACKGROUND_ID_COUNT = 20\nconst COLOR_RANGE_COUNT = 36\n\nfunction keepInRange({ num, upperlimit }: { num: number; upperlimit: number }) {\n  if (num < 0) {\n    return upperlimit - 1\n  }\n  if (num > upperlimit) {\n    return num - upperlimit\n  }\n  return num\n}\n\ninterface IProps {\n  poem: GetSinglePoemQuery[\"poem\"]\n  updateStyle: (arg: { backgroundId?: number; colorRange?: number }) => void\n}\n\nclass StyleToolbar extends PureComponent<\n  IProps & RouteComponentProps<{ id: string }>\n> {\n  backgroundUp = () => {\n    const num = this.props.poem.backgroundId + 1\n    const backgroundId = keepInRange({ num, upperlimit: BACKGROUND_ID_COUNT })\n    this.props.updateStyle({ backgroundId })\n  }\n  backgroundDown = () => {\n    const num = this.props.poem.backgroundId - 1\n    const backgroundId = keepInRange({ num, upperlimit: BACKGROUND_ID_COUNT })\n    this.props.updateStyle({ backgroundId })\n  }\n  colorUp = () => {\n    const num = this.props.poem.colorRange + 1\n    const colorRange = keepInRange({ num, upperlimit: COLOR_RANGE_COUNT })\n    this.props.updateStyle({ colorRange })\n  }\n  colorDown = () => {\n    const num = this.props.poem.colorRange - 1\n    const colorRange = keepInRange({ num, upperlimit: COLOR_RANGE_COUNT })\n    this.props.updateStyle({ colorRange })\n  }\n  render() {\n    const { poem } = this.props\n    const backUrl = `/edit/write/${poem.id}`\n    return (\n      <ToolbarDiv className=\"style-toolbar toolbar\">\n        <div className=\"toolbar-tab\">\n          <button\n            onClick={this.backgroundDown}\n            className=\"arrow-btn\"\n            data-ux=\"background-id-down\"\n          >\n            <FaAngleLeft />\n          </button>\n          <span className=\"text\">Style {poem.backgroundId}</span>\n          <button\n            onClick={this.backgroundUp}\n            className=\"arrow-btn\"\n            data-ux=\"background-id-up\"\n            style={{ float: \"right\" }}\n          >\n            <FaAngleRight />\n          </button>\n        </div>\n\n        <div className=\"toolbar-tab\">\n          <button\n            onClick={this.colorDown}\n            className=\"arrow-btn\"\n            data-ux=\"color-range-down\"\n          >\n            <FaAngleLeft />\n          </button>\n\n          <span className=\"text\">Color {poem.colorRange}</span>\n\n          <button\n            onClick={this.colorUp}\n            className=\"arrow-btn\"\n            data-ux=\"color-range-up\"\n            style={{ float: \"right\" }}\n          >\n            <FaAngleRight />\n          </button>\n        </div>\n\n        <div\n          className=\"toolbar-tab lower\"\n          onClick={() => {\n            this.props.history.push(backUrl)\n          }}\n        >\n          <span className=\"text\">\n            <FaArrowLeft /> Back\n          </span>\n        </div>\n        <SavePoemButton poem={poem}>\n          {({ savePoem }) => (\n            <button\n              onClick={() => {\n                savePoem().then(() => {\n                  this.props.history.push(\"/\")\n                })\n              }}\n              className=\"toolbar-tab toolbar-tab-lg lower\"\n              data-test=\"saveLink\"\n            >\n              <span className=\"text\">\n                Finish <FaArrowRight />\n              </span>\n            </button>\n          )}\n        </SavePoemButton>\n      </ToolbarDiv>\n    )\n  }\n}\n\nexport default withRouter(StyleToolbar)\n","import React, { useEffect, useState } from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport StyleToolbar from \"src/components/selectable/StyleToolbar\"\nimport Poem from \"src/components/poem/Poem\"\nimport Loader from \"../universal/Loader\"\nimport { useGetSinglePoemQuery } from \"src/queries/autogenerate/hooks\"\n\nexport default function StyleView() {\n  const { id } = useParams<{ id: string }>()\n  const { data } = useGetSinglePoemQuery({ variables: { id } })\n  const [poem, setPoem] = useState(data?.poem)\n  useEffect(() => {\n    setPoem(data?.poem)\n  }, [data?.poem])\n\n  if (!poem) return <Loader />\n\n  const updateStyle = ({\n    backgroundId,\n    colorRange,\n  }: {\n    backgroundId: number\n    colorRange: number\n  }) => {\n    backgroundId && setPoem({ ...poem, backgroundId })\n    colorRange && setPoem({ ...poem, colorRange })\n  }\n\n  return (\n    <div className=\"close-up-poem-view text-center\">\n      <h1>Stylize</h1>\n      <StyleToolbar {...{ poem, updateStyle }} />\n      <Poem poem={poem} closeUp />\n    </div>\n  )\n}\n","import { map } from \"lodash\"\nimport { ITextChunk, IWordLetter } from \"src/components/types\"\n\nfunction splitWords(passage: string) {\n  // takes 'but--I have' => ['but-', '-', 'I ', 'have' ]\n  const words: string[] = []\n  let word = \"\"\n\n  passage.split(\"\").forEach((ch) => {\n    word += ch\n    if (ch === \" \" || ch === \"-\") {\n      words.push(word)\n      word = \"\"\n    }\n  })\n  words.push(word) // last few letters with no space after\n  return words\n}\n\nfunction formatLetters({\n  textChunks,\n  passage,\n}: {\n  textChunks: ITextChunk[]\n  passage?: string\n}) {\n  if (passage) {\n    textChunks = [{ text: passage, isSelected: false }]\n  } else if (!textChunks) {\n    return []\n  }\n  let wordLetters: IWordLetter[][] = []\n  let lastSelected: boolean\n  textChunks.forEach((textChunk) => {\n    const wordArr = splitWords(textChunk.text)\n    const letters = wordArr.map((word) => {\n      return map(word, (ch) => ({ ch, isSelected: textChunk.isSelected }))\n    })\n    if (lastSelected === textChunk.isSelected) {\n      //@ts-ignore\n      wordLetters = wordLetters[wordLetters.length - 1].concat(letters)\n    } else {\n      wordLetters = wordLetters.concat(letters)\n    }\n\n    lastSelected = textChunk.isSelected\n  })\n  return wordLetters\n}\n\nexport default formatLetters\n","import produce from \"immer\"\nimport { IWordLetter } from \"src/components/types\"\n\nfunction toggleLetters({\n  wordLetters: w,\n  wordIdx,\n  letterIdx,\n  isSelectingByWord,\n}: {\n  wordLetters: Array<IWordLetter[]>\n  wordIdx: number\n  letterIdx: number\n  isSelectingByWord: boolean\n}): Array<IWordLetter[]> {\n  return produce(w, (wordLetters) => {\n    if (isSelectingByWord) {\n      if (!wordLetters[wordIdx]) {\n        console.warn(\n          `Word out of range, tried to access ${wordIdx} of ${wordLetters.flatMap.length}`,\n        )\n        return wordLetters\n      }\n      const isSelected = !wordLetters[wordIdx][letterIdx].isSelected // current letter's state\n      // all letters in word should change together\n      wordLetters[wordIdx].forEach((letter) => {\n        letter.isSelected = isSelected\n      })\n      return wordLetters\n    } else {\n      wordLetters[wordIdx][letterIdx].isSelected = !wordLetters[wordIdx][\n        letterIdx\n      ].isSelected\n      return wordLetters\n    }\n  })\n}\n\nexport default toggleLetters\n","import { FaArrowRight } from \"react-icons/fa\"\nimport SavePoemButton from \"./SavePoemButton\"\nimport ToolbarDiv from \"./ToolbarDiv\"\nimport { useHistory } from \"react-router-dom\"\nimport { ISelectablePoem, IWordLetter } from \"../types\"\n\ninterface IProps {\n  handleClear: () => void\n  getNewPassage: () => void\n  toggleSelectBy: () => void\n  toggleRandomLetters: () => void\n  selectablePoem: ISelectablePoem\n}\n\nfunction getIsBlank(wordLetters: IWordLetter[][]) {\n  return wordLetters.every((word) => word.every((letter) => !letter.isSelected))\n}\n\nconst WriterToolbar = ({\n  handleClear,\n  getNewPassage,\n  toggleSelectBy,\n  toggleRandomLetters,\n  selectablePoem,\n  ...props\n}: IProps) => {\n  const history = useHistory()\n  // @ts-ignore\n  const isBlank = getIsBlank(selectablePoem.wordLetters)\n  return (\n    <ToolbarDiv className=\"writer-toolbar toolbar\">\n      <button\n        className=\"toolbar-tab\"\n        onClick={toggleSelectBy}\n        data-ux=\"toggle-select-by\"\n      >\n        <span className=\"text\">\n          {selectablePoem.isSelectingByWord\n            ? \"select by letter?\"\n            : \"select by word?\"}\n        </span>\n      </button>\n      {!selectablePoem.id && (\n        <button\n          className=\"toolbar-tab\"\n          onClick={() => getNewPassage()}\n          data-ux=\"get-new-passage\"\n        >\n          <span className=\"text\">new passage?</span>\n        </button>\n      )}\n      {!selectablePoem.id && (\n        <button\n          className=\"toolbar-tab\"\n          onClick={isBlank ? toggleRandomLetters : handleClear}\n          data-ux=\"get-new-passage\"\n        >\n          <span className=\"text\">{isBlank ? \"nudge\" : \"clear\"}</span>\n        </button>\n      )}\n      <SavePoemButton poem={selectablePoem}>\n        {({ savePoem }) => (\n          <button\n            onClick={() =>\n              savePoem().then((res) => {\n                const id = (res.data.updatePoem || res.data.createPoem).poem.id\n                history.push(`/edit/stylize/${id}`)\n              })\n            }\n            className=\"toolbar-tab toolbar-tab-lg\"\n            data-test=\"styleLink\"\n          >\n            <span className=\"text\">Next</span> <FaArrowRight />\n          </button>\n        )}\n      </SavePoemButton>\n    </ToolbarDiv>\n  )\n}\n\nexport default WriterToolbar\n","import { IWordLetter } from \"../types\"\n\nexport type IHandleClickLetter = ({\n  wordIdx,\n  letterIdx,\n}: {\n  wordIdx: number\n  letterIdx: number\n}) => void\n\ninterface IPropsLetter extends IWordLetter {\n  letterIdx: number\n  handleClickLetter: () => void\n}\n\nconst Letter = ({\n  isSelected,\n  ch,\n  letterIdx,\n  handleClickLetter,\n}: IPropsLetter) => (\n  <span\n    className={`letter ${isSelected ? \"is\" : \"not\"}-selected`}\n    data-idx={letterIdx}\n    onClick={handleClickLetter}\n  >\n    {ch}\n  </span>\n)\n\ninterface IPropsWord {\n  word: IWordLetter[]\n  wordIdx: number\n  handleClickLetter: IHandleClickLetter\n}\n\nconst Word = ({ word, wordIdx, handleClickLetter }: IPropsWord) => (\n  <span className=\"word\" data-word-idx={wordIdx}>\n    {word.map(({ ch, isSelected }, letterIdx) => {\n      return (\n        <Letter\n          key={`${wordIdx}${letterIdx}`}\n          {...{ ch, isSelected, letterIdx }}\n          handleClickLetter={() => handleClickLetter({ wordIdx, letterIdx })}\n        />\n      )\n    })}\n  </span>\n)\n\nexport default Word\n","import Word, { IHandleClickLetter } from \"./Word\"\nimport styled from \"styled-components\"\nimport PoemDiv, { BodyDiv } from \"src/components/poem/PoemDiv\"\nimport { IWordLetter } from \"../types\"\n\nconst SelectablePoemDiv = styled.div`\n  user-select: none;\n  .letter {\n    cursor: pointer;\n  }\n\n  .selecting-by-word .word:hover .letter,\n  .selecting-by-letter .letter:hover {\n    /* background: rgba(255, 255, 0, .7); */\n    color: cyan;\n    &.is-selected {\n      color: red;\n    }\n  }\n`\n\nexport default function SelectablePoemRender({\n  wordLetters,\n  isSelectingByWord,\n  handleClickLetter,\n}: {\n  wordLetters: IWordLetter[][]\n  isSelectingByWord: boolean\n  handleClickLetter: IHandleClickLetter\n}) {\n  return (\n    <PoemDiv className=\"poem close-up\">\n      <SelectablePoemDiv>\n        <BodyDiv className=\"poem-body\">\n          <div className=\"background-img\" />\n          <div\n            className={\n              isSelectingByWord ? \"selecting-by-word\" : \"selecting-by-letter\"\n            }\n          >\n            {wordLetters.map((word, i) => (\n              <Word\n                word={word}\n                key={i}\n                wordIdx={i}\n                handleClickLetter={handleClickLetter}\n              />\n            ))}\n          </div>\n        </BodyDiv>\n      </SelectablePoemDiv>\n    </PoemDiv>\n  )\n}\n","import { PureComponent } from \"react\"\nimport formatLetters from \"src/utils/formatLetters\"\nimport toggleLetters from \"src/utils/toggleLetters\"\nimport WriterToolbar from \"src/components/selectable/WriterToolbar\"\nimport { IPoem, ISelectablePoem } from \"src/components/types\"\nimport { IHandleClickLetter } from \"./Word\"\nimport SelectablePoemRender from \"./SelectablePoem\"\nimport { random } from \"lodash\"\nimport Loader from \"src/components/universal/Loader\"\nimport { useParams } from \"react-router-dom\"\nimport {\n  useGetSinglePoemQuery,\n  useGetRandomBookQuery,\n  useGetCurrentUserQuery,\n} from \"src/queries/autogenerate/hooks\"\n\nfunction getSelectable(poem: {\n  textChunks: IPoem[\"textChunks\"]\n}): ISelectablePoem {\n  const wordLetters = formatLetters({\n    textChunks: poem.textChunks,\n  })\n  return { ...poem, wordLetters, isSelectingByWord: true }\n}\n\ninterface IProps {\n  getNewPassage: () => void\n  selectablePoem: ISelectablePoem\n}\n\nclass WriteView extends PureComponent<IProps> {\n  state = this.props.selectablePoem\n\n  static getDerivedStateFromProps(\n    nextProps: IProps,\n    state: IProps[\"selectablePoem\"],\n  ) {\n    if (nextProps.selectablePoem.book.id !== state.book.id) {\n      return nextProps.selectablePoem\n    }\n    return state\n  }\n\n  onKeyDown = (e) => {\n    if (e.key === \"Shift\") {\n      this.setState({ isSelectingByWord: false })\n    }\n  }\n  onKeyUp = (e) => {\n    if (e.key === \"Shift\") {\n      this.setState({ isSelectingByWord: true })\n    }\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.onKeyDown, false)\n    document.addEventListener(\"keyup\", this.onKeyUp, false)\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.onKeyDown, false)\n    document.removeEventListener(\"keyup\", this.onKeyUp, false)\n  }\n\n  handleClickLetter: IHandleClickLetter = ({ wordIdx, letterIdx }) => {\n    const { wordLetters, isSelectingByWord } = this.state\n    const newWordLetters = toggleLetters({\n      wordLetters,\n      wordIdx,\n      letterIdx,\n      isSelectingByWord,\n    })\n    this.setState({ wordLetters: newWordLetters })\n  }\n\n  handleClear = () => {\n    this.setState(this.props.selectablePoem)\n  }\n\n  toggleSelectBy = () => {\n    this.setState({ isSelectingByWord: !this.state.isSelectingByWord })\n  }\n\n  toggleRandomLetters = () => {\n    let i = 0\n    let wordLetters = this.state.wordLetters\n    while (i < 10) {\n      i++\n      // @ts-ignore\n      wordLetters = toggleLetters({\n        wordLetters,\n        wordIdx: random(0, 100),\n        letterIdx: 0,\n        isSelectingByWord: true,\n      })\n    }\n    this.setState({ wordLetters })\n  }\n\n  render() {\n    return (\n      <div\n        className=\"close-up-poem-view text-center\"\n        onKeyPress={(e) => {\n          e.shiftKey && this.toggleSelectBy()\n        }}\n      >\n        <h1>{this.props.selectablePoem.id ? \"Edit\" : \"Write\"}</h1>\n        <h5>Make your own poem by clicking on words!</h5>\n\n        <WriterToolbar\n          selectablePoem={this.state}\n          getNewPassage={this.props.getNewPassage}\n          handleClear={this.handleClear}\n          toggleSelectBy={this.toggleSelectBy}\n          toggleRandomLetters={this.toggleRandomLetters}\n        />\n        <SelectablePoemRender\n          {...this.state}\n          //@ts-ignore\n          wordLetters={this.state.wordLetters}\n          handleClickLetter={this.handleClickLetter}\n        />\n      </div>\n    )\n  }\n}\n\nexport default function WriteViewWData() {\n  const { id } = useParams<{ id: string }>()\n  const { data } = useGetSinglePoemQuery({ variables: { id }, skip: !id })\n  const randomBook = useGetRandomBookQuery()\n  const currentUserRes = useGetCurrentUserQuery()\n  const current = currentUserRes.data?.current\n  if (!randomBook.data) return <Loader />\n  const selectablePoem = {\n    book: {\n      id: randomBook.data.randomBook.id,\n      title: randomBook.data.randomBook.title,\n    },\n    startIdx: randomBook.data.randomBook.startIdx,\n    author: current,\n    ...getSelectable({\n      textChunks: data?.poem.textChunks || [\n        { text: randomBook.data.randomBook.text, isSelected: false },\n      ],\n    }),\n    ...(data?.poem || {}),\n  }\n  const getNewPassage = randomBook.refetch\n  return <WriteView {...{ selectablePoem, getNewPassage }} />\n}\n","import { Switch, Route } from \"react-router-dom\"\nimport CloseUpPoemView from \"./components/poem/CloseUpPoemView\"\nimport HomeView from \"./components/manyPoemViews/HomeView\"\nimport ProfileView from \"./components/manyPoemViews/ProfileView\"\nimport AppWrapper from \"./components/fullApp/AppWrapper\"\nimport About from \"./components/fullApp/About\"\nimport StyleView from \"./components/selectable/StyleView\"\nimport WriteView from \"./components/selectable/WriteView\"\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Switch>\n        <Route path=\"/\" exact component={HomeView} />\n        <Route path=\"/about\" component={About} />\n        <Route path=\"/edit/stylize/:id\" component={StyleView} />\n        <Route path=\"/new/write\" component={WriteView} />\n        <Route path=\"/edit/write/:id\" component={WriteView} />\n        <Route path=\"/poem/:id\" component={CloseUpPoemView} />\n        <Route path=\"/user/:id\" component={ProfileView} />\n      </Switch>\n    </AppWrapper>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { StrictMode } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\nimport { HashRouter as Router } from \"react-router-dom\"\n\nimport { ApolloClient, createHttpLink, InMemoryCache } from \"@apollo/client\"\nimport { setContext } from \"@apollo/client/link/context\"\nimport { ApolloProvider } from \"@apollo/client\"\nimport { ErrorBoundary } from \"./components/universal/ErrorBoundary\"\n\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\"\n\nconst DEV_API = \"http://localhost:8000/graphql\"\nconst STAGING_API = \"https://calm-lowlands-48993.herokuapp.com/graphql\"\n\nconst httpLink = createHttpLink({\n  uri: process.env.NODE_ENV === \"development\" ? DEV_API : STAGING_API,\n})\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem(\"token\")\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      Authorization: token ? `JWT ${token}` : \"\",\n    },\n  }\n})\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache({}),\n})\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#333\",\n    },\n  },\n  props: {\n    MuiButtonBase: {\n      disableRipple: true,\n    },\n  },\n  shape: {\n    borderRadius: 0,\n  },\n  typography: {\n    button: {\n      textTransform: \"none\",\n    },\n  },\n})\n\nReactDOM.render(\n  <StrictMode>\n    <ErrorBoundary>\n      <ApolloProvider client={client}>\n        <Router>\n          <ThemeProvider theme={theme}>\n            <CssBaseline />\n            <App />\n          </ThemeProvider>\n        </Router>\n      </ApolloProvider>\n    </ErrorBoundary>\n  </StrictMode>,\n  document.getElementById(\"root\"),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}