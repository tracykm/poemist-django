(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{121:function(n,e,t){},131:function(n,e,t){"use strict";t.r(e),e.default=t.p+"static/media/example-clicking.f7137e63.gif"},134:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t(86),c=t(17),o=t(0),i=t.n(o),s=t(18),d=t.n(s),l=(t(121),t(22)),u=t(9),b=t(46),p=t(20),g=t(12);function m(){var n=Object(u.a)(["\n  query getUser($id: ID!) {\n    user(id: $id) {\n      id\n      username\n      poemsWrittenCount\n      dateJoined\n    }\n    current {\n      id\n    }\n  }\n"]);return m=function(){return n},n}function j(){var n=Object(u.a)(["\n  query getCurrentUser {\n    current {\n      id\n      username\n    }\n  }\n"]);return j=function(){return n},n}function h(){var n=Object(u.a)(["\n  mutation deletePoem($id: ID!) {\n    deletePoem(id: $id) {\n      id\n    }\n  }\n"]);return h=function(){return n},n}function x(){var n=Object(u.a)(["\n  mutation updatePoem(\n    $textChunks: [InputTextChunkType]!\n    $id: ID!\n    $backgroundId: Int\n    $colorRange: Int\n  ) {\n    updatePoem(\n      textChunks: $textChunks\n      id: $id\n      backgroundId: $backgroundId\n      colorRange: $colorRange\n    ) {\n      poem {\n        ...PoemDetails\n      }\n    }\n  }\n  ","\n"]);return x=function(){return n},n}function f(){var n=Object(u.a)(["\n  mutation createPoem($textChunks: [InputTextChunkType]!, $bookId: ID!) {\n    createPoem(textChunks: $textChunks, bookId: $bookId) {\n      poem {\n        id\n      }\n    }\n  }\n"]);return f=function(){return n},n}function v(){var n=Object(u.a)(["\n  query getPoemsByAuthor($authorId: ID, $offset: Int, $limit: Int) {\n    poemPages(authorId: $authorId, offset: $offset, limit: $limit) {\n      edges {\n        ...PoemDetails\n      }\n    }\n  }\n  ","\n"]);return v=function(){return n},n}function O(){var n=Object(u.a)(["\n  query getPoems($offset: Int, $limit: Int) {\n    poemPages(offset: $offset, limit: $limit) {\n      edges {\n        ...PoemDetails\n      }\n    }\n  }\n  ","\n"]);return O=function(){return n},n}function k(){var n=Object(u.a)(["\n  query getSinglePoem($id: ID!) {\n    poem(id: $id) {\n      ...PoemDetails\n    }\n    current {\n      id\n    }\n  }\n  ","\n"]);return k=function(){return n},n}function w(){var n=Object(u.a)(["\n  query getRandomBook {\n    randomBook {\n      id\n      title\n      text\n    }\n  }\n"]);return w=function(){return n},n}function y(){var n=Object(u.a)(["\n  fragment PoemDetails on PoemType {\n    id\n    backgroundId\n    colorRange\n    createdAt\n    updatedAt\n    author {\n      id\n      username\n    }\n    book {\n      id\n      title\n    }\n    textChunks {\n      text\n      isSelected\n    }\n  }\n"]);return y=function(){return n},n}var I=Object(g.gql)(y()),C=Object(g.gql)(w());var N=Object(g.gql)(k(),I);function P(n){return g.useQuery(N,n)}var S=Object(g.gql)(O(),I);var z=Object(g.gql)(v(),I);var L=Object(g.gql)(f());var M=Object(g.gql)(x(),I);var B=Object(g.gql)(h());var R=Object(g.gql)(j());var D=Object(g.gql)(m());function $(n){n.authorId;var e,t=n.poemId,a=(e={variables:{id:t},update:function(n,e){window.location.reload()}},g.useMutation(B,e)),c=Object(b.a)(a,1)[0];return Object(r.jsx)("span",{className:"delete-edit-links",children:Object(r.jsxs)("span",{children:[Object(r.jsx)("a",{href:"#",onClick:function(){return window.confirm("Are you sure you want to delete your poem?")&&c()},children:"delete"})," / ",Object(r.jsx)(p.b,{to:"/edit/write/".concat(t),children:"edit"})]})})}var W=t(21),Z=5,H=15,U=250,A=600,q=16,_=26,T=120,J="425px",V="768px",G="#bbb",E="#333",Q="#e0e0e0",K="#757575",X="#212121";function F(){var n=Object(u.a)(["\n  width: ","px;\n  &.close-up {\n    width: ","px;\n  }\n  text-align: right;\n  position: relative;\n  z-index: 20;\n  background: black;\n\n  .delete-edit-links {\n    float: left;\n  }\n"]);return F=function(){return n},n}var Y=W.a.div(F(),U,2*U);function nn(n){var e=n.authorId,t=n.poemId;return Object(r.jsxs)(Y,{className:"poem-header",children:[Object(r.jsx)($,Object(c.a)({},{authorId:e,poemId:t})),t&&Object(r.jsx)(p.b,{to:"/poem/".concat(t),"data-cy":"view-close-up-poem",children:"view"})]})}var en=t.p+"static/media/paper-rect-contrast.e66685ca.jpg",tn=t.p+"static/media/tree-bark.32958e04.jpg",rn=t.p+"static/media/contemporary_china_small.de76a51e.png",an=t.p+"static/media/4345189-xs.488cc791.jpg",cn=t.p+"static/media/f0c4457.f1a0d7a4.jpg",on=t.p+"static/media/maxresdefault.4be2421c.jpg",sn=t.p+"static/media/blueTile.b092c647.jpg",dn=t.p+"static/media/life_original_wild_urban_shells_abstract_texture_love-572258.16701eac.jpg",ln=t.p+"static/media/painting-cracks.aef5b50c.jpg",un=t.p+"static/media/Alcala_lg.fae98355.jpg",bn=t.p+"static/media/map2.3c916e96.jpg",pn=t.p+"static/media/blue.9dcb9750.jpg",gn=t.p+"static/media/triangles-123.3dd0203b.jpg",mn=t.p+"static/media/1_mU0yXR99Bg91S1ACSyPq_w.1960b2a2.jpg";function jn(){var n=Object(u.a)(["\n  ",";\n  &.close-up {\n    margin: auto;\n    display: block;\n    width: ","px;\n    font-size: ","px;\n    .background-img {\n      width: ","px;\n      height: ","px;\n    }\n    .poem-header, .poem-footer {\n      font-size: ","px;\n    }\n  }\n  .poem-header, .poem-text, .poem-footer {\n    padding-left: .5em;\n    padding-right: .5em;\n  }\n  .poem-header, .poem-footer {\n    width: 100%;\n    background: rgba(0, 0, 0, 0);\n    color: ",";\n    font-size: ","px;\n    a {\n      color: ",";\n      &:hover {\n        color: white;\n      }\n    }\n  }\n  width: ",'px;\n  margin: 1em;\n  display: inline-block;\n  vertical-align: text-top;\n  text-align: center;\n  position: relative; /* for absolute overflow styles */\n  overflow: hidden;\n\n  .background-img {\n    content: "";\n    background: url(',");\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    z-index: -10;\n    top: 0;\n    left: 0;\n  }\n\n  .is-selected {\n    position: relative; /* for zindex */\n    background: yellow;\n  }\n  .not-selected {\n    color: rgba(0, 0, 0, 0.2);\n  }\n\n  /* @include mobile {\n    width: 100%;\n  } */\n\n  &.style-1 {\n    .background-img {\n      filter: contrast(1.2);\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0.1);\n      text-shadow: ",' 0 0 0.2em;\n    }\n    .is-selected {\n      text-shadow: black 1px 1px 1px;\n      background: none;\n    }\n  }\n\n  &.style-2 {\n    .background-img {\n      filter: contrast(1.2);\n    }\n    .not-selected {\n      opacity: 0;\n    }\n    .is-selected {\n      background: none;\n    }\n  }\n\n  &.style-3 {\n    .background-img {\n      filter: invert(100%);\n    }\n    .not-selected {\n      opacity: .2;\n    }\n    .is-selected {\n      background: none;\n      color: white;\n    }\n  }\n\n  &.style-4 {\n    background: white;\n    .is-selected {\n      background: pink;\n      &:before {\n        content: "";\n        position: absolute;\n        height: 1.2em;\n        width: 1000px;\n        border: .2em solid;\n        margin: -.1em;\n        margin-left: -.3em;\n        z-index: 11;\n      }\n    }\n  }\n\n  &.style-5 {\n    .background-img {\n      background: white;\n    }\n    .not-selected {\n      color: black;\n      border-top: solid 0.1em;\n      border-bottom: solid 0.1em;\n      text-decoration: line-through;\n    }\n    .is-selected {\n      background: white;\n      padding: ',"px ","px;\n      margin: ","px;\n      box-shadow: black 0.2em 0.2em 0;\n    }\n  }\n\n  &.style-6 {\n    .not-selected {\n      background: rgba(0,0,0, .75);\n    }\n    .is_selected {\n      background: white !important;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-7 {\n    .background-img {\n      background: url(",");\n      background-size: 20%;\n    }\n    .is-selected {\n      background: none !important;\n      text-shadow: black 0.05em 0.02em 0;\n    }\n  }\n\n  &.style-8 {\n    .background-img {\n      background: url(",");\n    }\n    .is-selected {\n      color: white;\n      background: red;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-9 {\n    .background-img {\n      background: url(",");\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #3e144c;\n      color: #cccbbf;\n      padding: ","px ","px;\n      margin: ","px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-10 {\n    .background-img {\n      background: url(",");\n      background-size: 100%;\n    }\n    .not-selected {\n      color: rgba(255, 255, 255, .2);\n    }\n    .is-selected {\n      background: none;\n      color: white;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-11 {\n    .background-img {\n      background: url(",");\n      background-size: 100%;\n      opacity: .5;\n    }\n    .is-selected {\n      background: #000068;\n      color: #cccbbf;\n      padding: ","px ","px;\n      margin: ","px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-12 {\n    .background-img {\n      background: url(",");\n      background-size: 80%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: #0091ae;\n      color: #e7b8bc;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-13 {\n    .background-img {\n      background: url(",");\n      background-size: 120%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: none;\n      color: white;\n      padding: ","px ","px;\n      margin: ","px;\n      text-shadow: white 1px 1px 1px;\n    }\n  }\n\n  &.style-14 {\n    .background-img {\n      background: url(",");\n      background-size: 20%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: #8f1660;\n      color: #ebe8ce;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-15 {\n    .background-img {\n      background: url(",");\n      filter: darken(6);\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #2c3c4e;\n      color: #cccbbf;\n      padding: ","px ","px;\n      margin: ","px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-16 {\n    .background-img {\n      background: url(",");\n      background-repeat: repeat-y;\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #f7ffa9;\n      color: #499991;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-17 {\n    .background-img {\n      background: url(",");\n      background-repeat: repeat-y;\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #380b1c;\n      color: #d2d4d1;\n      padding: ","px ","px;\n      margin: ",'px;\n    }\n  }\n\n  &.style-18 {\n    .background-img {\n      background: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjAiIGhlaWdodD0iMzAiPgo8ZGVmcz4KPHJlY3QgaWQ9InIiIHdpZHRoPSIzMCIgaGVpZ2h0PSIxNSIgZmlsbD0iI2JiMDg1ZiIgc3Ryb2tlLXdpZHRoPSIyLjUiIHN0cm9rZT0iIzdhMDU0ZCI+PC9yZWN0Pgo8ZyBpZD0icCI+Cjx1c2UgeGxpbms6aHJlZj0iI3IiPjwvdXNlPgo8dXNlIHk9IjE1IiB4bGluazpocmVmPSIjciI+PC91c2U+Cjx1c2UgeT0iMzAiIHhsaW5rOmhyZWY9IiNyIj48L3VzZT4KPHVzZSB5PSI0NSIgeGxpbms6aHJlZj0iI3IiPjwvdXNlPgo8L2c+CjwvZGVmcz4KPHVzZSB4bGluazpocmVmPSIjcCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMjUpIHNrZXdZKDQwKSI+PC91c2U+Cjx1c2UgeGxpbms6aHJlZj0iI3AiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwIDApIHNrZXdZKC00MCkiPjwvdXNlPgo8L3N2Zz4=");\n      background-size: 100%;\n    }\n    .is-selected {\n      background: white;\n      color: black;\n      padding: ',"em ","em;\n      margin: ","em ","em;\n      .text {\n        z-index: 11;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-19 {\n    .background-img {\n      background: url(",");\n      background-position-x: 60%;\n      background-position-y: 70%;\n    }\n    .is-selected {\n      background: black;\n      padding: 5px 15px;\n      margin: -15px;\n      color: #61c098;\n      padding: ","px ","px;\n      margin: ","px;\n    }\n  }\n\n  &.style-20 {\n  .background-img {\n    background: url(",");\n    background-size: 8%;\n  }\n  .not-selected {\n    color: rgba(0, 0, 0, 0);\n  }\n  .is-selected {\n    background: white;\n    color: #008308;\n    padding: 0 ","px;\n    margin: 0 ","px;\n  }\n"]);return jn=function(){return n},n}function hn(){var n=Object(u.a)(['\n  line-height: 1em;\n  height: 25em; /* 25 lines */\n  overflow: hidden;\n  font-family: "Garamond", serif;\n  font-weight: 400;\n  padding-bottom: 0.3em;\n  padding-top: 1.5em;\n  padding-bottom: 1.5em;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n']);return hn=function(){return n},n}for(var xn=W.a.div(hn()),fn="",vn=0;vn<36;)vn++,fn+="\n    &.color-".concat(vn," .background-img, &.color-").concat(vn," .poem-text {\n      filter: hue-rotate(").concat(10*vn,"deg);\n    }\n  ");var On=W.a.div(jn(),fn,2*U,2*q,2*U,2*A,1.5*q,G,q,K,U,en,U,A,Q,Z,Z,-Z,Z,H,-H,rn,tn,Z,H,-H,ln,Z,H,-H,cn,Z,H,-H,an,Z,H,-H,mn,Z,H,-H,on,Z,H,-H,sn,Z,H,-H,dn,Z,H,-H,gn,Z,H,-H,un,Z,H,-H,.1,.3,-.1,-.3,bn,Z,H,-H,pn,Z,-Z),kn=function(n){var e=n.isSelected,t=n.text;return Object(r.jsx)("span",{className:e?"is-selected":"not-selected",children:Object(r.jsx)("span",{className:"text",children:t})})};function wn(n){var e=n.textChunks;return Object(r.jsx)(xn,{className:"poem-text",children:e&&e.map((function(n,e){return Object(r.jsx)(kn,Object(c.a)({},n),e)}))})}var yn=function(n){var e=n.username,t=n.userId;return Object(r.jsx)("div",{className:"username","data-cy":"usernameLink",children:Object(r.jsx)(p.b,{to:"/user/".concat(t),children:e})})};function In(n){var e=n.authorUsername,t=n.authorId;return Object(r.jsx)("div",{className:"poem-footer",children:Object(r.jsx)(yn,{userId:t,username:e})})}function Cn(){var n=Object(u.a)(['\n  display: inline-block;\n  width: 64px;\n  height: 64px;\n  &:after {\n    content: " ";\n    display: block;\n    width: 46px;\n    height: 46px;\n    margin: 1px;\n    border-radius: 50%;\n    border: 5px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: lds-dual-ring 1.2s linear infinite;\n  }\n  @keyframes lds-dual-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n']);return Cn=function(){return n},n}var Nn=W.a.div(Cn());function Pn(n){var e=n.poem;if(!e)return Object(r.jsx)("div",{className:"poem",children:Object(r.jsx)(Nn,{})});var t=e.id,a=e.backgroundId,c=e.colorRange,o=e.textChunks,i=e.author;return i.id?Object(r.jsxs)(On,{className:"poem style-".concat(a," color-").concat(c," ").concat(n.closeUp?"close-up":""),"data-test":"poem".concat(t),"data-cy":"poem",children:[Object(r.jsx)("div",{className:"background-img"}),Object(r.jsx)(nn,{poemId:t,authorId:i.id}),Object(r.jsx)(wn,{textChunks:o}),Object(r.jsx)(In,{authorUsername:i.username,authorId:i.id})]}):null}function Sn(){var n=Object(u.a)(["\n  .close-up-poem-view {\n    text-align: center;\n    width: ",";\n    margin: auto;\n    text-align: center;\n    .poem {\n      margin: 0;\n      width: ",";\n    }\n  }\n  .help-image {\n    background: url(",");\n    width: 100px;\n    height: 100px;\n  }\n"]);return Sn=function(){return n},n}var zn=t(131),Ln=W.a.div(Sn(),2*U,2*U,zn);function Mn(){var n=P({variables:{id:Object(l.g)().id}}),e=n.data;return n.loading?Object(r.jsx)(Nn,{}):Object(r.jsx)(Ln,{children:Object(r.jsx)(Pn,{poem:e.poem,closeUp:!0})})}var Bn=t(108),Rn=t.n(Bn);function Dn(){var n=Object(u.a)(["\n  margin: auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  grid-gap: 10px;\n  > div {\n    text-align: center;\n    margin-left: -2rem;\n    margin-right: -2rem;\n  }\n"]);return Dn=function(){return n},n}function $n(){var n=Object(u.a)(["\n  width: 250px;\n  height: 450px;\n  margin: 16px;\n  background: #ddd;\n  display: inline-block;\n"]);return $n=function(){return n},n}W.a.div($n());var Wn=W.a.div(Dn());function Zn(n){var e=n.poems,t=n.fetchMore;return Object(r.jsx)(Wn,{children:Object(r.jsx)(Rn.a,{loadMore:function(n){return t({variables:{offset:10*n,limit:10}})},hasMore:!(e.edges.length%10),loader:Object(r.jsx)(Nn,{}),children:e&&e.edges.map((function(n){return Object(r.jsx)(Pn,{poem:n},n.id)}))})})}function Hn(){var n,e=(n={variables:{limit:10}},g.useQuery(S,n)),t=e.data,a=e.fetchMore;return t?Object(r.jsxs)("div",{className:"index-view",children:[Object(r.jsx)("h5",{children:"Browse through all the communities poems!"}),Object(r.jsx)(Zn,Object(c.a)({},{poems:t.poemPages,fetchMore:a}))]}):Object(r.jsx)(Nn,{})}var Un=t(109),An=t.n(Un),qn=function(n){var e,t=n.id,a=(e={variables:{id:t}},g.useQuery(D,e)).data;if(!a)return Object(r.jsx)(Nn,{});var c=a.current,o=a.user,i=(null===c||void 0===c?void 0:c.id)===o.id?"you":"they",s=o&&o.poemsWrittenCount,d=o&&An()(o.dateJoined).fromNow();return Object(r.jsxs)("div",{className:"mx-3",children:[Object(r.jsx)("h1",{children:o&&o.username}),Object(r.jsxs)("div",{children:["Poems Written: ",Object(r.jsx)("strong",{children:s})]}),Object(r.jsxs)("div",{children:["Signed Up: ",Object(r.jsx)("strong",{children:d})]}),Object(r.jsxs)("h5",{children:["Look at all the lovely poems ",i," have written!"]})]})};function _n(n){var e,t=n.authorId,a=(e={variables:{authorId:t,limit:10}},g.useQuery(z,e)),c=a.data,o=a.fetchMore;return c?Object(r.jsx)(Zn,{poems:c.poemPages,fetchMore:o}):Object(r.jsx)(Nn,{})}function Tn(){var n=Object(l.g)().id;return Object(r.jsxs)("div",{className:"index-view",children:[Object(r.jsx)(qn,{id:n}),Object(r.jsx)(_n,{authorId:n})]})}var Jn=function(){return Object(r.jsxs)("svg",{viewBox:"0 0 380.5 128.1",style:{minWidth:"5rem"},children:[Object(r.jsx)("path",{d:"M29.8,0c11.3,0,23,0.2,33.8,3.9c26.7,10.4,35.1,41,23,65.9C75.2,90.2,50.9,92.9,29.8,92.9h-23v31.8c0,4.5-6.7,4.6-6.7,0V3.5 C0,0.9,2.6,0,4.8,0H29.8z M6.7,6.5v79.9h24.7c17.6,0,38.6-2.2,49-18.4V68C87.9,54.8,88,35,78.9,22.5C68.7,8.4,49,6.5,33.1,6.5H6.7z"}),Object(r.jsx)("path",{d:"M114,69.3c28.2,0,28.1,43.6,0,43.6C86,112.8,85.8,69.3,114,69.3z M114,75.7c-19.9,0-19.8,30.6,0,30.7 C133.6,106.5,133.6,75.7,114,75.7z"}),Object(r.jsx)("path",{d:"M150.5,93.3c0.9,9.9,10.5,14.9,19.7,12.5c4.2-1.1,6.6-4.8,10.4-6.1c3.7-1.3,6.6,2.4,3.5,5.5c-8,8-21.6,10.7-31.3,4.1 c-9.1-6.1-11.2-19.7-6.3-29.1c5-9.5,17.2-13.7,27.1-9.5c4.9,2.1,9,6,11.2,10.9c1.5,3.4,3.9,11.7-2.1,11.7H150.5z M179.7,87 c-3.4-14.8-25.7-15.1-28.9-0.1L179.7,87z"}),Object(r.jsx)("path",{d:"M206.6,76.1c0,0.3,0,0.7-0.1,1c6.4-5.2,24-14.1,27.2-0.6c9.3-6.9,28.4-13.1,28.4,4.6v27.7c0,4.3-6.5,4.6-6.5,0V84.3 c0-3.9,0.1-7.9-4.5-8.6c-5.8-0.9-12.9,5.2-17.1,8.3v24.8c0,4.3-6.4,4.6-6.4,0v-23c0-4.1,0.2-9.6-5-10.1c-5.6-0.5-12.4,6.2-16.3,9.5 v23.6c0,4.3-6.4,4.6-6.4,0V72.7c0-1.8,1.3-3.6,3.3-3.4C206.5,69.6,206.6,73.7,206.6,76.1z"}),Object(r.jsx)("path",{d:"M284.8,39.7c6.5,0,6.5,10.2,0,10.2C278.2,49.9,278.3,39.7,284.8,39.7z M288,108.8c0,4.2-6.4,4.5-6.4,0V72.7 c0-4.3,6.4-4.6,6.4,0.1V108.8z"}),Object(r.jsx)("path",{d:"M311,105.3c6.9,2.6,16.4-2.8,6.8-7.6c-7.6-3.8-16.1-5.6-13.6-16.4c2-8.6,11.2-12.8,19.4-11.9c2.6,0.3,8.6,1.4,9.3,4.6 c0.7,3.6-2.8,4.2-5.5,3.1h0.1c-5.7-2.5-20.6-1-17.3,8.8c2.2,6.5,13.4,5.1,17.1,10.8c5.6,8.6-3.8,16.6-12.1,16.1 c-2.6-0.2-8.3-1-9.4-3.7c-1.2-3,2.4-6.5,5-3.9L311,105.3z"}),Object(r.jsx)("path",{d:"M356.4,95.5c0,8.2,5.1,14,13.5,9.5c2.4-1.3,4.9-5.7,7.5-5.8c3.1,0,4,3.6,2,5.6l0.1-0.1c-4.4,6.4-12.3,9.4-19.9,7.6 c-8.1-2-9.8-9.4-9.6-16.8l0.3-18.9h-10.2c-4.2,0-4.5-6.3,0-6.3h10.4l0.9-28.7c0.2-4.3,6.3-4.5,6.3,0L357,70.3h16 c4.1,0,4.4,6.3,0,6.3h-16.2C356.8,82.9,356.4,89.2,356.4,95.5z"})]})};function Vn(){var n=Object(u.a)(["\n  li {\n    display: inline-block;\n    margin: ","px;\n  }\n  text-align: right;\n  position: fixed;\n  top: 0;\n  z-index: 30;\n  background: ",";\n  color: ",";\n  width: 100%;\n  padding: ","px;\n  height: ","px;\n\n  a {\n    color: ",";\n  }\n\n  .active {\n    color: white;\n  }\n\n  .navbarMenu {\n    margin-bottom: 0;\n    padding-left: 0;\n    /* background: $dark-grey; */\n\n    /* @include mobile {\n        li {\n          display: block;\n        }\n      } */\n  }\n  .hamburger {\n    display: none;\n\n    /* @include mobile {\n        display: block;\n      } */\n  }\n\n  .hidden-xs {\n    /* @include mobile {\n        display: none;\n      } */\n  }\n\n  .logo {\n    float: left;\n    margin: ","px;\n    svg {\n      max-width: 13rem;\n      width: calc(100vw - 420px);\n      fill: ",";\n    }\n  }\n\n  @media (max-width: ",") {\n    .logo {\n      margin: 0;\n    }\n    .navbar {\n      padding: 0;\n    }\n  }\n  @media (max-width: ",") {\n    .logo {\n      margin: 0;\n    }\n    .navbar {\n      padding: 0;\n    }\n  }\n"]);return Vn=function(){return n},n}var Gn=W.a.div(Vn(),H,E,G,H,T,G,H,G,J,V),En=t(165),Qn=t(166),Kn=function(n){var e=n.toggleShowLogin;return Object(r.jsx)("span",{children:Object(r.jsx)("a",{onClick:e,"data-test":"signUpLink",children:"Sign Up"})})};function Xn(){var n,e=Object(l.f)(),t=g.useQuery(R,n).data,a=null===t||void 0===t?void 0:t.current;return Object(r.jsxs)("div",{className:"navbar",style:{display:"inline-block",minWidth:345,marginRight:"-1rem"},children:[Object(r.jsx)("div",{}),Object(r.jsxs)("ul",{className:"navbarMenu expanded",children:[Object(r.jsx)("li",{children:Object(r.jsx)(p.c,{activeClassName:"active",exact:!0,to:"/",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(p.c,{activeClassName:"active",to:"/about",children:"About"})}),Object(r.jsx)("li",{children:Object(r.jsx)(p.c,{activeClassName:"active",to:"/new/write",children:"Create"})}),a&&Object(r.jsxs)("li",{children:[Object(r.jsx)(p.c,{activeClassName:"active",to:"/user/".concat(a.id),"data-test":"profileLink",children:"Profile"}),Object(r.jsxs)(En.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",children:[Object(r.jsx)(Qn.a,{onClick:function(){return e.push("/user/".concat(a.id))},children:a.username}),Object(r.jsx)(Qn.a,{onClick:function(){localStorage.clear()},children:"Logout"})]})]}),!a&&Object(r.jsx)("li",{children:Object(r.jsx)(Kn,{toggleShowLogin:function(){return e.push("?showLogin=true")}})})]})]})}function Fn(){return Object(r.jsxs)(Gn,{children:[Object(r.jsx)(p.c,{to:"/",className:"logo",children:Object(r.jsx)(Jn,{})}),Object(r.jsx)(Xn,{})]})}function Yn(){var n=Object(u.a)(["\n  @media (max-width: 550px) {\n    min-width: 550px;\n    .poem {\n      margin: 0.2em;\n    }\n    /* .close-up-poem-view {\n      min-width: 550px;\n    } */\n  }\n  .app {\n    font-size: ",';\n    font-family: "Avenir Next", sans-serif;\n  }\n\n  .page-body {\n    padding: ',"px;\n    margin-top: ","px;\n    text-align: center;\n  }\n\n  .index-view {\n    text-align: left;\n  }\n\n  .error {\n    color: red;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    text-align: center;\n  }\n\n  a:hover {\n    cursor: pointer;\n  }\n"]);return Yn=function(){return n},n}var ne=W.a.div(Yn(),q,H,T);function ee(n){var e=n.children;return Object(r.jsxs)(ne,{children:[Object(r.jsx)(Fn,{}),Object(r.jsx)("div",{className:"page-body",children:e})]})}function te(){var n=Object(u.a)(["\n  text-align: left;\n  max-width: 800px;\n  margin: auto;\n"]);return te=function(){return n},n}var re=W.a.div(te());function ae(){return Object(r.jsxs)(re,{className:"about",children:[Object(r.jsx)("h1",{children:"About"}),Object(r.jsx)("p",{children:Object(r.jsxs)("i",{children:["A ",Object(r.jsx)("strong",{children:"found poem"})," is a poem that is composed with words and phrases from another text."]})}),Object(r.jsxs)("section",{children:[Object(r.jsx)("p",{children:"It may seem limiting to choose words only from a prearranged set, but limitations are one of the best drives of creativity."}),Object(r.jsx)("p",{children:"For the sake of this website there are a set of very specific constraints on each poem."}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"You will recieve exactly 40 lines of text"}),Object(r.jsx)("li",{children:"You may select any words or letters from this text to create your poem"}),Object(r.jsx)("li",{children:"You cannot rearrange them"})]}),Object(r.jsx)("p",{children:"The poems are meant to be a fun exercise not a throughout masterpiece, so don't spend too much time on each one. Churn out a few and discover moments of accidental brilliance and insight, or simply silliness. Take the stress and pressure out of writing and just have fun!"}),Object(r.jsx)("h4",{children:"Contact"}),Object(r.jsx)("p",{children:"We would love to hear from you!"}),Object(r.jsx)("p",{children:"Direct any comments or questions to poemistnet@gmail.com."})]})]})}var ce=t(70),oe=t(71),ie=t(75),se=t(74),de=t(39),le=t(76),ue=t(48);var be=function(n){var e=Object(ue.flatten)(n),t=!1,r=[],a="";return e.forEach((function(n){n.isSelected!==t?(a&&r.push({text:a,isSelected:t}),a=n.ch,t=!t):a+=n.ch})),a&&r.push({text:a,isSelected:t}),r};function pe(n){var e=n.poem,t=n.children,a=e.id,c=e.textChunks,o=e.backgroundId,i=e.colorRange,s=e.book,d=null===s||void 0===s?void 0:s.id;c=e.wordLetters?be(e.wordLetters):c.map((function(n){n.__typename;return Object(le.a)(n,["__typename"])}));var l,u=(l={variables:{id:a,textChunks:c,backgroundId:o,colorRange:i}},g.useMutation(M,l)),p=Object(b.a)(u,1)[0],m=function(n){return g.useMutation(L,n)}({variables:{textChunks:c,bookId:d}}),j=Object(b.a)(m,1)[0];return Object(r.jsx)("div",{children:t({savePoem:a?p:j})})}function ge(){var n=Object(u.a)(["\n  text-align: left;\n  position: fixed;\n  left: calc(50vw + 250px);\n  top: 18rem;\n  width: 170px;\n  @media (max-width: ",") {\n    width: ","px;\n    left: calc(50vw - 250px);\n    bottom: 0;\n    top: auto;\n    z-index: 10;\n    .toolbar-tab {\n      display: inline-block;\n      width: 50%;\n      border: "," solid !important;\n      font-size: ","px !important;\n      margin: 0 !important;\n    }\n    .lower {\n      font-size: ","px !important;\n    }\n  }\n  @media (max-width: 550px) {\n    left: 0;\n    width: 100%;\n  }\n\n  .toolbar {\n    margin-left: ","px;\n    margin-top: ","px;\n    font-size: ","px;\n  }\n\n  .toolbar-tab {\n    font-size: ","px;\n    background: #333;\n    color: white;\n    margin: ","px 0;\n    text-align: left;\n    border: none;\n    cursor: pointer;\n\n    &-lg {\n      font-size: ","px;\n    }\n\n    button {\n      background: black;\n      color: white;\n      border: none;\n    }\n  }\n  button[disabled] {\n    background: #aaa;\n  }\n  .arrow-btn {\n    font-size: 2em !important;\n    cursor: pointer;\n  }\n  .text {\n    display: inline-block;\n    padding: 0.5em;\n  }\n"]);return ge=function(){return n},n}var me=W.a.div(ge(),V,2*U,X,1.5*q,2*q,2*U,3*H,_,q,Z,_);function je(n){var e=n.num,t=n.upperlimit;return e<0?t-1:e>t?e-t:e}var he=function(n){Object(ie.a)(t,n);var e=Object(se.a)(t);function t(){var n;Object(ce.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=e.call.apply(e,[this].concat(a))).backgroundUp=function(){var e=je({num:n.props.poem.backgroundId+1,upperlimit:20});n.props.updateStyle({backgroundId:e})},n.backgroundDown=function(){var e=je({num:n.props.poem.backgroundId-1,upperlimit:20});n.props.updateStyle({backgroundId:e})},n.colorUp=function(){var e=je({num:n.props.poem.colorRange+1,upperlimit:36});n.props.updateStyle({colorRange:e})},n.colorDown=function(){var e=je({num:n.props.poem.colorRange-1,upperlimit:36});n.props.updateStyle({colorRange:e})},n}return Object(oe.a)(t,[{key:"render",value:function(){var n=this,e=this.props.poem,t="/edit/write/".concat(e.id);return Object(r.jsxs)(me,{className:"style-toolbar toolbar",children:[Object(r.jsxs)("div",{className:"toolbar-tab",children:[Object(r.jsx)("button",{onClick:this.backgroundDown,className:"arrow-btn","data-ux":"background-id-down",children:Object(r.jsx)(de.a,{})}),Object(r.jsxs)("span",{className:"text",children:["Style ",e.backgroundId]}),Object(r.jsx)("button",{onClick:this.backgroundUp,className:"arrow-btn","data-ux":"background-id-up",style:{float:"right"},children:Object(r.jsx)(de.b,{})})]}),Object(r.jsxs)("div",{className:"toolbar-tab",children:[Object(r.jsx)("button",{onClick:this.colorDown,className:"arrow-btn","data-ux":"color-range-down",children:Object(r.jsx)(de.a,{})}),Object(r.jsxs)("span",{className:"text",children:["Color ",e.colorRange]}),Object(r.jsx)("button",{onClick:this.colorUp,className:"arrow-btn","data-ux":"color-range-up",style:{float:"right"},children:Object(r.jsx)(de.b,{})})]}),Object(r.jsx)("div",{className:"toolbar-tab lower",onClick:function(){n.props.history.push(t)},children:Object(r.jsxs)("span",{className:"text",children:[Object(r.jsx)(de.c,{})," Back"]})}),Object(r.jsx)(pe,{poem:e,children:function(e){var t=e.savePoem;return Object(r.jsx)("button",{onClick:function(){t().then((function(){n.props.history.push("/"),window.location.reload()}))},className:"toolbar-tab toolbar-tab-lg lower","data-test":"saveLink",children:Object(r.jsxs)("span",{className:"text",children:["Finish ",Object(r.jsx)(de.d,{})]})})}})]})}}]),t}(i.a.PureComponent),xe=Object(l.h)(he);function fe(){var n=P({variables:{id:Object(l.g)().id}}).data,e=Object(o.useState)(null===n||void 0===n?void 0:n.poem),t=Object(b.a)(e,2),a=t[0],i=t[1];if(Object(o.useEffect)((function(){i(null===n||void 0===n?void 0:n.poem)}),[null===n||void 0===n?void 0:n.poem]),!a)return Object(r.jsx)(Nn,{});return Object(r.jsxs)("div",{className:"close-up-poem-view text-center",children:[Object(r.jsx)("h1",{children:"Stylize"}),Object(r.jsx)(xe,Object(c.a)({},{poem:a,updateStyle:function(n){var e=n.backgroundId,t=n.colorRange;e&&i(Object(c.a)(Object(c.a)({},a),{},{backgroundId:e})),t&&i(Object(c.a)(Object(c.a)({},a),{},{colorRange:t}))}})),Object(r.jsx)(Pn,{poem:a,closeUp:!0})]})}var ve=function(n){var e=n.textChunks,t=n.passage;if(t)e=[{text:t,isSelected:!1}];else if(!e)return[];var r,a=[];return e.forEach((function(n){var e=function(n){var e=[],t="";return n.split("").forEach((function(n){t+=n," "!==n&&"-"!==n||(e.push(t),t="")})),e.push(t),e}(n.text).map((function(e){return Object(ue.map)(e,(function(e){return{ch:e,isSelected:n.isSelected}}))}));a=r===n.isSelected?a[a.length-1].concat(e):a.concat(e),r=n.isSelected})),a},Oe=t(72);var ke=function(n){var e=n.wordLetters,t=n.wordIdx,r=n.letterIdx,a=n.isSelectingByWord;return Object(Oe.a)(e,(function(n){if(a){if(!n[t])return console.warn("Word out of range, tried to access ".concat(t," of ").concat(n.flatMap.length)),n;var e=!n[t][r].isSelected;return n[t].forEach((function(n){n.isSelected=e})),n}return n[t][r].isSelected=!n[t][r].isSelected,n}))};var we=function(n){var e=n.handleClear,t=n.getNewPassage,a=n.toggleSelectBy,c=n.toggleRandomLetters,o=n.selectablePoem,i=(Object(le.a)(n,["handleClear","getNewPassage","toggleSelectBy","toggleRandomLetters","selectablePoem"]),Object(l.f)()),s=o.wordLetters.every((function(n){return n.every((function(n){return!n.isSelected}))}));return Object(r.jsxs)(me,{className:"writer-toolbar toolbar",children:[Object(r.jsx)("button",{className:"toolbar-tab",onClick:a,"data-ux":"toggle-select-by",children:Object(r.jsx)("span",{className:"text",children:o.isSelectingByWord?"select by letter?":"select by word?"})}),!o.id&&Object(r.jsx)("button",{className:"toolbar-tab",onClick:function(){return t()},"data-ux":"get-new-passage",children:Object(r.jsx)("span",{className:"text",children:"new passage?"})}),!o.id&&Object(r.jsx)("button",{className:"toolbar-tab",onClick:s?c:e,"data-ux":"get-new-passage",children:Object(r.jsx)("span",{className:"text",children:s?"nudge":"clear"})}),Object(r.jsx)(pe,{poem:o,children:function(n){var e=n.savePoem;return Object(r.jsxs)("button",{onClick:function(){return e().then((function(n){var e=(n.data.updatePoem||n.data.createPoem).poem.id;i.push("/edit/stylize/".concat(e))}))},className:"toolbar-tab toolbar-tab-lg","data-test":"styleLink",children:[Object(r.jsx)("span",{className:"text",children:"Next"})," ",Object(r.jsx)(de.d,{})]})}})]})},ye=function(n){var e=n.isSelected,t=n.ch,a=n.letterIdx,c=n.handleClickLetter;return Object(r.jsx)("span",{className:"letter ".concat(e?"is":"not","-selected"),"data-idx":a,onClick:c,children:t})},Ie=function(n){var e=n.word,t=n.wordIdx,a=n.handleClickLetter;return Object(r.jsx)("span",{className:"word","data-word-idx":t,children:e.map((function(n,e){var o=n.ch,i=n.isSelected;return Object(r.jsx)(ye,Object(c.a)(Object(c.a)({},{ch:o,isSelected:i,letterIdx:e}),{},{handleClickLetter:function(){return a({wordIdx:t,letterIdx:e})}}),"".concat(t).concat(e))}))})};function Ce(){var n=Object(u.a)(["\n  .letter {\n    cursor: pointer;\n  }\n\n  .selecting-by-word .word:hover .letter,\n  .selecting-by-letter .letter:hover {\n    /* background: rgba(255, 255, 0, .7); */\n    color: cyan;\n    &.is-selected {\n      color: red;\n    }\n  }\n"]);return Ce=function(){return n},n}var Ne=W.a.div(Ce());function Pe(n){var e=n.wordLetters,t=n.isSelectingByWord,a=n.handleClickLetter;return Object(r.jsx)(On,{className:"poem close-up",children:Object(r.jsx)(Ne,{children:Object(r.jsxs)(xn,{className:"poem-body",children:[Object(r.jsx)("div",{className:"background-img"}),Object(r.jsx)("div",{className:t?"selecting-by-word":"selecting-by-letter",children:e.map((function(n,e){return Object(r.jsx)(Ie,{word:n,wordIdx:e,handleClickLetter:a},e)}))})]})})})}var Se=function(n){Object(ie.a)(t,n);var e=Object(se.a)(t);function t(){var n;Object(ce.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=e.call.apply(e,[this].concat(a))).state=n.props.selectablePoem,n.handleClickLetter=function(e){var t=e.wordIdx,r=e.letterIdx,a=n.state,c=a.wordLetters,o=a.isSelectingByWord,i=ke({wordLetters:c,wordIdx:t,letterIdx:r,isSelectingByWord:o});n.setState({wordLetters:i})},n.handleClear=function(){n.setState(n.props.selectablePoem)},n.toggleSelectBy=function(){n.setState({isSelectingByWord:!n.state.isSelectingByWord})},n.toggleRandomLetters=function(){for(var e=0,t=n.state.wordLetters;e<10;)e++,t=ke({wordLetters:t,wordIdx:Object(ue.random)(0,100),letterIdx:0,isSelectingByWord:!0});n.setState({wordLetters:t})},n}return Object(oe.a)(t,[{key:"render",value:function(){var n=this;return Object(r.jsxs)("div",{className:"close-up-poem-view text-center",onKeyPress:function(e){e.shiftKey&&n.toggleSelectBy()},children:[Object(r.jsx)("h1",{children:this.props.selectablePoem.id?"Edit":"Write"}),Object(r.jsx)("h5",{children:"Make your own poem by clicking on words!"}),Object(r.jsx)(we,{selectablePoem:this.state,getNewPassage:this.props.getNewPassage,handleClear:this.handleClear,toggleSelectBy:this.toggleSelectBy,toggleRandomLetters:this.toggleRandomLetters}),Object(r.jsx)(Pe,Object(c.a)(Object(c.a)({},this.state),{},{wordLetters:this.state.wordLetters,handleClickLetter:this.handleClickLetter}))]})}}],[{key:"getDerivedStateFromProps",value:function(n,e){return n.selectablePoem.book.id!==e.book.id?n.selectablePoem:e}}]),t}(i.a.PureComponent);function ze(){var n,e=Object(l.g)().id,t=P({variables:{id:e},skip:!e}).data,a=g.useQuery(C,n);if(!a.data)return Object(r.jsx)(Nn,{});var o=Object(c.a)(Object(c.a)({book:{id:a.data.randomBook.id,title:a.data.randomBook.title},author:{id:(null===t||void 0===t?void 0:t.current.id)||"1",username:""}},function(n){var e=ve({textChunks:n.textChunks});return Object(c.a)(Object(c.a)({},n),{},{wordLetters:e,isSelectingByWord:!0})}({textChunks:(null===t||void 0===t?void 0:t.poem.textChunks)||[{text:a.data.randomBook.text,isSelected:!1}]})),(null===t||void 0===t?void 0:t.poem)||{}),i=a.refetch;return Object(r.jsx)(Se,Object(c.a)({},{selectablePoem:o,getNewPassage:i}))}var Le=function(){return Object(r.jsx)(ee,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/",exact:!0,component:Hn}),Object(r.jsx)(l.a,{path:"/about",component:ae}),Object(r.jsx)(l.a,{path:"/edit/stylize/:id",component:fe}),Object(r.jsx)(l.a,{path:"/new/write",component:ze}),Object(r.jsx)(l.a,{path:"/edit/write/:id",component:ze}),Object(r.jsx)(l.a,{path:"/poem/:id",component:Mn}),Object(r.jsx)(l.a,{path:"/user/:id",component:Tn})]})})},Me=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,168)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,o=e.getTTFB;t(n),r(n),a(n),c(n),o(n)}))},Be=new g.ApolloClient({uri:"https://calm-lowlands-48993.herokuapp.com/graphql",cache:new g.InMemoryCache({typePolicies:{Query:{fields:{poemPages:{keyArgs:!1,merge:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{edges:[]},e=arguments.length>1?arguments[1]:void 0;if("DELETE"===e.type){var t=Object(Oe.a)(n.edges,(function(n){var t=n.findIndex((function(n){return n.id===e.payload.id}));n.splice(t,1)}));return t}return Object(c.a)(Object(c.a)({},e),{},{edges:[].concat(Object(a.a)(n.edges),Object(a.a)(e.edges))})}}}}}})});d.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(g.ApolloProvider,{client:Be,children:Object(r.jsx)(p.a,{children:Object(r.jsx)(Le,{})})})}),document.getElementById("root")),Me()}},[[134,1,2]]]);
//# sourceMappingURL=main.f29046b9.chunk.js.map